window.__require=function e(t,i,n){function a(s,r){if(!i[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({AdsHelper:[function(e,t,i){"use strict";cc._RF.push(t,"f49b04axSpLnK1YyD9auano","AdsHelper");var n=e("../common/enum/AdsPlace"),a=cc.Class({ctor:function(){},showPassAds:function(){game.adsManager.showInterstitial(n.Pass)},showBackgroundAds:function(){game.adsManager.showInterstitial(n.BackGround)},showBackHomeAds:function(){game.adsManager.showInterstitial(n.Home)},showRefreshAds:function(){game.adsManager.showInterstitial(n.Refresh)},onEnterBackground:function(){game.adsManager.setInterstitialShowed(n.BackGround)}});a.sharedDirector=null,a.firstUseDirector=!0,a.getInstance=function(){return a.firstUseDirector&&(a.firstUseDirector=!1,a.sharedDirector=new a),a.sharedDirector},t.exports=a,cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace"}],AdsManager:[function(e,t,i){"use strict";cc._RF.push(t,"7938d0hZARCmKGMcrMrUfol","AdsManager");var n=e("../enum/AdsPlace"),a=(cc.Class({onRewardedVideoFinished:function(e){},onInterstitialAdEnd:function(e){},onShowVideoAdBegin:function(){},onShowVideoAdEnd:function(){}}),function(e,t){this.interval=e,this.lastShowTime=Date.now(),this.levelLimit=t}),o=cc.Class({properties:{DEFAULT_AD_INTERVAL:6e4,LIMIT_LEVEL:4,ONE_MINUTE_SECOND:6e4,adConfigUrl:"",rateTime:0,ratedTime:0,rateRemoveAds:!1,adListener:null,showTopBanner:!0,topBannerDay:0,lastInterstitialTime:0,lastRewardedTime:0,enabledInterstitialAd:!0,popupLevelLimit:10,skinMaxPopCount:2,boxMaxPopCount:2,startLevelLimit:4,showRateUs:!1},ctor:function(){this.intervalMap={0:60,1:60,2:60,3:60},this.adPlaceMap={},cc.sys.isNative&&(jsb_dp.oneSdkBridge.onInterstitialAdFinished=this.onAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onVideoAdFinished=this.onVideoAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdBegin=this.onShowVideoAdBeginJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdEnd=this.onShowVideoAdEndJsb.bind(this));for(var e=1;e<=n.Num;++e)this.adPlaceMap[e]=new a(this.DEFAULT_AD_INTERVAL,this.LIMIT_LEVEL)},init:function(){this.initInterval(),this.adPlaceMap[n.FirstEnter].interval=0,this.logInterval("local")},initInterval:function(){cc.log("AdsManager initInterval");var e=game.playerMan.getRegisterDay(),t=this.intervalMap[e];if(!t){var i=Object.keys(this.intervalMap),a=i[i.length-1];cc.log("AdsManager init interval key:"+a),t=this.intervalMap[a]}t&&(this.adPlaceMap[n.Pass].interval=1e3*t)},loadRemoteData:function(){var e=game.config.getAdUrl();cc.log("AdsManager loadRemoteData:"+e);var t=this;game.httpManager.doGet(e,function(e,i){if(cc.log("AdsManager remote response:"+e+",text:"+i),!e)try{var a=JSON.parse(i);cc.sys.os===cc.sys.OS_ANDROID&&a&&a.androidConfig&&(a=a.androidConfig);var o=a.newIntervalMap;cc.log("AdsManager intervalMap:"+JSON.stringify(o)),cc.isUndefined(o)||(t.intervalMap=o,t.initInterval());var s=a.showTopBanner;cc.isUndefined(s)||(t.showTopBanner=s);var r=a.topBannerDay;cc.isUndefined(r)||(t.topBannerDay=r);var c=a.showFirstEnterAd;cc.isUndefined(c)||(t.showFirstEnterAd=c);var l=a.firstEnterShowAdDay;cc.isUndefined(l)||(t.firstEnterShowAdDay=l);var d=a.backToGroundInterval;cc.isUndefined(d)||(t.adPlaceMap[n.BackGround].interval=1e3*d);var h=a.backToHomeInterval;cc.isUndefined(h)||(t.adPlaceMap[n.Home].interval=1e3*h);var u=a.refreshInterval;cc.isUndefined(u)||(t.adPlaceMap[n.Refresh].interval=1e3*u);var p=a.popupLevelLimit;cc.isUndefined(p)||(t.popupLevelLimit=p);var g=a.skinMaxPopCount;cc.isUndefined(g)||(t.skinMaxPopCount=g);var m=a.boxMaxPopCount;cc.isUndefined(m)||(t.boxMaxPopCount=m);var f=a.startLevelLimit;cc.isUndefined(f)||(t.startLevelLimit=f);var _=a.showRateUs;cc.isUndefined(_)||(t.showRateUs=_);var y=a.nativeAdsConfig;y&&jsb_dp.oneSdkBridge.setNativeAdWeightConfig&&jsb_dp.oneSdkBridge.setNativeAdWeightConfig(JSON.stringify(y)),t.logInterval("server")}catch(e){cc.log("AdsManager error:"+e.message)}})},getRegisterDay:function(){return game.playerMan.getRegisterDay()},logInterval:function(e){cc.log("AdsManager "+e+" adPlaceMap:"+JSON.stringify(this.adPlaceMap)+",day:"+this.getRegisterDay()+",showTopBanner:"+this.showTopBanner+",topBannerDay:"+this.topBannerDay)},onGameOnShow:function(){},setAdListener:function(e){this.adListener=e},isRemovedAds:function(){return game.playerMan.player.removedAds},showBannerAds:function(e){cc.log("AdsManager showBannerAds:"+e),this.isRemovedAds()||cc.sys.isNative&&(this.isShowBannerAds(e)||jsb_dp.oneSdkBridge.showBannerAd(e))},removeBannerAds:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.removeBannerAd(e)},isShowBannerAds:function(e){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isShowBannerAd(e)},isShowNativeAd:function(e){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isShowNativeAd(e)},showInterstitial:function(e){if(this.enabledInterstitialAd&&!this.isRemovedAds()){var t=this.adPlaceMap[e];if(cc.log("AdsManager showInterstitial place:"+e+", interval:"+t.interval+",current interval:"+(Date.now()-t.lastShowTime)),!(Date.now()-t.lastShowTime<t.interval))if(t.levelLimit>game.playerMan.getLevel())cc.log("AdsManager showInterstitial level limit:"+t.levelLimit+", current level:"+game.playerMan.getLevel());else if(Date.now()-this.lastInterstitialTime<5e3)cc.log("AdsManager showInterstitial interval less than 5 seconds");else if(Date.now()-this.lastRewardedTime<5e3)cc.log("AdsManager showInterstitial rewarded video disable interstitial 5 seconds");else{t.lastShowTime=Date.now(),cc.log("AdsManager showInterstitial place:"+e+" showed"),this.lastInterstitialTime=Date.now();var i="default";e===n.Home?i="home":e===n.Refresh&&(i="refresh"),this.place=e,game.analyseManager.trackEvent("WatchISSourceStart",{name:n.getName(this.place)}),cc.sys.isNative&&jsb_dp.oneSdkBridge.showInterstitalAd(i)}}},showNativeAd:function(e,t,i){cc.log("showNativeAd:"+e),this.isRemovedAds()||cc.sys.isNative&&(this.isShowNativeAd(e)||jsb_dp.oneSdkBridge.showNativeAd(e,t,i))},removeNativeAd:function(e){this.isRemovedAds()||cc.sys.isNative&&jsb_dp.oneSdkBridge.removeNativeAd(e)},setInterstitialShowed:function(e){this.adPlaceMap[e].lastShowTime=Date.now()},showCrossPromotion:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.showCrossPromoteAd()},isRewardVideoReady:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isRewardVideoReady()},showRewardVideoAd:function(e){this.isRewardVideoReady()&&(this.enabledInterstitial(!1),cc.sys.isNative&&jsb_dp.oneSdkBridge.showRewardVideoAd(e))},enabledInterstitial:function(e){this.enabledInterstitialAd=e},onAdFinishedJsb:function(e){cc.log("onAdFinishedJsb:"+e);var t=JSON.parse(e).channelName;cc.log("channel :"+t+" show interstitial ads finished"),this.adListener&&this.adListener.onInterstitialAdEnd&&this.adListener.onInterstitialAdEnd(t),game.analyseManager.trackEvent("WatchISSourceEnd",{name:n.getName(this.place)}),game.playerMan.addInterstitialAdCount()},onVideoAdFinishedJsb:function(e){cc.log("onVideoAdFinishedJsb:"+e);var t=JSON.parse(e).isSkipped;t?cc.log("reward video ads skipped"):cc.log("reward video ads show success"),this.adListener&&this.adListener.onRewardedVideoFinished&&this.adListener.onRewardedVideoFinished(!t),t||game.playerMan.addRewardedAdCount()},onShowVideoAdBeginJsb:function(){this.adListener&&this.adListener.onShowVideoAdBegin&&this.adListener.onShowVideoAdBegin()},onShowVideoAdEndJsb:function(){this.adListener&&this.adListener.onShowVideoAdEnd&&this.adListener.onShowVideoAdEnd(),this.enabledInterstitial(!0),this.lastRewardedTime=Date.now()}});o.sharedDirector=null,o.firstUseDirector=!0,o.getInstance=function(){return o.firstUseDirector&&(o.firstUseDirector=!1,o.sharedDirector=new o),o.sharedDirector},t.exports=o,cc._RF.pop()},{"../enum/AdsPlace":"AdsPlace"}],AdsPlace:[function(e,t,i){"use strict";cc._RF.push(t,"1bea6AID4tG3bUSONo10Vcb","AdsPlace");var n={Pass:1,Home:2,BackGround:3,Refresh:4,FirstEnter:5,Num:5,getName:function(e){switch(e){case n.Pass:return"pass";case n.Home:return"home";case n.BackGround:return"background";case n.Refresh:return"refresh";case n.FirstEnter:return"first_enter";default:return"unknown"}}};t.exports=n,cc._RF.pop()},{}],AdsReminderComponent:[function(e,t,i){"use strict";cc._RF.push(t,"1aa67A6OjVE0aEq8u9DTrYa","AdsReminderComponent");var n=e("../events/EventsName");cc.Class({extends:cc.Component,properties:{lbReminderCount:cc.Label},onLoad:function(){game.dispatcher.on(n.REWARDED_VIDEO_COUNT,this.onUpdateReminder,this),this.onUpdateReminder()},onDestroy:function(){game.dispatcher.off(n.REWARDED_VIDEO_COUNT,this.onUpdateReminder,this)},onUpdateReminder:function(){var e=game.config.rewardAdMaxCountPerDay-game.playerMan.getRewardAdPlaceCountPerDay();e<0&&(e=0),this.lbReminderCount.string=e}}),cc._RF.pop()},{"../events/EventsName":"EventsName"}],AdsStatus:[function(e,t,i){"use strict";cc._RF.push(t,"d5f93hdT1BGbL4IEXu4SiVy","AdsStatus");t.exports={ADS_STATUS_COMPLETED:0,ADS_STATUS_SKIPPED:1},cc._RF.pop()},{}],AimGuideComponent:[function(e,t,i){"use strict";cc._RF.push(t,"23efeWUk7xLEqiNFkW64JWq","AimGuideComponent"),cc.Class({extends:cc.Component,properties:{sprHand:cc.Node},onLoad:function(){},onDestroy:function(){},getHandWorldPosition:function(){return this.sprHand.convertToWorldSpaceAR(cc.p(0,0))}}),cc._RF.pop()},{}],AnalyseManager:[function(e,t,i){"use strict";cc._RF.push(t,"e958df3nfpM56oNYYAsZGHg","AnalyseManager");var n=cc.Class({ctor:function(){},initAnalytics:function(){},trackLoginEvent:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackLogin()},trackPurchaseEvent:function(e,t,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackPurchase(e,t,i,n)},trackStartProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackStartProgression(e,t)},trackCompletedProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackCompletedProgression(e,t)},trackFailedProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackFailProgression(e,t)},trackErrorEvent:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackError(e)},trackEvent:function(e,t){if(cc.sys.isNative){var i="";t&&(i=JSON.stringify(t)),jsb_dp.oneSdkBridge.trackEvent(e,i)}},addVirtualCurrency:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.addVirtualCurrency(e,t)},consumeVirtualCurrency:function(e,t,i){cc.sys.isNative&&jsb_dp.oneSdkBridge.consumeVirtualCurrency(e,t,i)},consumeItem:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.consumeItem(e,t)},trackChargeRequest:function(e,t,i,n,a,o){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackChargeRequest(e,t,i,n,a,o)},trackChargeSuccess:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackChargeSuccess(e)},missionBegan:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionBegan(e)},missionCompleted:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionCompleted(e)},missionFailed:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionFailed(e,t)},trackPlayerLevel:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.setPlayerLevel(e)}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],AudioHelper:[function(e,t,i){"use strict";cc._RF.push(t,"03b9en9fHFDCZ81AfXbgGJH","AudioHelper");var n={playBtnSound:function(){game.audioPlayer.playEffectByKey("audio/button")}};t.exports=n,cc._RF.pop()},{}],AudioMan:[function(e,t,i){"use strict";cc._RF.push(t,"8f941347vZOAabSy5ns5R2h","AudioMan"),cc.Class({extends:cc.Component,properties:{winAudio:{default:null,url:cc.AudioClip},loseAudio:{default:null,url:cc.AudioClip},buttonAudio:{default:null,url:cc.AudioClip},bgm:{default:null,url:cc.AudioClip}},playMusic:function(){cc.audioEngine.playMusic(this.bgm,!0)},pauseMusic:function(){cc.audioEngine.pauseMusic()},resumeMusic:function(){cc.audioEngine.resumeMusic()},_playSFX:function(e){cc.audioEngine.playEffect(e,!1)},playWin:function(){this._playSFX(this.winAudio)},playLose:function(){this._playSFX(this.loseAudio)},playButton:function(){this._playSFX(this.buttonAudio)}}),cc._RF.pop()},{}],AudioPlayer:[function(e,t,i){"use strict";cc._RF.push(t,"14d70iBRMlEe5vzr3//erRP","AudioPlayer");var n=cc.Class({properties:{effectMap:null},ctor:function(){this.effectMap={}},playEffectByKey:function(e,t){if(this.isEffectOn()){var i=cc.loader.getRes(e),n=cc.audioEngine.playEffect(i,t),a=this.effectMap[e];a&&this.stopEffectByKey(a),this.effectMap[e]=n}},playMusicByKey:function(e,t){this.isMusicOn()&&cc.loader.loadRes(e,function(e,t){if(e)cc.error("play effect error:"+e);else{var i=cc.audioEngine.playMusic(t,!0);cc.audioEngine.setVolume(i,.5)}})},stopEffectByKey:function(e){var t=this.effectMap[e];t&&(cc.audioEngine.stopEffect(t),delete this.effectMap[e])},isMusicPlaying:function(){return cc.audioEngine.isMusicPlaying()},resumeMusic:function(){cc.audioEngine.resumeMusic()},stopMusic:function(){cc.audioEngine.stopMusic()},stopAllEffects:function(){cc.audioEngine.stopAllEffects()},isVibrateOn:function(){return"true"==game.storage.getItem("vibrate_on","true")},setVibrateOn:function(e){game.storage.setItem("vibrate_on",""+e)},vibrateShort:function(){this.isVibrateOn()&&cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateShort()},vibrateLong:function(){this.isVibrateOn()&&cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateLong()},isEffectOn:function(){return"true"==game.storage.getItem("effect_on","true")},isMusicOn:function(){return"true"==game.storage.getItem("music_on","true")},pauseMusic:function(){cc.audioEngine.pauseMusic()},setEffectOn:function(e){game.storage.setItem("effect_on",""+e)},setMusicOn:function(e){game.storage.setItem("music_on",""+e),e?this.resumeMusic():this.pauseMusic()}});n._instance=null,n._firstUseInstance=!0,n.getInstance=function(){return n._firstUseInstance&&(n._firstUseInstance=!1,n._instance=new n),n._instance},t.exports=n,cc._RF.pop()},{}],BallComponent:[function(e,t,i){"use strict";cc._RF.push(t,"00172zVR/ZG7oVyONPNbBua","BallComponent");e("../enum/GridType"),e("../enum/ShapeType"),e("../model/GameMan"),e("../enum/ItemCategory"),e("../enum/ColliderTag");cc.Class({extends:cc.Component,properties:{body:null,sprite:null,addScale:1,collider:null,gameScene:null},onLoad:function(){},init:function(e){this.bodyWidth=e;var t=game.gameMan.getCurrentSkinCfg();this.sprite=game.utils.createSprite("skin","atlas/skin_batch",t.image).node,this.addScale=t.scale,this.node.addChild(this.sprite),this.reset(e)},reset:function(e){this.sprite.scaleX=e/this.sprite.width*this.addScale,this.sprite.scaleY=e/this.sprite.width*this.addScale,this.node.stopAllActions(),this.node.runAction(cc.rotateBy(2,360).repeatForever())},updateSkin:function(){var e=game.gameMan.getCurrentSkinCfg();game.utils.setSpriteFrame(this.sprite,"atlas/skin_batch",e.image),this.addScale=e.scale,this.reset(this.bodyWidth)},getSprite:function(){return this.sprite},onUpdate:function(e){this.node.x+=this.vel.x*e,this.node.y+=this.vel.y*e},setVel:function(e){this.vel=e},getVel:function(){return this.vel}}),cc._RF.pop()},{"../enum/ColliderTag":"ColliderTag","../enum/GridType":"GridType","../enum/ItemCategory":"ItemCategory","../enum/ShapeType":"ShapeType","../model/GameMan":"GameMan"}],BallPool:[function(e,t,i){"use strict";cc._RF.push(t,"1920dv+GFpA5bwhtufDDsjG","BallPool");var n=e("../common/util/Utils"),a={MAX_POOL_SIZE:300,_poolSize:{},_pool:{},setMaxPoolSize:function(e,t){this._poolSize[e]=t},getMaxPoolSize:function(e){return this._poolSize[e]||this.MAX_POOL_SIZE},putInPool:function(e,t){this._pool[e]||(this._pool[e]=[]),this._pool[e].length<this.getMaxPoolSize(e)?(t.retain&&t.retain(),this._pool[e].push(t)):cc.log("Symbol pool is full, throw away this symbol:"+e+",max pool size:"+this.getMaxPoolSize(e))},hasObject:function(e){return this._pool[e]&&this._pool[e].length>0},removeObject:function(e,t){var i=this._pool[e];if(i)for(var n=0;n<i.length;n++)t===i[n]&&(t.release&&t.release(),i.splice(n,1))},getFromPool:function(e){if(this.hasObject(e)){var t=this._pool[e].pop();return cc.sys.isNative&&t.release&&n.autoRelease(t),t}},drainAllPools:function(){for(var e in this._pool)if(this._pool.hasOwnProperty(e))for(var t=0;t<this._pool[e].length;t++){var i=this._pool[e][t];i.release&&i.release()}this._pool={}}};t.exports=a,cc._RF.pop()},{"../common/util/Utils":"Utils"}],BaseScene:[function(e,t,i){"use strict";cc._RF.push(t,"7f93bxvqjRGD6NcO0iDMl1Q","BaseScene"),cc.Class({extends:cc.Component,properties:{lastClickTime:0},onLoad:function(){if(game.utils.isPad()){var e=cc.find("Canvas");if(e){var t=e.getComponent(cc.Canvas);t&&(t.designResolution=cc.size(768,1024))}}cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dialogManager.closeAll()},onKeyDown:function(e){if(!(game.dialogManager.hasDialog()||Date.now()-this.lastClickTime<200))switch(this.lastClickTime=Date.now(),e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},onBackClicked:function(){},start:function(){}}),cc._RF.pop()},{}],BoardComponent:[function(e,t,i){"use strict";cc._RF.push(t,"ecdbeaKq8JBHKFVF1MZRkRW","BoardComponent");e("../enum/GridType"),e("../enum/ColliderTag");cc.Class({extends:cc.Component,properties:{node:null,shape:null,ndBoard:cc.Node,sprBall:cc.Sprite,rigidBody:null,ballWidth:0},onLoad:function(){this.node.width=this.ndBoard.width+16},init:function(e){this.ballWidth=e,this.node.width=this.ndBoard.width+16,this.node.height=this.ndBoard.height,this.updateSkin()},updateSkin:function(){var e=game.gameMan.getCurrentSkinCfg(),t=e.scale;this.sprBall.node.width=this.ballWidth*t,this.sprBall.node.height=this.ballWidth*t,game.utils.setSpriteFrame(this.sprBall.node,"atlas/skin_batch",e.image)},extendBoard:function(){var e=this.ndBoard;e.width=1.3*e.width+16,this.showAppearAnim()},showAppearAnim:function(){var e=cc.sequence(cc.fadeTo(.3,0),cc.fadeTo(.3,255),cc.fadeTo(.3,0),cc.fadeTo(.3,255));this.ndBoard.runAction(e)},setPosX:function(e){this.node.x=e},getBoundingBox:function(){return this.ndBoard.getBoundingBoxToWorld()},hideBall:function(){this.sprBall.node.active=!1},showBall:function(){this.sprBall.node.active=!0}}),cc._RF.pop()},{"../enum/ColliderTag":"ColliderTag","../enum/GridType":"GridType"}],BoostType:[function(e,t,i){"use strict";cc._RF.push(t,"e89d0P37c1C/bGTX028WEbs","BoostType");t.exports={LIFE:1,THREE_BALL:2,SPLIT:3,GIFT:4,SKIN:5,DIAMOND:6,BOMB:7,AIM_ITEM:8,NUM:8},cc._RF.pop()},{}],BrickConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e70eaYOMThA3JnbR4u6W74+","BrickConfig");var n=function(){this.x=0,this.y=0,this.count=0};n.prototype.unmarshal=function(e){this.x=e[0],this.y=e[1],this.count=e[2]},n.prototype.getHardCfg=function(){var e=new n;return e.x=2*this.x,e.y=2*this.y,e.count=2*this.count,e},t.exports=n,cc._RF.pop()},{}],CoinsUI:[function(e,t,i){"use strict";cc._RF.push(t,"35ebei3uZJH1a5/qUmv1hoq","CoinsUI");var n=cc.Class({extends:cc.Component,properties:{lbCoins:cc.Label,rootNode:cc.Node,enableClick:!0},onLoad:function(){game.dispatcher.on("update_coins",this.onUpdateCoins,this),this.lbCoins.string=game.playerMan.player.coins},onDestroy:function(){game.dispatcher.off("update_coins",this.onUpdateCoins,this)},onUpdateCoins:function(e){var t=e.coins,i=e.delta;this.lbCoins.getComponent("NumComponent").playNumAnim(t-i,t)},onPurchaseCoins:function(e){this.enableClick&&(game.audioHelper.playBtnSound(),game.popupMan.popupStore())}});t.exports=n,cc._RF.pop()},{}],ColliderTag:[function(e,t,i){"use strict";cc._RF.push(t,"a13464PIxxIQ5XCazXM9iY9","ColliderTag");t.exports={Ball:100,Grid:200,Item:300,Board:400,Wall:500},cc._RF.pop()},{}],ConfigMan:[function(e,t,i){"use strict";cc._RF.push(t,"616262Tn5VATamqHugl0z8p","ConfigMan");var n=e("./LevelConfig"),a=e("./StoreConfig"),o=e("./WheelConfig"),s=e("./ShareConfig"),r=e("./SkinConfig"),c=e("./DailyBonusConfig"),l=e("../enum/StoreType"),d=e("./TaskConfig"),h=(e("./TaskOldConfig"),e("./ItemDescConfig")),u=cc.Class({properties:{levelList:null,storeList:null,wheelList:null,boxWheelList:null,shareList:null,skinList:null,dailyBonusList:null,storeListWithoutFirstPurchase:null,taskList:null,oldTaskList:null,originalLevelList:null,itemList:null},ctor:function(){this.storeList=[],this.levelList=[],this.wheelList=[],this.boxWheelList=[],this.shareList=[],this.skinList=[],this.dailyBonusList=[],this.storeListWithoutFirstPurchase=[],this.taskList=[],this.oldTaskList=[],this.itemList=[]},reload:function(){var e,t=game.utils.loadJson("config/store_config.json"),i=t.stores;for(e=0;e<i.length;++e){var n=new a;n.unmarshal(i[e]),this.storeList.push(n),n.type===l.FIRST_PURCHASE?this.specialOfferCfg=n:this.storeListWithoutFirstPurchase.push(n)}this.reloadLevelConfig();var u,p=(t=game.utils.loadJson("config/data_config.json")).wheel;for(e=0;e<p.length;++e)(u=new o).unmarshal(p[e]),this.wheelList.push(u);var g=t.box;for(e=0;e<g.length;++e)(u=new o).unmarshal(g[e]),this.boxWheelList.push(u);var m=t.share;for(e=0;e<m.length;++e){var f=new s;f.unmarshal(m[e]),this.shareList.push(f)}var _=t.daily_bonus;for(e=0;e<_.length;++e){var y=new c;y.unmarshal(_[e]),this.dailyBonusList.push(y)}var v=t.items;for(e=0;e<v.length;++e){var C=new h;C.unmarshal(v[e]),this.itemList.push(C)}var S=(t=game.utils.loadJson("config/skins_config.json")).skins;for(e=0;e<S.length;++e){var b=new r;b.unmarshal(S[e]),this.skinList.push(b)}var w=(t=game.utils.loadJson("config/task_config.json")).tasks;for(e=0;e<w.length;++e){var M=new d;M.unmarshal(w[e]),this.taskList.push(M)}},reloadLevelConfig:function(){this.levelList=[];var e=game.remoteConfig.getRemoteConfig("level_config_group");cc.log("remote config level_config_group:"+e);var t="config/level_configs.json";e&&e.length>0&&(t="config/level_configs-"+e+".json",game.utils.isFileExist(t)||(t="config/level_configs.json"));var i=game.utils.loadJson(t).levels;this.originalLevelList=i;for(var a=0;a<i.length;++a){var o=new n;o.unmarshal(i[a]),this.levelList.push(o)}},onRemoteConfigReceived:function(){this.reloadLevelConfig()},getItemList:function(){return this.itemList},getStoreList:function(){return this.storeList},getStoreListWithoutFirstPurchase:function(){return this.storeListWithoutFirstPurchase},getLevelList:function(){return this.levelList},getLevelConfig:function(e){return this.levelList[e-1]},getOriginalLevelConfig:function(e){return this.originalLevelList[e-1]},getWheelList:function(){return this.wheelList},getBoxWheelList:function(){return this.boxWheelList},getShareList:function(){return this.shareList},getSkinList:function(){return this.skinList},getSkinListByType:function(e){for(var t=[],i=0;i<this.skinList.length;++i)e===this.skinList[i].type&&t.push(this.skinList[i]);return t},getTaskList:function(){return this.taskList},getOldTaskList:function(){return this.oldTaskList},getSkinCfg:function(e){for(var t=0;t<this.skinList.length;++t)if(e==this.skinList[t].id)return this.skinList[t];return null},getDailyBonusList:function(){return this.dailyBonusList},getSpecialOfferCfg:function(){return this.specialOfferCfg}});u._instance=null,u._firstUseInstance=!0,u.getInstance=function(){return u._firstUseInstance&&(u._firstUseInstance=!1,u._instance=new u),u._instance},t.exports=u,cc._RF.pop()},{"../enum/StoreType":"StoreType","./DailyBonusConfig":"DailyBonusConfig","./ItemDescConfig":"ItemDescConfig","./LevelConfig":"LevelConfig","./ShareConfig":"ShareConfig","./SkinConfig":"SkinConfig","./StoreConfig":"StoreConfig","./TaskConfig":"TaskConfig","./TaskOldConfig":"TaskOldConfig","./WheelConfig":"WheelConfig"}],Config:[function(e,t,i){"use strict";cc._RF.push(t,"30ef0fXi85LqJmVMO6Wm/5C","Config");var n={itunesDownloadUrl:"itms-apps://itunes.apple.com/app/id1465635609?action=write-review",googlePlayUrl:"http://bit.ly/2InL4tg",iosShortUrl:"https://apple.co/2HGPGKA",androidShortUrl:"http://bit.ly/2InL4tg",appName:"Balls VS Numbers",iosLeaderBoardKey:"com.q1.ballsnumber.levelrank",iosHardLeaderBoardKey:"xxx",googlePlayLeaderBoardKey:"xxx",facebookFanPageUrl:"https://www.facebook.com/Balls-VS-Numbers-333278283990738",iosStarRankKey:"com.q1.ballsnumber.starrank",IS_DEBUG:!1,IS_ENABLE_HOT_UPDATE:!1,getStarLeaderBoardKey:function(){return this.iosStarRankKey},getLeaderBoardKey:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayLeaderBoardKey:this.iosLeaderBoardKey},getHardBoardKey:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayLeaderBoardKey:this.iosHardLeaderBoardKey},getPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayUrl:this.itunesDownloadUrl},getShortPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidShortUrl:this.iosShortUrl},getCrossPromUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidCrossPromUrl:game.utils.isSelfGame()?this.cnCrossPromUrl:this.crossPromUrl},getAdUrl:function(){return game.utils.isSelfGame()?this.cnNewAdConfigUrl:this.adConfigUrl},horizontalGame:!1,adConfigUrl:"https://onegameinc.github.io/balls/game_bingchuan.html",crossPromUrl:"https://onegameinc.github.io/cross_promotion/config/balls/cross_promotion_bingchuan.html",cnAdConfigUrl:"https://onegameinc.github.io/balls/game.html",cnNewAdConfigUrl:"https://onegameinc.github.io/balls/game_cn.html",cnCrossPromUrl:"https://onegameinc.github.io/cross_promotion/config/balls/cross_promotion.html",androidCrossPromUrl:"https://onegameinc.github.io/cross_promotion/config/balls_android/cross_promotion.html",connectEmail:"ballsvsnumbers@gmail.com",rewardAdMaxCountPerDay:10,rewardDiamonds:5,minPossibility:.01,estimatedRatio:.1,rewardDiamondMap:{1:1,2:3,3:5},relifeDiamonds:50,skipDiamonds:100,aimItemDiamonds:50,lowAndroidFPS:40,dailyDiamonds:50,itemDiamondCount:100};t.exports=n,cc._RF.pop()},{}],CrossPromManager:[function(e,t,i){"use strict";cc._RF.push(t,"08d9cHQNtFOB6cjWDzaO+SC","CrossPromManager");var n=cc.Class({ctor:function(){},tryToLoadFromRemote:function(){},getRandomConfig:function(e){var t,i=0;for(t=0;t<e.length;++t)i+=e[t].weight;var n=game.utils.randomNextInt(i),a=0;for(t=0;t<e.length;++t)if((a+=e[t].weight)>n)return e[t];return e[0]},popupCrossPromDlg:function(e,t){var i=CrossPromController.createFromCCB("res/cross/cross_prom_view.ccbi");i.controller.initWith(e,t),i.controller.popup()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],DailyBonusComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d2a04BzyRVHGr0gQ4qku6KB","DailyBonusComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");var n=e("./DailyBonusItemComponent");cc.Class({extends:cc.Component,properties:{DAILY_BONUS_COUNT:7,DAILY_BONUS_TAG:200,ndContainer:cc.Node,btnDouble:cc.Button,btnClaim:cc.Button,dailyBonusNodes:[cc.Node],dailyBonusItemNodes:null,configs:null,curConfig:null,claimed:!1},onLoad:function(){cc.loader.loadRes("prefabs/daily_bonus_item_view",function(e,t){this.initUINodes(t)}.bind(this))},initUINodes:function(e){this.dailyBonusItemNodes=[],this.configs=game.configMan.getDailyBonusList();for(var t=0;t<this.DAILY_BONUS_COUNT;++t){var i=cc.instantiate(e);this.dailyBonusNodes[t].addChild(i),this.dailyBonusItemNodes.push(i)}this.initUI()},initUI:function(){var e=game.playerMan.player.lastClaimDailyBonusDay,t=game.playerMan.checkConsecutiveLoginDay(),i=e>=game.utils.getDayByTs(Date.now());t=(t%=7)||7,this.claimed=i,this.btnClaim.interactable=!i,this.btnDouble.interactable=!i,cc.log("consecutiveDay:"+t+",dailyBonusNodes length:"+this.dailyBonusNodes.length+",currentDayClaimed:"+i);for(var a=1;a<=7;++a){cc.log("initUI:"+a);var o=this.configs[a-1],s=this.dailyBonusItemNodes[a-1];if(s){var r=s.getComponent(n);r?a<t?r.initWith(o,a,!1,!0):a===t?(r.initWith(o,a,!0,i),this.curConfig=o):r.initWith(o,a,!1,!1):cc.log("daily bonus controller is null:"+a)}else cc.log("daily bonus node is null:"+a)}3===t&&(this.btnDouble.interactable=!1)},popupClaimReward:function(e,t,i){t?game.storeMan.popupRewardItemDlg(e,"daily_bonus_tips",t,i):game.storeMan.popupDoubleItemDlg(e,"daily_bonus_tips",i)},claimClicked:function(e){if(game.audioHelper.playBtnSound(),!this.claimed){var t=this;this.popupClaimReward(this.curConfig,!1,function(){t.setClaimed()})}this.close()},doubleClicked:function(e){if(game.audioHelper.playBtnSound(),!this.claimed){var t=this;game.storeMan.checkAndShowRewardVideo("daily_bonus",function(e){e&&(this.popupClaimReward(this.curConfig,!0,function(){t.setClaimed()}),this.close())}.bind(this))}},setClaimed:function(){game.playerMan.setLastClaimDailyBonusDay(game.utils.getDayByTs(Date.now())),this.claimed=!0},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType","./DailyBonusItemComponent":"DailyBonusItemComponent"}],DailyBonusConfig:[function(e,t,i){"use strict";cc._RF.push(t,"51cbceSFzhAoaCMwP0i5BDx","DailyBonusConfig");var n=function(){this.id=0,this.type=0,this.count=0,this.image="",this.arg1=""};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.image=e.image,this.arg1=e.arg1,this.extra=e.extra},t.exports=n,cc._RF.pop()},{}],DailyBonusItemComponent:[function(e,t,i){"use strict";cc._RF.push(t,"f1230LHSGFLDY0iS8dqHzED","DailyBonusItemComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");cc.Class({extends:cc.Component,properties:{spBlack:cc.Node,spItem:cc.Sprite,spCurrent:cc.Node,spClaimed:cc.Node,lblCount:cc.Label,lblDay:cc.Label,dailyBonusCfg:null},onLoad:function(){},initWith:function(e,t,i,n){this.dailyBonusCfg=e,this.spBlack.active=n,game.utils.setSpriteFrame(this.spItem,"atlas/game_batch",e.image),this.spClaimed.active=n,this.lblCount.string="x"+e.count,this.lblDay.string=game.utils.sprintf(_("day_title"),t)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],DebugUI:[function(e,t,i){"use strict";cc._RF.push(t,"33993F4TZFPzJCRD60yJ9u/","DebugUI");var n=cc.Class({extends:cc.Component,properties:{lblLineLen:cc.Label,editLevel:cc.EditBox,editLineLen:cc.EditBox,progress:cc.ProgressBar,showHintToggle:cc.Toggle},onLoad:function(){game.dispatcher.on("update_line_progress",this.onLineLenUpdate,this),this.editLevel.string=game.gameMan.level,this.config=game.configMan.getLevelCfg(game.gameMan.level),this.editLineLen.string=""+this.config.maxLineLen,this.showHintToggle.isChecked=!!this.config.showHint},onToggleChanged:function(){},onDestroy:function(){game.dispatcher.off("update_line_progress",this.onLineLenUpdate,this)},setLineLenPercent:function(e){this.lblLineLen.string=Math.floor(e)},onLineLenUpdate:function(e){this.setLineLenPercent(e.lineLen)},onRefreshClicked:function(){game.dispatcher.emit("refresh_level")},onDrawLine:function(){game.dispatcher.emit("clear_line")},onRun:function(){game.dispatcher.emit("game_run")},onBack:function(){cc.director.loadScene("EditorScene")},onSave:function(){var e=this.editLineLen.string,t=this.editLevel.string;game.dispatcher.emit("save_level_config",{lineLen:e,levelId:t,showHint:this.showHintToggle.isChecked})},onNextLevel:function(){game.gameMan.level++,cc.director.loadScene("newlevel-"+game.gameMan.level)}});t.exports=n,cc._RF.pop()},{}],DialogManager:[function(e,t,i){"use strict";cc._RF.push(t,"0a48fPixHpOX6bY1Mg06bXe","DialogManager");var n=e("./ModalComponent"),a=cc.Class({properties:{DIALOG_ZORDER_BEGIN:999,DIALOG_ZORDER_STEP:2,_overlay:null,_scaleFactor:1,_dialogStack:[]},ctor:function(){},createOverlay:function(){this._overlay=new cc.Node("OverLay"),this._overlay.addComponent(n);var e=this._overlay.addComponent(cc.Sprite),t=cc.loader.getRes("atlas/menu_batch",cc.SpriteAtlas).getSpriteFrame("blank");e.spriteFrame=t,e.type=cc.Sprite.Type.SLICED,e.width=768,e.height=1665,this._overlay.color=cc.Color.BLACK,this._overlay.opacity=210,this._overlay.width=cc.winSize.width,this._overlay.height=cc.winSize.height,this._overlay.zIndex=this.DIALOG_ZORDER_BEGIN,this._overlay.x=.5*cc.winSize.width,this._overlay.y=.5*cc.winSize.height,this.attachScene(this._overlay)},popup:function(e,t){e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height,e.setScale(this._scaleFactor);var i=this._dialogStack.length;cc.log("dlgLen:"+i),e.zIndex=0==i?this.DIALOG_ZORDER_BEGIN:this._dialogStack[i-1].zIndex+this.DIALOG_ZORDER_STEP,this._dialogStack.push(e),this._overlay||this.createOverlay(),this._overlay.zIndex=e.zIndex-1,t&&t.overlayColor?this._overlay.color=t.overlayColor:this._overlay.color=cc.Color.BLACK,t&&t.overlayOpacity?this._overlay.opacity=t.overlayOpacity:this._overlay.opacity=190,this.attachScene(e),t&&t.withoutAnim||this.popupDialogAnim(e),game.dispatcher.emit("dialog_poped")},attachScene:function(e){cc.director.getScene().addChild(e)},close:function(e,t){var i;cc.isUndefined(t)&&(t=!0);var n=this._dialogStack.length;for(i=n-1;i>=0&&e!==this._dialogStack[i];--i);if(i>=0){if(this._dialogStack.splice(i,1),n=this._dialogStack.length,e.destroy(),0===n)this._overlay.destroy(),this._overlay=null;else{var a=n-1;a>=0?this._overlay.zIndex=this._dialogStack[a].zIndex-1:(this._overlay.destroy(),this._overlay=null,this._dialogStack.length=0)}game.dispatcher.emit("dialog_closed")}},closeAll:function(){for(var e=this._dialogStack.length;0!=e;){var t=this._dialogStack[e-1];this.close(t,!0),e=this._dialogStack.length}},isTopestDialog:function(e){return this._dialogStack[this._dialogStack.length-1]===e},hasDialog:function(){return this._dialogStack&&this._dialogStack.length},popupDialogAnim:function(e){e.setScale(.8,.8),e.runAction(cc.sequence(cc.scaleTo(.066,1.05,1.05).easing(cc.easeOut(2)),cc.scaleTo(.05,.98,.98).easing(cc.easeOut(2)),cc.scaleTo(.084,1,1).easing(cc.easeOut(2))))}});a._instance=null,a._firstUseInstance=!0,a.getInstance=function(){return a._firstUseInstance&&(a._firstUseInstance=!1,a._instance=new a),a._instance},t.exports=a,cc._RF.pop()},{"./ModalComponent":"ModalComponent"}],DiamondComponent:[function(e,t,i){"use strict";cc._RF.push(t,"99ad58SXyhMdbBtCtv49CWf","DiamondComponent");var n=e("../events/EventsName");cc.Class({extends:cc.Component,properties:{lblDiamond:cc.Label},onLoad:function(){game.dispatcher.on(n.DIAMONDS_UPDATE,this.onUpdateDiamonds,this),this.lblDiamond.string=game.playerMan.player.diamonds},onDestroy:function(){game.dispatcher.off(n.DIAMONDS_UPDATE,this.onUpdateDiamonds,this)},onUpdateDiamonds:function(e){var t=e.diamonds,i=e.delta;this.lblDiamond.getComponent("NumComponent").playNumAnim(t-i,t)},diamondClicked:function(t){game.audioHelper.playBtnSound();var i=e("../enum/StoreType");game.popupMan.popupStore(i.DIAMOND)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../events/EventsName":"EventsName"}],EditorHelper:[function(e,t,i){"use strict";cc._RF.push(t,"072197T56FM/rxWSwJqXfEm","EditorHelper");var n={CommonEvent:null,MapDisplayType:null,EditorHttpConst:null,localServerPath:"http://localhost:8080",postData:function(e,t,i){e=this.localServerPath+e;var n=new XMLHttpRequest;n.onreadystatechange=t(n),n.open("POST",e,!0),"undifined"!=typeof i?(n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(i)):n.send()},saveHintLine:function(e){game.configMan.setLevelCfg(e);var t={levels:game.configMan.getLevelList()};this.postData("/save_supply_area",function(e){return function(){4==e.readyState&&200==e.status&&alert("save hint line success")}},JSON.stringify(t,null,2))}};t.exports=n,cc._RF.pop()},{}],EditorScene:[function(e,t,i){"use strict";cc._RF.push(t,"5efdei86PBIGoNVZIcU4C5N","EditorScene");var n=e("GamePrepare");cc.Class({extends:e("BaseScene"),properties:{canEnter:!1,editLevel:cc.EditBox},onLoad:function(){n.start(),n.initData(function(){this.canEnter=!0}.bind(this)),game.gameMan.setDevType("editor"),this.editLevel.string=1},start:function(){},onStartClicked:function(){console.log("Start button clicked!"),this.canEnter&&(game.gameMan.setLevel(parseInt(this.editLevel.string)),cc.director.loadScene("newlevel-"+game.gameMan.level))},onChapterClicked:function(){},onSkinClicked:function(){},onStoreClicked:function(){},onSettingClicked:function(){},onRankClicked:function(){},onSoundClicked:function(){},onAddCoinsClicked:function(){}}),cc._RF.pop()},{BaseScene:"BaseScene",GamePrepare:"GamePrepare"}],EffectMan:[function(e,t,i){"use strict";cc._RF.push(t,"7aa71yJlTlJI4VjzKaPBIbl","EffectMan");var n=cc.Class({stoped:!1,ctor:function(){},createDiamondSprite:function(){return game.utils.createSprite("diamond","atlas/game_batch","icon_diamond_effect").node},playFlyCoins:function(e,t,i,n,a,o){this.stoped=!1;var s=this;for(var r=0;r<10;){var c=this.createDiamondSprite();setTimeout(function(n,r,c){return function(){var l=null;r?l=a:c&&(l=o),s.showFlyAnim(t,i,n,e,l)}}(c,0===r,9===r),100*r),r++}},showFlyAnim:function(e,t,i,n,a){if(this.stoped)a&&a();else{var o=e,s=t,r=Math.sqrt((o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y))/1500;n.addChild(i,1e3),i.setPosition(o);var c=[o,this.getPerpendicularPoint(o,s,50,.5),s];i.runAction(cc.sequence(cc.bezierTo(r,c),cc.callFunc(function(){a&&a()},this),cc.removeSelf()))}},getPerpendicularPoint:function(e,t,i,n){var a={x:e.x-t.x,y:e.y-t.y},o=a.y,s=-a.x,r=this.lerpPosition(e,t,n),c=Math.sqrt(o*o+s*s),l=o/c,d=s/c;return new cc.p(r.x+l*i,r.y+Math.abs(d*i))},lerpPosition:function(e,t,i){return{x:(t.x-e.x)*i+e.x,y:(t.y-e.y)*i+e.y}},showBackgroundAnims:function(e){for(var t=cc.loader.getRes("atlas/menu_batch",cc.SpriteAtlas),i=["circle_line","circle","square_circle"],n=this.getColorList(),a=0;a<20;++a){var o=new cc.Node("skin"),s=t.getSpriteFrame(i[game.utils.randomNextInt(i.length)]);o.addComponent(cc.Sprite).spriteFrame=s,o.color=n[game.utils.randomNextInt(n.length-1)],o.opacity=10,o.scale=game.utils.randomNextNumberInRange(1,2);var r=this.getRandomPos();o.setPosition(r);var c=this.getRandomPos(),l=this.getTime(r,c),d=cc.moveTo(l,c),h=cc.moveTo(l,r),u=cc.repeatForever(cc.sequence(d,h));o.runAction(u),o.runAction(cc.repeatForever(cc.rotateBy(20,360))),e.addChild(o)}},getTime:function(e,t){return e.sub(t).mag()/20},getRandomPos:function(){return cc.p(game.utils.randomNextInt(1.5*cc.winSize.width)-.25*cc.winSize.width-.5*cc.winSize.width,game.utils.randomNextInt(1.5*cc.winSize.height)-.25*cc.winSize.height-.5*cc.winSize.height)},getColorList:function(){return[cc.color(255,106,107),cc.color(90,181,110),cc.color(83,183,209),cc.color(243,77,151),cc.color(153,95,206),cc.color(57,103,249),cc.color(249,112,49),cc.color(232,59,20),cc.color(84,235,43),cc.color(50,84,117),cc.color(127,127,127)]}});n._instance=null,n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},t.exports=n,cc._RF.pop()},{}],EventDispatcher:[function(e,t,i){"use strict";cc._RF.push(t,"05c3873KWJBTq7djVLifTwP","EventDispatcher");var n=function(e,t,i){this.callback=e,this.target=t,this.listener=i},a=function(){var e;function t(){var e={};return{on:function(t,i,a){var o=!0,s=e[t];if(cc.isUndefined(s))s=[],e[t]=s;else for(var r=0;r<s.length;++r){var c=s[r];if(c.callback===i&&c.target===a){o=!1;break}}o&&s.push(new n(i,a,null))},off:function(t,i,n){if(e[t]){var a=e[t];if(!cc.isUndefined(a)&&a.length>0){for(var o=[],s=0;s<a.length;++s){var r=a[s];r.callback===i&&r.target===n||o.push(r)}e[t]=o}}},emit:function(t,i){if(e[t]){var n=e[t];if(!cc.isUndefined(n)&&n.length>0)for(var a=0;a<n.length;++a){var o=n[a];null!=o.callback&&o.callback.call(o.target,i)}}}}}return{getInstance:function(){return e||(e=t()),e}}}();t.exports=a,cc._RF.pop()},{}],EventsName:[function(e,t,i){"use strict";cc._RF.push(t,"9520bYKzEJFSq1AHGl5jpmw","EventsName");t.exports={EVENT_NAME_GAME_START:"event_name_start",EVENT_NAME_GAME_OVER:"event_name_game_over",EVENT_NAME_UPDATE_SCORE:"event_name_update_score",EVENT_NAME_UPDATE_LEFT_BULLET:"event_name_update_left_bullet",EVENT_NAME_UPDATE_BEST_SCORE:"event_name_update_best_score",EVENT_NAME_UPDATE_AUDIO:"event_name_update_audio",UPDATE_LEVEL:"update_level",COINS_UPDATE:"coins_update",REFRESH_BOOST:"refresh_boost",UPDATE_SKIN:"update_skin",UPDATE_SPECIAL_OFFER:"update_special_offer",PURCHASE_END:"purchase_end",DIALOG_POPED:"dialog_poped",DIALOG_CLOSED:"dialog_closed",DIAMONDS_UPDATE:"diamonds_update",TASK_UPDATE:"task_update",REWARDED_VIDEO_COUNT:"rewarded_video_count",UPDATE_AIM_ITEM:"update_aim_item",SHOW_AIM_GUIDE:"show_aim_guide",USE_ITEM:"use_item",RECOVERY_BALLS:"recovery_balls"},cc._RF.pop()},{}],FailComponent:[function(e,t,i){"use strict";cc._RF.push(t,"b5f79xVlfJIdKod4BQJdx6m","FailComponent"),cc.Class({extends:cc.Component,properties:{_replayCallback:null,_nextCallback:null,ndWheel:cc.Node,ndDiamond:cc.Node,ndDiamonds:cc.Node,ndAdsReminderNode:cc.Node},onLoad:function(){game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this),game.audioPlayer.playEffectByKey("audio/fail"),this.ndWheel.visible=!1,this.ndDiamond.visible=!1,game.gameMan.isFreeWheel()?this.ndWheel.visible=!0:this.ndDiamond.visible=!0;var e=cc.loader.getRes("prefabs/diamond_view",cc.Prefab),t=cc.instantiate(e);this.ndDiamonds.addChild(t);var i=cc.loader.getRes("prefabs/ads_reminder_view",cc.Prefab),n=cc.instantiate(i);this.ndAdsReminderNode.addChild(n),setTimeout(this.onAnimEnd.bind(this),300)},initWith:function(e,t){this._replayCallback=e,this._skipCallback=t},onAnimEnd:function(){game.gameMan.tryShowFailPopup()},restartClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.showAds(!1),this._replayCallback&&this._replayCallback(),this.close()},homeClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.showAds(!1),game.utils.loadSceneWithAnim("LevelScene")},watchAdsClicked:function(e){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo(game.utils.isIOS()?"failgift":"jili06",null,"FailAndWatchDiamondsAds")},skipClicked:function(e){game.storeMan.checkAndShowRewardVideo(game.utils.isIOS()?"tiaoguo01":"skip",function(e){e&&(game.analyseManager.trackEvent("WatchAdsToSkipLevel",{level:game.gameMan.levelId}),this._skipCallback&&this._skipCallback())}.bind(this))},wheelClicked:function(t){game.audioHelper.playBtnSound();var i=e("../enum/WheelType");game.popupMan.popupWheelDlg(i.DailyBonus)},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this)},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PauseComponent updateNativeAd"),game.dialogManager.isTopestDialog(this.node)?this.showNativeAd():this.removeNativeAd()},showNativeAd:function(){cc.log("PauseComponent showNativeAd"),game.adsManager.showNativeAd("fail",0,0)},removeNativeAd:function(){game.adsManager.removeNativeAd("fail")},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/WheelType":"WheelType"}],GCManager:[function(e,t,i){"use strict";cc._RF.push(t,"75521gPlllIt5KQcNQYF3y2","GCManager");var n=cc.Class({ctor:function(){},isGameCenterAvailable:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isGameCenterAvailable()},reportScore:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportScore(e,t)},showLeaderboard:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.showLeaderboard(e)},reportAchievement:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportAchievement(e,t)},showAchievements:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.showAchievements(e)},highScoreForLeaderboard:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.highScoreForLeaderboard(e):0},progressForAchievement:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.progressForAchievement(e):0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],GameHelpCell:[function(e,t,i){"use strict";cc._RF.push(t,"f061a9eEw1Pe5eolTP+oAYE","GameHelpCell"),cc.Class({extends:e("viewCell"),properties:{spItem:cc.Node,lbItemDesc:cc.Label,index:0,data:void 0},onLoad:function(){},init:function(e,t,i,n){cc.log("index:"+e),e>=t.array.length?this.node.active=!1:(this.index=e,this.data=t.array[e],game.utils.setSpriteFrame(this.spItem,"atlas/game_batch",this.data.image),this.lbItemDesc.string=_(this.data.descKey))},clicked:function(){}}),cc._RF.pop()},{viewCell:"viewCell"}],GameHelpComponent:[function(e,t,i){"use strict";cc._RF.push(t,"ad1feqWOVlOB79VxxveHzTi","GameHelpComponent");e("../enum/StoreType"),e("../events/EventsName");cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){var e=game.configMan.getItemList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},backClicked:function(e){game.audioHelper.playBtnSound(),this.close()},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../events/EventsName":"EventsName"}],GameLifeMan:[function(e,t,i){"use strict";cc._RF.push(t,"bdf32WrykBB0YchWCraoZ+h","GameLifeMan");var n=[1,3,7,15,30],a=cc.Class({properties:{_start:!1},ctor:function(){},register:function(){cc.log("GameLifeMan register"),cc.game.on(cc.game.EVENT_HIDE,this.onHide.bind(this)),cc.game.on(cc.game.EVENT_SHOW,this.onShow.bind(this))},onShow:function(){cc.log("onShow"),game.notificationManager.unscheduleNotification(),game.adsManager.onGameOnShow(),setTimeout(function(){game.adsHelper.showBackgroundAds()},100)},onHide:function(){cc.sys.isNative&&(game.adsHelper.onEnterBackground(),this.scheduleLocalNotification())},registerNotification:function(){game.notificationManager.registerNotification()},startGame:function(){cc.log("GameLifeMan startGame"),this._start||(this._start=!0,game.firstEnter=!0,game.notificationManager.unscheduleNotification(),this.register(),game.playerMan.initData(),game.adsManager.loadRemoteData(),game.analyseManager.initAnalytics(),game.gcManager.isGameCenterAvailable(),game.analyseManager.trackLoginEvent(),this.fetchRemoteConfig())},fetchRemoteConfig:function(){game.remoteConfig.setRemoteConfigReceivedCallback(function(){cc.log("config man onRemoteConfigReceived"),game.configMan.onRemoteConfigReceived();var e=game.remoteConfig.getRemoteConfig("level_group");e||(e="a"),game.analyseManager.trackEvent("level_group",{group:e})}),game.remoteConfig.fetchRemoteConfig()},scheduleLocalNotification:function(){if(cc.sys.isNative){var e=Math.floor(game.gameMan.getWheelLeftTime()/1e3);e<1800&&(e=1800);var t=1;game.notificationManager.scheduleNotification(e,_("wheel_is_ready"),_("app_name"),t++);var i=0;if(game.playerMan.player.lastClaimDailyBonusDay>=game.utils.getDayByTs(Date.now()))i=(864e5*(game.utils.getDayByTs(Date.now())+1)-Date.now())/1e3;i<=3600&&(i=3600),game.notificationManager.scheduleNotification(i,_("daily_bonus_is_ready"),_("app_name"),t++);for(var a=Math.max(e,i),o=0;o<n.length;++o)game.notificationManager.scheduleNotification(a+86400*n[o],_(game.utils.sprintf("noti_tips%d",o+1)),_("app_name"),t++)}}});a.sharedDirector=null,a.firstUseDirector=!0,a.getInstance=function(){return a.firstUseDirector&&(a.firstUseDirector=!1,a.sharedDirector=new a),a.sharedDirector},t.exports=a,cc._RF.pop()},{}],GameMan:[function(e,t,i){"use strict";cc._RF.push(t,"66250lko+ZD8ruWzX4V+Cl5","GameMan");e("../enum/WheelType");var n=e("../events/EventsName"),a=e("../config/ConfigMan"),o=e("../enum/ItemType"),s=cc.Class({properties:{FREE_WHEEL_HOURS:12,ONE_HOUR_SECONDS:36e5,startTime:0,resultCount:0,rated:!1,endTime:0,canReLife:!0,distance:0,levelId:1,hardMode:!1,giftCount:0,lastShowLevel:0,totalFailCount:0,poped3StarTips:!1,firstEnterAdShowed:!1,isTryAimItem:!1,showedWatchAdsGetSkinCount:0,showedWatchAdsOpenBoxCount:0,lastPopCount:0,currentStep:3},canUseAimItem:function(){return!0},initPool:function(){this.ballPool=new cc.NodePool("Ball"),this.brickPool=new cc.NodePool("Brick")},drainBallPool:function(){this.ballPool.clear()},getBoostProbability:function(e){var t=game.playerMan.getFailCount(e.levelId),i=e.boostProbability;return 4===t?i+.2:5===t?i+.4:t>5?i+.5:i},isHardMode:function(){return this.hardMode},getPlayerLevel:function(){return this.isHardMode()?game.playerMan.getHardLevel():game.playerMan.getLevel()},ctor:function(){},init:function(){this.initPool()},chooseLatestLevel:function(){return game.playerMan.getLevel()<=this.getLevelList().length&&(this.levelId=game.playerMan.getLevel(),!0)},getLevelList:function(){return a.getInstance().getLevelList()},updateScore:function(){game.dispatcher.emit(n.EVENT_NAME_UPDATE_SCORE)},gameOver:function(){this.resultCount++},getMissionKey:function(){return this.isHardMode()?"hard_level_"+this.levelId:"normal_level_"+this.levelId},onGameStart:function(){game.analyseManager.missionBegan(this.getMissionKey())},getCurrentStar:function(e){var t=this.getCurConfig(),i=1;return e<=t.starTime?i=3:e<=2*t.starTime&&(i=2),i},getProgressPercent:function(e){var t=this.getCurConfig();return 100*Math.max(0,1-e/t.starTime/3)},getCurrentRewardDiamonds:function(){if(this.isNewStarData||0===this.lastStar){var e=game.config.rewardDiamondMap[this.lastStar]||0,t=game.config.rewardDiamondMap[this.currentStar]||0;return Math.max(t-e,0)}return 0},hasStarTag:function(){var e=!1;return e=this.isHardMode()?game.playerMan.getLevelData(this.levelId,"hardStarTag")||!1:game.playerMan.getLevelData(this.levelId,"starTag")||!1,e},onWatchAdsGet3Star:function(e){this.isHardMode()?this.updateHardLevelStar(e,3):this.updateLevelStar(e,3),this.currentStar=3},gameWin:function(e){this.isHardMode()?this.lastStar=game.playerMan.getHardLevelStar(this.levelId):this.lastStar=game.playerMan.getLevelStar(this.levelId),game.analyseManager.missionCompleted(this.getMissionKey()),this.isNewStarData=this.hasStarTag();var t=this.getCurrentStar(e);this.currentStar=t;var i=!1,n=this.levelId+"-"+t;this.isHardMode()?(game.playerMan.getHardLevelStar(this.levelId)>0&&(i=!0),this.updateHardLevelStar(this.levelId,t),i||(game.analyseManager.trackEvent("level_pass_hard",{level:this.levelId}),game.analyseManager.trackEvent("level_pass_hard_star",{levelStarKey:n}),cc.log("track event level_pass_hard:"+this.levelId)),this.resultCount++,this.levelId++,this.levelId<=this.getLevelList().length&&game.gcManager.reportScore(this.levelId,game.config.getHardBoardKey()),game.playerMan.setHardLevel(this.levelId)):(game.playerMan.getLevelStar(this.levelId)>0&&(i=!0),this.updateLevelStar(this.levelId,t),i||(game.analyseManager.trackEvent("level_pass",{level:this.levelId}),game.analyseManager.trackEvent("level_pass_star",{level:n}),cc.log("track event level_pass:"+this.levelId)),this.resultCount++,this.levelId++,this.levelId<=this.getLevelList().length&&game.gcManager.reportScore(this.levelId,game.config.getLeaderBoardKey()),game.playerMan.setLevel(this.levelId)),game.gcManager.reportScore(this.getTotalStarCount(),game.config.getStarLeaderBoardKey()),this.hasPassed=i},skipLevel:function(){this.isHardMode()?(this.levelId++,this.levelId<=this.getLevelList().length&&game.playerMan.setHardLevel(this.levelId)):(this.levelId++,this.levelId<=this.getLevelList().length&&game.playerMan.setLevel(this.levelId))},updateLevelStar:function(e,t){var i=game.playerMan.getLevelData(this.levelId,"star")||0;t>i&&(cc.log("updateLevelStar:oldStar:"+i+",star:"+t),game.playerMan.updateLevelData(e,"star",t),game.playerMan.updateLevelData(e,"starTag",!0))},updateHardLevelStar:function(e,t){var i=game.playerMan.getLevelData(this.levelId,"hardStar")||0;t>i&&(cc.log("updateHardLevelStar:oldStar:"+i+",star:"+t),game.playerMan.updateLevelData(e,"hardStar",t),game.playerMan.updateLevelData(e,"hardStarTag",!0))},resumeGame:function(){this.levelId--},chooseLevel:function(e){this.levelId=e},getDisplayLevel:function(){return this.levelId},getCurConfig:function(){var e=this.getLevelList();return e?e[this.levelId-1]:null},hasNextLevel:function(){var e=this.getLevelList();return!(this.levelId>e.length)},onGameFail:function(){this.totalFailCount++,this.addFailCount(),game.analyseManager.missionFailed(this.getMissionKey(),"normal_fail")},addFailCount:function(){game.playerMan.addFailCount(this.levelId)},showAds:function(e){cc.log("GameMan showAds:"+e+",isNewPlayer:"+game.playerMan.isNewPlayer()),this._showInterstitialAds()},_showInterstitialAds:function(){if(game.playerMan.getLevel()>=game.adsManager.startLevelLimit){var t=e("../common/enum/AdsPlace");game.adsManager.showInterstitial(t.Pass)}},showRegisterNotification:function(){this.resultCount>0&&this.resultCount%3==0&&game.gameLifeMan.registerNotification()},showRate:function(){if(!game.adsManager.showRateUs)return!1;var e=4,t=!1;return cc.sys.os===cc.sys.OS_ANDROID?(e=5,t=Math.floor((Date.now()-game.playerMan.player.lastShowRateTime)/864e5)>=2):t=Math.floor((Date.now()-game.playerMan.player.lastShowRateTime)/36e5)>=6,!!(!this.rated&&this.resultCount>0&&this.resultCount%e==0&&t)&&(game.rateManager.launchAppReview()?this.rated=!0:game.popupMan.popupRateDlg(function(){this.rated=!0,game.playerMan.setRated(!0)}.bind(this),function(){this.rated=!0}.bind(this)),game.playerMan.setLastShowRateTime(),!0)},getWheelLeftTime:function(){return game.playerMan.getLastWheelTime()+this.FREE_WHEEL_HOURS*this.ONE_HOUR_SECONDS-Date.now()},isFreeWheel:function(){return this.getWheelLeftTime()<=0},getCurrentSkinCfg:function(){var e=game.playerMan.getCurrentSkinId();return a.getInstance().getSkinCfg(e)},checkAutoPopup:function(e){this.checkDailyBonus()||this.checkWheel()||this.checkSpecialOffer()||e||this.checkNextDayTip()||this.checkWatchAdsGetDiamonds()||this.checkWatchAdsGetSkin()||this.checkWatchAdsOpenBox()},checkNextDayTip:function(){return this.resultCount>=3&&!game.playerMan.player.nextDayTips&&(game.popupMan.popupRewardDlg(_("next_day_tips"),function(){},"icon_gifts.png",1),game.playerMan.setNextDayTips(),!0)},checkDailyBonus:function(){return!(game.playerMan.player.lastClaimDailyBonusDay>=game.utils.getDayByTs(Date.now()))&&(cc.log("game.popupMan.popupDailyBonus"),game.popupMan.popupDailyBonus(),!0)},checkSpecialOffer:function(){return!1},checkWheel:function(){if(!this.showedWheel&&(this.showedWheel=!0,this.getWheelLeftTime()<=0)){var t=e("../enum/WheelType");return game.popupMan.popupWheelDlg(t.DailyBonus),!0}return!1},isSpecialOfferPurchased:function(){var e=a.getInstance().getSpecialOfferCfg(),t=game.playerMan.isSpecialOfferPurchased(e.pid);return cc.log("isSpecialOfferPurchased:"+t),t},checkRemoteConfig:function(){if(!game.utils.isAndroidAndSelfGame()){var e=this;game.remoteConfig.setRemoteConfigReceivedCallback(function(){cc.log("config man onRemoteConfigReceived"),a.getInstance().onRemoteConfigReceived(),game.adsManager.onRemoteConfigReceived(),e.logABTest("ads_config_group"),e.logABTest("level_config_group")}),game.remoteConfig.fetchRemoteConfig()}},logABTest:function(e){var t=game.remoteConfig.getRemoteConfig(e);t||(t="a"),game.analyseManager.trackEvent(e,{group:t})},hasCompletedTask:function(){for(var e=a.getInstance().getTaskList(),t=0;t<e.length;++t){var i=e[t];if(!game.playerMan.isTaskClaimed(i.id)&&this.isTaskCompleted(i))return!0}return!1},isTaskCompleted:function(t){var i=e("../enum/SkinRewardType"),n=!1;switch(t.type){case i.None:n=!0;break;case i.LevelCount:game.playerMan.getLevel()>=t.count&&(n=!0);break;case i.WatchAdCount:game.playerMan.player.interstitialAdCount>=t.count&&(n=!0);break;case i.WatchRewardAdCount:game.playerMan.player.rewardedAdCount>=t.count&&(n=!0);break;case i.Claimed:case i.Purchase:game.playerMan.hasSkin(t.id)&&(n=!0)}return n},checkWatchAdsGetSkin:function(){if(this.showedWatchAdsGetSkinCount>=game.adsManager.skinMaxPopCount)return!1;for(var t,i,n=e("../enum/SkinType"),o=a.getInstance().getSkinListByType(n.WatchAds),s=[],r=0;r<o.length;++r){t=o[r];var c=game.playerMan.hasSkin(t.id),l=t.type===n.WatchAds;l&&(i=t.count-game.playerMan.getSkinAdsCount(t.id)==1),!c&&l&&i&&s.push(t)}if(s.length<=0)return!1;var d=game.utils.randomNextInt(s.length);return!!(t=s[d])&&(game.popupMan.popupFreeSkin(t,function(e){e&&game.storeMan.onWatchAdGetSkin(t)}),this.showedWatchAdsGetSkinCount++,!0)},tryShowPassPopup:function(){this.levelId>game.adsManager.popupLevelLimit&&this.resultCount>0&&this.resultCount-this.lastPopCount>=this.currentStep&&(this.lastPopCount=this.resultCount,3===this.currentStep?this.currentStep=2:this.currentStep=3,this.showedWatchAdsGetSkinCount<=this.showedWatchAdsOpenBoxCount?this.checkWatchAdsGetSkin()||this.checkWatchAdsOpenBox():this.checkWatchAdsOpenBox()||this.checkWatchAdsGetSkin())},tryShowFailPopup:function(){return this.levelId>game.adsManager.popupLevelLimit&&this.totalFailCount>0&&this.totalFailCount%2==0&&!this.checkWatchAdsGetDiamonds()&&this.checkWatchAdsOpenBox()},checkWatchAdsOpenBox:function(){return!(this.showedWatchAdsOpenBoxCount>=game.adsManager.boxMaxPopCount)&&(game.popupMan.popupOpenGiftBox(function(e){e&&game.storeMan.onOpenBox()}),this.showedWatchAdsOpenBoxCount++,!0)},checkWatchAdsGetDiamonds:function(){var e=game.playerMan.player.lastDailyDiamondTime,t=game.utils.getDayByTs(e);return!(game.utils.getDayByTs(Date.now())<=t)&&(game.playerMan.setLastDailyDiamondsTime(),game.popupMan.popupOpenDailyDiamond(function(e){e&&game.storeMan.popupRewardItemDlg(o.create(o.DIAMOND,game.config.dailyDiamonds),"daily_diamonds")}),!0)},getTotalStarCount:function(){for(var e=a.getInstance().getLevelList(),t=0,i=0;i<e.length;++i){t+=game.playerMan.getLevelStar(i+1),t+=game.playerMan.getHardLevelStar(i+1)}return t}});s.sharedDirector=null,s.firstUseDirector=!0,s.getInstance=function(){return s.firstUseDirector&&(s.firstUseDirector=!1,s.sharedDirector=new s),s.sharedDirector},t.exports=s,cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace","../config/ConfigMan":"ConfigMan","../enum/ItemType":"ItemType","../enum/SkinRewardType":"SkinRewardType","../enum/SkinType":"SkinType","../enum/WheelType":"WheelType","../events/EventsName":"EventsName"}],GamePrepare:[function(e,t,i){"use strict";cc._RF.push(t,"0e0caqUI9VPXavECqs2bLc/","GamePrepare");var n=e("Storage"),a=e("Config"),o=e("ConfigMan"),s=e("./common/manager/NotificationManager"),r=e("./common/manager/AnalyseManager"),c=e("./common/manager/StoreManager"),l=e("./common/manager/GCManager"),d=e("PlayerMan"),h=e("./common/manager/AdsManager"),u=e("./common/audio/AudioPlayer"),p=e("Utils"),g=e("ResMan"),m=e("./common/dispatcher/EventDispatcher"),f=e("./model/GameMan"),_=e("./model/PopupMan"),y=e("./common/popup/DialogManager"),v=e("./common/model/EffectMan"),C=e("./common/manager/ShareManager"),S=e("./common/manager/CrossPromManager"),b=e("LanguageData"),w=e("./model/StoreMan"),M=e("./model/GameLifeMan"),k=e("./common/manager/RateManager"),T=e("./common/util/AudioHelper"),I=e("./common/manager/HttpManager"),D=e("./model/AdsHelper"),R=e("./common/manager/RemoteConfigManager"),A=function(){cc.sys.isNative&&(window.jsb_dp?jsb_dp.oneSdkBridge=jsb_dp.OneSDKJSBridge.getInstance():(window.jsb_dp={},window.jsb_dp.oneSdkBridge={},window.jsb_dp.oneSdkBridge.unscheduleNotification=function(){},window.jsb_dp.oneSdkBridge.scheduleNotification=function(){},window.jsb_dp.oneSdkBridge.addVirtualCurrency=function(){},window.jsb_dp.oneSdkBridge.fetchRemoteConfig=function(){},window.jsb_dp.oneSdkBridge.getRemoteConfig=function(){},window.jsb_dp.oneSdkBridge.activateRemoteFetched=function(){},window.jsb_dp.oneSdkBridge.getProductsInfo=function(){},window.jsb_dp.oneSdkBridge.getUnverifiedReceiptList=function(){},window.jsb_dp.oneSdkBridge.initRateParams=function(){},window.jsb_dp.oneSdkBridge.launchRate=function(){},window.jsb_dp.oneSdkBridge.reportScore=function(){},window.jsb_dp.oneSdkBridge.isGameCenterAvailable=function(){},window.jsb_dp.oneSdkBridge.trackLogin=function(){},window.jsb_dp.oneSdkBridge.trackEvent=function(){},window.jsb_dp.oneSdkBridge.setPlayerLevel=function(){},window.jsb_dp.oneSdkBridge.showBannerAd=function(){},window.jsb_dp.oneSdkBridge.isShowBannerAd=function(){},window.jsb_dp.oneSdkBridge.missionBegan=function(){},window.jsb_dp.oneSdkBridge.missionCompleted=function(){},window.jsb_dp.oneSdkBridge.missionFailed=function(){},window.jsb_dp.oneSdkBridge.removeBannerAd=function(){},window.jsb_dp.oneSdkBridge.vibrateShort=function(){},window.jsb_dp.oneSdkBridge.vibrateLong=function(){},window.jsb_dp.oneSdkBridge.isShowNativeAd=function(){})),cc.PhysicsAABBQueryCallback.prototype.ReportFixture=function(e){e.GetBody();if(this._isPoint){if(e.TestPoint(this._point))return this._fixtures.push(e),!1}else this._fixtures.push(e);return!0};var e={};e.prepared||(e.prepared=!0,e.storage=n.getInstance(),e.config=a,e.configMan=o.getInstance(),e.utils=p,e.notificationManager=s.getInstance(),e.analyseManager=r.getInstance(),e.storeManager=c.getInstance(),e.gcManager=l.getInstance(),e.rateManager=k.getInstance(),e.playerMan=d.getInstance(),e.resMan=g.getInstance(),e.dispatcher=m.getInstance(),e.gameMan=f.getInstance(),e.adsManager=h.getInstance(),e.audioPlayer=u.getInstance(),e.popupMan=_,e.dialogManager=y.getInstance(),e.effectMan=v.getInstance(),e.shareManager=C.getInstance(),e.crossPromMan=S.getInstance(),e.i18n=b,e.storeMan=w.getInstance(),e.gameLifeMan=M.getInstance(),e.audioHelper=T,e.httpManager=I.getInstance(),e.adsHelper=D.getInstance(),e.remoteConfig=R.getInstance()),window.game=e,window._=function(t){return e.i18n.t(t)},e.gameLifeMan.startGame(),e.adsManager.init(),e.gameMan.init()};cc.isUndefined=function(e){return void 0===e};var L=function(e){cc.sys.language===cc.sys.LANGUAGE_CHINESE?b.init("zh"):b.init("en"),game.playerMan.initData(),game.resMan.preload(function(){game.configMan.reload(),e&&e()})};t.exports.start=function(){window.started||(window.started=!0,A())},t.exports.initData=function(e){window.initedData?e&&e():(window.initedData=!0,L(e))},cc._RF.pop()},{"./common/audio/AudioPlayer":"AudioPlayer","./common/dispatcher/EventDispatcher":"EventDispatcher","./common/manager/AdsManager":"AdsManager","./common/manager/AnalyseManager":"AnalyseManager","./common/manager/CrossPromManager":"CrossPromManager","./common/manager/GCManager":"GCManager","./common/manager/HttpManager":"HttpManager","./common/manager/NotificationManager":"NotificationManager","./common/manager/RateManager":"RateManager","./common/manager/RemoteConfigManager":"RemoteConfigManager","./common/manager/ShareManager":"ShareManager","./common/manager/StoreManager":"StoreManager","./common/model/EffectMan":"EffectMan","./common/popup/DialogManager":"DialogManager","./common/util/AudioHelper":"AudioHelper","./model/AdsHelper":"AdsHelper","./model/GameLifeMan":"GameLifeMan","./model/GameMan":"GameMan","./model/PopupMan":"PopupMan","./model/StoreMan":"StoreMan",Config:"Config",ConfigMan:"ConfigMan",LanguageData:"LanguageData",PlayerMan:"PlayerMan",ResMan:"ResMan",Storage:"Storage",Utils:"Utils"}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"26875kqBIdPPr9pm2+7tkD1","GameScene");e("LinePhysicsCollider"),e("PlayerBall"),e("../editor/EditorHelper"),e("LevelConfig"),e("GamePrepare"),e("GravityToggle"),e("../common/enum/AdsPlace"),e("../entity/BallPool");var n=e("../enum/GridType"),a=(e("../enum/ShapeType"),e("../model/GameMan"),e("../events/EventsName")),o=(e("../enum/ItemCategory"),e("../enum/ItemType")),s=e("../config/ItemConfig"),r=e("../config/BrickConfig"),c=e("../entity/GridComponent"),l=e("../entity/ItemComponent"),d=e("../entity/BoardComponent"),h=e("../entity/BallComponent"),u=e("../enum/StoreType"),p=(e("../enum/ColliderTag"),1),g=2,m=4,f=5,y=6,v=7,C=8;cc.Class({extends:e("BaseScene"),properties:{ndLifeNode:cc.Node,ndHelp:cc.Node,ndAimHelp:cc.Node,ndLifeNodes:[cc.Node],spYellows:[cc.Node],spBlacks:[cc.Node],lbLevel:cc.Label,ndGame:cc.Node,ndWalls:[cc.Node],progress:cc.ProgressBar,ndItems:[cc.Node],ndTopUI:cc.Node,ndTopBg:cc.Node,ndBottomBg:cc.Node,ndItemParent:cc.Node,GRID_ZORDER:0,BOARD_ZORDER:2,GRID_NUM_ZORDER:5,BALL_ZORDER:6,ITEM_ZORDER:10,ITEM_NUM_ZORDER:15,ANIM_ZORDER:20,HINT_BALL_ZORDER:200,HINT_GRAY_BALL_ZORDER:150,SPACE_STEP:1/60,LIFE_POSIBILITY:.005,BOOST_POSIBILITY:.05,MAX_SPEED:600,MAX_LIFE:2,BOOST_SPEED:80,MAX_BALL:350,TOP_INNER_WALL:95,MAX_SPLIT_COUNT:100,TOP_AD_WALL:100,SPLIT_BALL_ANGLE:null,MUST_GEN_BOOST_TIME:25,RANDOM_NUM:40,MICRO_RANDOM_NUM:10,RANDOM_VEL:50,BALL_WIDTH:16,config:null,row:0,col:0,ballList:null,gameStep:-1,lifeCount:2,gameController:null,stoped:!1,lastTime:0,totalTime:0,lastAdjustTime:0,hardMode:!1,accumulator:0,itemTypeMap:null,lastGetBoostTime:0,_curTouchId:-1,lastRemoveTime:0,useItemMap:null,bricks:null,dots:null},onBackClicked:function(){this.showed||this.tryShowPause()},onBackSpace:function(){},onLoad:function(){this._super(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this),game.dispatcher.on(a.UPDATE_SKIN,this.onUpdateSkin,this),game.dispatcher.on(a.SHOW_AIM_GUIDE,this.onShowAimGuide,this),game.dispatcher.on(a.USE_ITEM,this.onUseItem,this),game.dispatcher.on(a.RECOVERY_BALLS,this.onRecoveryBalls,this),this.showTopBannerAds(),game.storeMan.init(),game.gameMan.onGameStart(),this.init()},onUpdateLifeCount:function(){for(var e=this.lifeCount,t=0;t<this.ndLifeNodes.length;++t){var i=this.ndLifeNodes[t];i&&(i.active=e>t)}},onUpdateStar:function(e){for(var t=0;t<3;++t)this.spYellows[t].active=e>=t+1,this.spBlacks[t].active=e<t+1},onUpdateTimeUI:function(){var e=0;this.eclipsedTime&&(e=this.eclipsedTime/1e3),this.progress.progress=game.gameMan.getProgressPercent(e)/100;var t=game.gameMan.getCurrentStar(e);this.onUpdateStar(t)},init:function(){var e=game.gameMan.getCurConfig();this.SPLIT_BALL_ANGLE=[90,60,120],game.utils.isPad()&&(this.TOP_AD_WALL=0),this.INNER_WALL=20,this.WIN_WIDTH=cc.winSize.width,this.WIN_HEIGHT=cc.winSize.height,this.lastGetBoostTime=Date.now(),this.itemTypeMap={},this.itemTypeList=[o.AddBall,o.MultiBall],game.utils.isIOSNotchScreen()&&(this.TOP_AD_WALL+=70),this.hardMode=game.gameMan.isHardMode(),this.hardMode&&(e=e.getHardCfg()),e.lifeProbability>0&&(this.LIFE_POSIBILITY*=e.lifeProbability),e.boostProbability>0&&(this.BOOST_POSIBILITY*=game.gameMan.getBoostProbability(e)),cc.log("this.BOOST_POSIBILITY:"+this.BOOST_POSIBILITY),this.config=e,this.row=e.width,this.col=e.height,this.GRID_WIDTH=e.pixelWidth/e.width*.95,this.GRID_HEIGHT=e.pixelHeight/e.height*.95,cc.log("config.pixelWidth:"+e.pixelWidth),cc.log("config.height:"+e.height),cc.log("this.GRID_WIDTH:"+this.GRID_WIDTH),this.GAP_WIDTH=e.pixelWidth/e.width-this.GRID_WIDTH,this.GAP_HEIGHT=e.pixelHeight/e.height-this.GRID_HEIGHT;var t=600+this.TOP_INNER_WALL+this.TOP_AD_WALL+10,i=this.WIN_HEIGHT-t;game.utils.isIOSNotchScreen()?this.BRICK_Y=Math.min(.4*this.WIN_HEIGHT,i):game.utils.isAndroidNotchScreen()?this.BRICK_Y=Math.min(.36*this.WIN_HEIGHT,i):this.BRICK_Y=Math.min(.3*this.WIN_HEIGHT,i),this.BOARD_Y=this.BRICK_Y-.13*this.WIN_HEIGHT,this.initPool(),this.initWorld(),this.initObstacles(),this.initBricks(),this.initItems(),this.initBoard(),this.initHintLines(),this.initItemConfigs(),this.ballList=[],this.boosts=[],this.useItemMap={},this.gameStep=p,this.initUI()},initNormals:function(){for(var e=[cc.v2(0,-1),cc.v2(-1,0),cc.v2(0,1),cc.v2(1,0)],t=0;t<this.ndWalls.length;++t)this.ndWalls[t].normal=e[t]},initPool:function(){this.ballPool=game.gameMan.ballPool,this.brickPool=game.gameMan.brickPool},initUI:function(){this.lbLevel.string=game.utils.sprintf(_("level_title"),game.gameMan.levelId),this.onUpdateLifeCount(),this.ndHelp.active=!1,"true"===game.storage.getItem("first_enter","true")?(this.ndAimHelp.active=!0,this.showAimGuideAnimation()):this.ndAimHelp.active=!1,this.onUpdateTimeUI(),game.utils.isIOSNotchScreen()?(this.ndTopUI.getComponent(cc.Widget).top+=70,this.ndTopBg.getComponent(cc.Widget).top+=70,this.ndBottomBg.getComponent(cc.Widget).bottom+=70,this.ndItemParent.getComponent(cc.Widget).bottom+=50):game.utils.isPad()&&(this.ndTopUI.getComponent(cc.Widget).top+=-100,this.ndTopBg.getComponent(cc.Widget).top+=-100)},initItemConfigs:function(){this.itemConfigs=game.configMan.getItemList();for(var e=0;e<this.ndItems.length;++e){this.ndItems[e].getComponent("ItemConfigComponent").initWith(this.itemConfigs[e])}},onDestroy:function(){this._super(),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this),game.dispatcher.off(a.USE_ITEM,this.onUseItem,this),game.dispatcher.off(a.SHOW_AIM_GUIDE,this.onShowAimGuide,this),game.dispatcher.off(cc.game.EVENT_HIDE,this.gameOnHide,this),game.dispatcher.off(a.UPDATE_SKIN,this.onUpdateSkin,this),game.dispatcher.off(a.RECOVERY_BALLS,this.onRecoveryBalls,this),this.removeTopBannerAds(),this.space=null,this.ballList=null,this.boosts=null;for(var e=0;e<this.obstacles.length;++e){var t=this.obstacles[e];this.brickPool.put(t.node)}this.obstacles=null,this.bricks=null},start:function(){this._super(),this.initNormals()},onTouchStart:function(e){if(this._curTouchId>0)return!1;this._curTouchId=e.touch.getID(),this.ndHelp.active&&(this.resume(),this.ndHelp.active=!1,game.storage.setItem("first_enter","false")),this.ndAimHelp.active&&(this.ndAimHelp.active=!1,this.clearHintNode(),this.hintGuide=!0,this.gameStep=p);var t=e.getLocation();return(this.gameStep===p||this.gameStep===m)&&(this.lastTouchPos=t,this.lastDirection=null,!0)},onTouchMove:function(e){if(e.touch.getID()!==this._curTouchId)return!1;var t=e.getLocation();if(this.lastTouchPos){var i=t.x-this.lastTouchPos.x;Math.abs(i)>.5&&(game.gameMan.canUseAimItem()&&this.gameStep===p?(this.clearHintNode(),this.lastDirection=this.drawAimLine(t)):this.moveBoard(i),this.lastTouchPos=t)}return!0},onTouchEnd:function(e){if(e.touch.getID()!==this._curTouchId)return!1;game.gameMan.canUseAimItem()?this.gameStep===p&&(this.tryShootFirstBall(this.lastDirection),this.clearHintNode()):this.tryShootFirstBall(),this.lastSelectGrid=null,this.lastTouchPos=null,this._curTouchId=-1,this.lastDirection=null},onTouchCancel:function(e){this.onTouchEnd(e)},onRecoveryBalls:function(){if(this.gameStep===m){this.gameStep=v,this.lastBallCount=this.ballList.length,this.recoveryBallCount=0;var e=this.getInitBallPos();cc.log("initBallPos:"+JSON.stringify(e));for(var t=0;t<this.ballList.length;++t){var i=this.ballList[t];cc.log("ball position:"+JSON.stringify(i.getPosition())),i.getSprite().runAction(cc.sequence(cc.moveTo(.5,e),cc.callFunc(this.onRecoveryBall,this,i)))}this.ballList=[]}},onRecoveryBall:function(e,t){t.node.removeFromParent(),this.recoveryBallCount++,this.recoveryBallCount>=this.lastBallCount&&(this.gameStep=m)},onUpdateSkin:function(){for(var e=0;e<this.ballList.length;++e)this.ballList[e].updateSkin();this.boardNode.getComponent(d).updateSkin()},gameOnHide:function(){this.gameStep===m&&this.tryShowPause()},tryShowPause:function(){this.stoped||this.showPause()},createDotNode:function(){var e=game.utils.createSprite("dot","atlas/skin_batch","skin_0");return e.node.scale=.2,e.node.opacity=150,e.node.color=cc.Color.GRAY,e.node},initHintLines:function(){this.drawNode=new cc.Node("draw"),this.ndGame.addChild(this.drawNode,this.HINT_GRAY_BALL_ZORDER);var e=game.gameMan.getCurrentSkinCfg();this.hintSprite=game.utils.createSprite("hint","atlas/skin_batch",e.image).node,this.ndGame.addChild(this.hintSprite,this.HINT_BALL_ZORDER),this.hintSprite.active=!1,this.hintSprite.scale=this.BALL_WIDTH/this.hintSprite.width*e.scale,this.dots=[];for(var t=0;t<30;t++){var i=this.createDotNode();this.dots.push(i),i.active=!1,this.drawNode.addChild(i)}},initObstacles:function(){this.obstacles=[];for(var e=0;e<this.config.obstacles.length;++e){var t=this.config.obstacles[e],i=this.createBrick(t,n.OBSTACLE);this.obstacles.push(i)}},initBricks:function(){this.bricks=[];for(var e=0;e<this.config.bricks.length;++e){var t=this.config.bricks[e],i=this.createBrick(t,n.BRICK);this.bricks.push(i);var a=this.createBrickNum();a.node.setPosition(i.node.getPosition()),i.setBrickNum(a)}},createBrickNum:function(){var e=game.utils.createLabel("",.5);return this.ndGame.addChild(e.node,this.GRID_NUM_ZORDER),e},initItems:function(){this.items=[];for(var e=0;e<this.config.items.length;++e){var t=this.config.items[e],i=t.x,n=t.y,a=this.createItem(t,this.getGridPos(n,i));this.items.push(a)}},createBrick:function(e,t){var i,n=e.x,a=e.y;this.brickPool.size()>0?(i=this.brickPool.get().getComponent(c)).reset("",this.GRID_WIDTH,this.GRID_HEIGHT,t,e.count):(i=new cc.Node("brick").addComponent(c)).init("",this.GRID_WIDTH,this.GRID_HEIGHT,t,e.count);return this.ndGame.addChild(i.node,this.GRID_ZORDER),i.node.setPosition(this.getGridPos(a,n)),i.bbBox=i.node.getBoundingBox(),i},createItem:function(e,t){var i=new cc.Node("item").addComponent(l);i.init(e),this.ndGame.addChild(i.node,this.ITEM_ZORDER),i.node.setPosition(t);var n=this.createItemLabel(e);return i.setItemLabel(n),n.node.setPosition(i.node.getPosition()),i},createItemLabel:function(e){var t=game.utils.createLabel("",.4);switch(this.ndGame.addChild(t.node,this.ITEM_NUM_ZORDER),e.type){case o.AddBall:t.string="+"+e.count;break;case o.MultiBall:t.string="x"+e.count}return t},initBoard:function(){var e=cc.loader.getRes("prefabs/board_view",cc.Prefab);this.boardNode=cc.instantiate(e),this.boardNode.getComponent(d).init(this.BALL_WIDTH),this.ndGame.addChild(this.boardNode,this.BOARD_ZORDER),this.boardNode.setPosition(cc.v2(.5*this.WIN_WIDTH,this.BOARD_Y))},getBallWidth:function(){return 16},initWorld:function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.enabledAccumulator=!0,e.FIXED_TIME_STEP=1/30,e.VELOCITY_ITERATIONS=8,e.POSITION_ITERATIONS=8},getGridPos:function(e,t){var i=this.getGridSize();return cc.v2(.5*(this.WIN_WIDTH-this.config.pixelWidth)+(i.width+this.GAP_WIDTH)*(t+.5),(i.height+this.GAP_HEIGHT)*(e+.5)+this.BRICK_Y)},getGridSize:function(){return this.lastGridSize||(this.lastGridSize=cc.size(this.GRID_WIDTH,this.GRID_HEIGHT)),this.lastGridSize},update:function(e){if(!this.stoped)switch(this.gameStep){case p:break;case m:this.updateTime(e),this.updateCollider(e),this.updateGrids(e),this.updateItems(e),this.updateBoost(e),this.checkGameOver();break;case f:this.onUpdateLifeCount(),this.removeAllBoosts(),this.boardNode.getComponent(d).showBall(),this.gameStep=p;break;case C:this.updateCollider(e);break;case g:var t=this.ndAimHelp.getComponent("AimGuideComponent").getHandWorldPosition();this.lastAimHelpPosition||(this.lastAimHelpPosition=t);var i=t.x-this.lastAimHelpPosition.x;Math.abs(i)>10&&(this.clearHintNode(),this.drawAimLine(t))}},updateTime:function(e){this.eclipsedTime||(this.eclipsedTime=0),this.eclipsedTime+=1e3*e,this.onUpdateTimeUI()},updateGrids:function(e){for(var t=this.bricks.length-1;t>=0;--t){var i=this.bricks[t];i.removeable&&this.removeBrick(i)}},updateItems:function(e){for(var t=this.items.length-1;t>=0;--t){var i=this.items[t];i.removeable&&(this.triggerItem(i),this.removeItem(i))}},triggerItem:function(e){switch(e.itemCfg.type){case o.AddBall:this.useAddBallBoost(e.node.getPosition(),e.itemCfg.count);break;case o.MultiBall:this.useMultiBallBoost(e.itemCfg.count)}},onUseItem:function(e){if(this.gameStep===m){if((e===o.ExpandBoard||e===o.BottomObstacle)&&this.useItemMap[e]>0)return;game.storeMan.useItem(e)?(this.useItemMap[e]=(this.useItemMap[e]||0)+1,this.triggerBottomItem(e)):this.showDiamondStore()}},triggerBottomItem:function(e){switch(e){case o.ExpandBoard:this.boardNode.getComponent(d).extendBoard();break;case o.ExplodeRandom:this.useExplodeBricks();break;case o.BottomObstacle:this.addBottomObstacleBricks();break;case o.MultiBall:this.useMultiBallBoost(3)}},getColliderGrids:function(e){var t,i,n=[];for(t=this.bricks.length-1;t>=0;--t)i=this.bricks[t],this.checkCollider(e,i.bbBox)&&n.push(i);for(t=this.obstacles.length-1;t>=0;--t){var a=this.obstacles[t];this.checkCollider(e,a.bbBox)&&n.push(a)}return n},getUnionRect:function(e){return e.sort(function(e,t){return e.x===t.x?e.y-t.y:e.x-t.x}),cc.rect(e[0].x,e[0].y,e[1].xMax-e[0].x,e[1].yMax-e[0].y)},updateCollider:function(e){for(var t=!1,i=this.ballList.length-1;i>=0;--i){var n=this.ballList[i],a=!1,o=null,s=0,r="";for(d=this.ndWalls.length-1;d>=0;--d){var c=this.ndWalls[d];c.bbBox||(c.bbBox=c.getBoundingBox()),this.checkCollider(n,c.bbBox)&&(t=!0,a=!0,o=c,r="wall_"+d,s++)}var l=this.getColliderGrids(n);if(l.length>0){for(var d=0;d<l.length;++d)r+=l[d]._id;var h=l.length;if(o&&(h+=2),a=!0,!n._colliderKey||n._colliderKey!==r){if(h>=3)(f=n.getVel()).x=-f.x,f.y=-f.y,n.setVel(f);else if(2===h){var u=l[0].bbBox,p=l[1].bbBox,g=this.getUnionRect([u,p]);this.checkAndUpdateVel(n,g)}else 1===h&&this.checkAndUpdateVel(n,l[0].bbBox);t=!0,l[0].onCollisioned(),l[0].isBrick()&&this.generateBoost(l[0].node.getPosition())}}else if(o&&(!n._colliderKey||n._colliderKey!==r)){var f=n.getVel();if(s>=2)(f=n.getVel()).x=-f.x,f.y=-f.y,n.setVel(f);else 0!==(f.dot(o.normal)<0?o.normal:cc.v2(o.normal.y,o.normal.x)).x?f.x=-f.x:f.y=-f.y,n.setVel(f)}for(r||this.checkAndUpdateBoard(n),d=this.items.length-1;d>=0;--d){var _=this.items[d];this.checkCollider(n,_.node.getBoundingBox())&&this.onTriggerItem(_)}a?n._colliderKey=r:(n._colliderKey&&this.randomBall(n),n._colliderKey="");var y=n.node.getPosition();y.y<this.BOARD_Y-40||!this.isInView(y)?this.removeBall(n):n.onUpdate(1/60)}this.gameStep===m&&t&&this.playKnockAudio()},randomBall:function(e){e._lastRandomTime||(e._lastRandomTime=Date.now()),Date.now()-e._lastRandomTime>=3e3&&(e._lastRandomTime=Date.now(),this.randomAdjustBallSpeed(e))},checkAndUpdateBoard:function(e){var t=this.boardNode.getBoundingBox();if(!(e.node.getPosition().y<t.center.y)&&game.utils.getCollideInfo(e.node.getPosition(),this.BALL_WIDTH/2,t,!1)){var i=(e.node.x-(this.boardNode.x-this.boardNode.width/2))/this.boardNode.width*100/50-1;i=Math.max(Math.min(.9,i),-.9);var n=Math.sqrt(1-i*i);e.setVel(cc.v2(this.MAX_SPEED*i,this.MAX_SPEED*n))}},checkCollider:function(e,t){return!!game.utils.getCollideInfo(e.node.getPosition(),this.BALL_WIDTH/2,t,!1)},checkAndUpdateVel:function(e,t){var i=game.utils.getCollideInfo(e.node.getPosition(),this.BALL_WIDTH/2,t,!0);if(i){var n=e.getVel();return 0!==(n.dot(i.normal)<0?i.normal:cc.v2(i.normal.y,i.normal.x)).x?n.x=-n.x:n.y=-n.y,e.setVel(n),!0}return!1},getRandomNum:function(e){return game.utils.randomNextIntInRange(e,2*e)},randomAdjustBallSpeed:function(e){var t=e.getVel();t.x<this.RANDOM_VEL&&t.x>-this.RANDOM_VEL?(t.x>0?t.x+=this.getRandomNum(this.RANDOM_NUM):t.x-=this.getRandomNum(this.RANDOM_NUM),e.setVel(t)):t.y<this.RANDOM_VEL&&t.y>-this.RANDOM_VEL?(t.y>0?t.y+=this.getRandomNum(this.RANDOM_NUM):t.y-=this.getRandomNum(this.RANDOM_NUM),e.setVel(t)):(t.x+=this.getRandomNum(this.MICRO_RANDOM_NUM)-this.MICRO_RANDOM_NUM,t.y+=this.getRandomNum(this.MICRO_RANDOM_NUM)-this.MICRO_RANDOM_NUM,e.setVel(t))},updateBoost:function(e){for(var t=cc.v2(0,-e*this.BOOST_SPEED),i=this.boosts.length-1;i>=0;--i){var n=this.boosts[i];if(n.onMoveDeltaPos(t),n.node.getBoundingBox().intersects(this.boardNode.getBoundingBox())){switch(n.getType()){case o.NewLife:this.onAddLife();break;case o.MultiBall:this.useMultiBallBoost(n.itemCfg.count);break;case o.AddBall:this.useAddBallBoost(this.getInitBallPos(),n.itemCfg.count)}this.onRemoveBoost(n)}else n.y<0&&this.onRemoveBoost(n)}},addBottomObstacleBricks:function(){for(var e=0;e<5;++e){var t=new r;t.x=e,t.y=-1;var i=this.createBrick(t,n.OBSTACLE);i.showAppearAnim(),this.obstacles.push(i)}},useExplodeBricks:function(){game.audioPlayer.playEffectByKey("audio/bomb");for(var e=cc.loader.getRes("prefabs/bomb_anim",cc.Prefab),t=this.bricks.length-1;t>=0;--t){var i=this.bricks[t],n=cc.instantiate(e);this.ndGame.addChild(n,this.ANIM_ZORDER),n.setPosition(i.node.getPosition()),i.removeBricks(5)}},useMultiBallBoost:function(e){this.tryShootFirstBall(),game.audioPlayer.playEffectByKey("audio/boost_add"),game.audioPlayer.vibrateShort();for(var t=this.ballList.length-1;t>=0;--t){var i=this.ballList[t];if(this.onSplitBall(i.node.getPosition(),e),this.ballList.length>this.MAX_BALL)break}},useAdd3BallBoost:function(){this.useAddBallBoost(this.getInitBallPos(),3)},useAddBallBoost:function(e,t){this.tryShootFirstBall(),game.audioPlayer.playEffectByKey("audio/boost_add"),this.onShootNewBall(e,t),game.audioPlayer.vibrateShort()},useBombBoost:function(){this.watchAdAndRelife()},onAddLife:function(){this.lifeCount++,this.onUpdateLifeCount(),game.audioPlayer.playEffectByKey("audio/life_add"),game.audioPlayer.vibrateShort()},onSplitBall:function(e,t){for(var i=this.MAX_SPEED,n=0;n<t;++n){var a=game.utils.randomNextInt(90),o=1===game.utils.randomNextInt(2)?1:-1,s=1===game.utils.randomNextInt(2)?1:-1,r=e.add(cc.v2(10*game.utils.randomNextNumber(1)-5,10*game.utils.randomNextNumber(1)-5));this.shootBall(r,cc.v2(o*i*Math.sin(Math.PI/180*a),s*i*Math.cos(Math.PI/180*a)))}},onShootNewBall:function(e,t){for(var i=this.MAX_SPEED,n=0;n<t;++n){var a=cc.v2(i*Math.cos(Math.PI/180*this.SPLIT_BALL_ANGLE[n]),i*Math.sin(Math.PI/180*this.SPLIT_BALL_ANGLE[n]));this.shootBall(e,a)}},switchPassDlg:function(){game.audioPlayer.playEffectByKey("audio/victory"),setTimeout(function(){game.popupMan.popupPass(function(){game.gameMan.resumeGame(),game.utils.loadSceneWithAnim("GameScene")},function(){game.gameMan.hasNextLevel()?game.utils.loadSceneWithAnim("GameScene"):game.popupMan.popupCommonDlg(_("all_completed"),function(){game.utils.loadSceneWithAnim("LevelScene")})})},500)},checkGameOver:function(){var e=this;if(0===this.bricks.length){if(window.isEditor)return;this.gameStep=C;var t=game.gameMan.levelId;game.gameMan.gameWin(this.eclipsedTime/1e3);var i=game.gameMan.currentStar;i<3?game.popupMan.popup3Star(i,!1,function(i){i?(game.gameMan.onWatchAdsGet3Star(t),e.switchPassDlg()):e.switchPassDlg()}):this.switchPassDlg()}else 0===this.ballList.length&&(this.lifeCount>0?(this.lifeCount--,this.gameStep=f):game.adsManager.isRewardVideoReady()?(this.gameStep=y,game.popupMan.popupRelife(function(){e.watchAdAndRelife()},function(){e.switchToFail()})):e.switchToFail())},watchAdAndRelife:function(){var e=this;game.storeMan.checkAndShowRewardVideo((game.utils.isIOS(),"fuhuo01"),function(t){t?(game.analyseManager.trackEvent("WatchAdsToRelife"),e.switchToRelife()):e.switchToFail()})},switchToRelife:function(){this.lifeCount=2,this.gameStep=f},switchToFail:function(){window.isEditor?this.switchToRelife():(game.gameMan.onGameFail(),this.gameStep=C,game.popupMan.popupFail(function(){game.utils.loadSceneWithAnim("GameScene")},function(){game.gameMan.skipLevel(),game.utils.loadSceneWithAnim("GameScene")}))},isInView:function(e){return!(e.x<0||e.x>this.WIN_WIDTH||e.y<0||e.y>this.WIN_HEIGHT)},onShowAimGuide:function(e){},showAimGuideAnimation:function(){this.ndAimHelp.active=!0,this.gameStep=g},tryShootFirstBall:function(e){this.gameStep===p&&e&&(this.gameStep=m,this.shootBall(this.getInitBallPos(),cc.v2(e.x*this.MAX_SPEED,e.y*this.MAX_SPEED)),this.boardNode.getComponent(d).hideBall(),this.scheduleOnce(function(){this.hintGuide&&(this.stop(),this.ndHelp.active=!0)}.bind(this),1))},getReflectionNormal:function(e,t,i){var n=t.sub(e),a=n.dot(i);return n.sub(i.mul(2*a)).normalizeSelf()},canShoot:function(e){var t=this.getInitBallPos();return!(e.y<t.y+15)},drawDashNode:function(e,t,i){var n=i;return game.utils.getDashPointsNode(this.drawNode,[e,t],[20],20,function(e,t){if(!this.dots[n]){var i=this.createDotNode();this.dots.push(i),this.drawNode.addChild(i)}this.dots[n].active=!0,this.dots[n++].setPosition(cc.v2(e,t))}.bind(this)),n},drawAimLine:function(e){var t=this.getInitBallPos();if(!this.canShoot(e))return null;var i=e.sub(t).normalizeSelf(),n=t.add(i.mul(cc.winSize.height+cc.winSize.width)),a=cc.director.getPhysicsManager().rayCast(t,n,cc.RayCastType.Closest);if(a&&a.length>0){var o=a[0],s=o.point,r=this.drawDashNode(t,s,0),c=this.getReflectionNormal(t,s,o.normal),l=s.add(c.mul(80));return this.drawDashNode(s,l,r),this.hintSprite.active=!0,this.hintSprite.setPosition(s),i}return null},moveBoard:function(e){var t=this.INNER_WALL+.5*this.BALL_WIDTH+2,i=this.boardNode.x+1.6*e;i<t?i=t:i>cc.winSize.width-t&&(i=cc.winSize.width-t),this.boardNode.getComponent(d).setPosX(i)},clearHintNode:function(){for(var e=0;e<this.dots.length;++e)this.dots[e].active=!1;this.hintSprite.active=!1},onTriggerItem:function(e){switch(e.itemCfg.type){case o.AddBall:case o.MultiBall:e.onCollisioned()}},playKnockAudio:function(){Date.now()-this.lastTime>50&&(this.lastTime=Date.now(),game.audioPlayer.playEffectByKey("audio/knock"))},getInitBallPos:function(){return this.boardNode.getPosition().add(cc.v2(0,.5*this.boardNode.height+.5*this.BALL_WIDTH+15))},createBall:function(){var e=new cc.Node("ball").addComponent(h);return e.init(this.BALL_WIDTH,this),e},shootBall:function(e,t){var i;this.ballList.length>this.MAX_BALL||(this.ballPool.size()>0?(i=this.ballPool.get().getComponent(h)).reset(this.BALL_WIDTH):i=this.createBall(),this.ndGame.addChild(i.node,this.BALL_ZORDER),this.ballList.push(i),i.node.setPosition(e),i.setVel(t))},removeBall:function(e){var t=this.ballList.indexOf(e);t>-1&&this.ballList.splice(t,1),this.ballPool.put(e.node)},removeBrick:function(e){var t=this.bricks.indexOf(e);t>-1&&this.bricks.splice(t,1),e.removeBrickNum(),this.brickPool.put(e.node);var i=cc.loader.getRes("prefabs/bricks_anim",cc.Prefab),n=cc.instantiate(i);this.ndGame.addChild(n),n.setPosition(e.node.getPosition())},removeItem:function(e){var t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),e.removeItemLabel(),e.node.removeFromParent()},getMinGenerateBoostType:function(){for(var e=0,t=1e6,i=0;i<this.itemTypeList.length;++i){var n=this.itemTypeList[i],a=this.itemTypeMap[n]||0;a<t&&(e=n,t=a)}return e},generateBoost:function(e){var t,i=!1;i=this.hardMode?game.utils.randomNextInt(400)<400*this.BOOST_POSIBILITY/this.ballList.length:game.utils.randomNextInt(100)<100*this.BOOST_POSIBILITY/this.ballList.length,game.gameMan.levelId<=2&&(cc.isUndefined(this.generateBoostCount)&&(this.generateBoostCount=0),this.generateBoostCount<3&&(i=!0,this.generateBoostCount++)),!i&&Date.now()-this.lastGetBoostTime>1e3*this.MUST_GEN_BOOST_TIME&&(i=!0,cc.log("bricks-view must gen boost time"));var n=1;i&&(this.lastGetBoostTime=Date.now(),t=this.getMinGenerateBoostType(),this.itemTypeMap[t]=(this.itemTypeMap[t]||0)+1,n=t===o.MultiBall?game.utils.randomNextInt(100)>75?2:3:game.utils.randomNextIntInRange(2,3),this.getDroppingBoostCount(t)>=5&&(i=!1));var a=!1;if(!i&&(a=game.utils.randomNextNumber(100)<100*this.LIFE_POSIBILITY/this.ballList.length)){for(var r=0,c=0;c<this.boosts.length;++c)this.boosts[c].itemCfg.type===o.NewLife&&r++;this.lifeCount+r>=this.MAX_LIFE?a=!1:t=o.NewLife}if(a||i){var l=new s;l.type=t,l.count=n;var d=this.createItem(l,e);this.boosts.push(d),this.boosts.sort(function(e,t){return e.node.y-t.node.y})}},getDroppingBoostCount:function(e){for(var t=0,i=0;i<this.boosts.length;++i)this.boosts[i].itemCfg.type===e&&t++;return t},onRemoveBoost:function(e){var t=this.boosts.indexOf(e);t>-1&&(this.boosts.splice(t,1),e.removeItemLabel(),e.node.removeFromParent())},removeAllBoosts:function(){for(var e=0;e<this.boosts.length;++e){var t=this.boosts[e];t&&(t.removeItemLabel(),t.node.removeFromParent())}this.boosts=[]},stop:function(){this.stoped=!0,game.adsManager.showTopBanner&&(game.utils.isPad()||game.adsManager.removeBannerAds("top"))},resume:function(){this.stoped=!1,this.showTopBannerAds()},showTopBannerAds:function(){game.playerMan.getLevel()>=3&&game.adsManager.showTopBanner&&(game.utils.isPad()||game.adsManager.showBannerAds("top"))},removeTopBannerAds:function(){},pauseClicked:function(){game.audioHelper.playBtnSound(),this.showPause()},helpClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupGameHelp()},showPause:function(){this.stop();var e=this;game.popupMan.popupPause(function(){e.resume()})},showDiamondStore:function(){this.stop();var e=this;game.popupMan.popupStore(u.DIAMOND,function(){e.resume()})},storeClicked:function(e){game.audioHelper.playBtnSound(),game.analyseManager.trackEvent("ClickStoreInGame"),this.showDiamondStore()},skinClicked:function(e){game.audioHelper.playBtnSound(),game.analyseManager.trackEvent("ClickSkinsInGame"),this.stop();var t=this;game.popupMan.popupStore(u.SKIN,function(){t.resume()})}}),cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace","../config/BrickConfig":"BrickConfig","../config/ItemConfig":"ItemConfig","../editor/EditorHelper":"EditorHelper","../entity/BallComponent":"BallComponent","../entity/BallPool":"BallPool","../entity/BoardComponent":"BoardComponent","../entity/GridComponent":"GridComponent","../entity/ItemComponent":"ItemComponent","../enum/ColliderTag":"ColliderTag","../enum/GridType":"GridType","../enum/ItemCategory":"ItemCategory","../enum/ItemType":"ItemType","../enum/ShapeType":"ShapeType","../enum/StoreType":"StoreType","../events/EventsName":"EventsName","../model/GameMan":"GameMan",BaseScene:"BaseScene",GamePrepare:"GamePrepare",GravityToggle:"GravityToggle",LevelConfig:"LevelConfig",LinePhysicsCollider:"LinePhysicsCollider",PlayerBall:"PlayerBall"}],GameStep:[function(e,t,i){"use strict";cc._RF.push(t,"0b5bbx9GWpJiKDveFopmS0B","GameStep");t.exports={GAME_STEP_NONE:0,GAME_STEP_START:1,GAME_STEP_CREATE_BULLET:2,GAME_STEP_PAUSE:3,GAME_STEP_END:4,GAME_STEP_WIN:5,GAME_STEP_LOSE:6,GAME_STEP_RESTART:7,GAME_STEP_CONTINUE:8,GAME_STEP_RELIFE:9},cc._RF.pop()},{}],Game:[function(e,t,i){"use strict";cc._RF.push(t,"e7c9bO7F+hPWLqyo1CBgpUv","Game");var n=cc.Class({extends:cc.Component,statics:{instance:null},onLoad:function(){},start:function(){},startPhysicsGravity:function(){},update:function(e){},onGameSuccess:function(){}});t.exports=n,cc._RF.pop()},{}],GetItemComponent:[function(e,t,i){"use strict";cc._RF.push(t,"72f8caXH8BAn7Bnr08kzEhu","GetItemComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");var n=e("../component/PlayerBall");cc.Class({extends:cc.Component,properties:{sprBall:cc.Sprite,spYellows:[cc.Node],sprReward:cc.Sprite,lblReward:cc.Label,config:null,rewardName:null,watched:!1,closeCallback:null},onLoad:function(){},initWithSkinReward:function(e,t){this.closeCallback=t;var i=this.sprBall.addComponent(n);i.addSkin(game.utils.getSpriteFrame("atlas/skin_batch",e.image)),i.showNormal(),game.audioPlayer.playEffectByKey("audio/get_item")},initWithSkin:function(e,t){this.rewardName="get_skin_in_pass",this.closeCallback=t,game.utils.setSpriteFrame(this.sprBall,"atlas/skin_batch",e.image+"_l"),game.audioPlayer.playEffectByKey("audio/open_box")},initWith3Star:function(e,t,i){this.rewardName="3_star";for(var n=0;n<3;++n)this.spYellows[n].active=!1;for(n=0;n<3;++n)this.spYellows[n].active=e>=n+1;this.watched=t,this.closeCallback=i},initWithGiftBox:function(e){this.rewardName="gift_box",this.closeCallback=e,game.audioPlayer.playEffectByKey("audio/open_box")},initWithDailyDiamond:function(e){this.rewardName="daily_diamond",this.closeCallback=e,this.lblReward.string="x"+game.config.dailyDiamonds,game.audioPlayer.playEffectByKey("audio/open_box")},initWithRewardDouble:function(e,t,i,n){this.rewardName=i,this.closeCallback=n,game.utils.setSpriteFrame(this.sprReward,"atlas/game_batch",e),this.lblReward.string="x"+t,game.audioPlayer.playEffectByKey("audio/get_item")},initWithItemReward:function(e,t,i,n){this.closeCallback=n,game.utils.setSpriteFrame(this.sprReward,e,t),this.lblReward.string="x"+i,game.audioPlayer.playEffectByKey("audio/get_item")},onWatchAdsClicked:function(){game.audioHelper.playBtnSound(),this.watched?this.close():game.storeMan.checkAndShowRewardVideo(this.rewardName,function(e){e&&(this.watched=!0,this.close())}.bind(this))},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node),this.closeCallback&&(this.closeCallback(this.watched),this.closeCallback=null)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../component/PlayerBall":"PlayerBall","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],GravityToggle:[function(e,t,i){"use strict";cc._RF.push(t,"f9945jC4ZxPgqSO6qNyAr1p","GravityToggle"),cc.Class({extends:cc.Component,properties:{changed:!1,currentGravity:"",lastWorldGravity:""},onLoad:function(){this.node.scaleY<0?this.currentGravity="normal":this.currentGravity="anti"},updateGravity:function(){var e=game.gameMan.getWorldGravity();cc.loader.loadRes("atlas/shape_batch",cc.SpriteAtlas,function(t,i){var n="spr_gravity_gray";e===this.currentGravity&&(n="spr_gravity_light"),this.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame(n)}.bind(this))},onBeginContact:function(e,t,i){200===i.tag&&(this.changed||(this.changed=!0,game.gameMan.changeToGravity(this.currentGravity),this.updateGravity()))},onEndContact:function(e,t,i){this.changed=!1},onPreSolve:function(e,t,i){},onPostSolve:function(e,t,i){},update:function(e){window.game&&this.lastWorldGravity!==game.gameMan.getWorldGravity()&&(this.lastWorldGravity=game.gameMan.getWorldGravity(),this.updateGravity())}}),cc._RF.pop()},{}],GridComponent:[function(e,t,i){"use strict";cc._RF.push(t,"de873XpdQFB1Iy4IXXRElZV","GridComponent");e("../enum/ShapeType"),e("../enum/ItemCategory");var n=e("../enum/GridType"),a=(e("../enum/ColliderTag"),[5,10,20,30,40,50,60,70,90,100]),o=[cc.color(107,155,164),cc.color(98,140,164),cc.color(115,150,165),cc.color(111,138,159),cc.color(102,124,146),cc.color(94,113,133),cc.color(82,100,116),cc.color(76,92,106),cc.color(63,78,89),cc.color(51,62,73)];cc.Class({extends:cc.Component,properties:{removeable:!1,sprite:null,count:0,label:null},onLoad:function(){},init:function(e,t,i,n,a){this.sprite=game.utils.createSprite("grid","atlas/game_batch","grid_bg").node,this.node.addChild(this.sprite),this.topSprite=game.utils.createSprite("grid2","atlas/game_batch","grid_bg").node,this.node.addChild(this.topSprite),this.type=n,this.reset(e,t,i,n,a)},setBrickNum:function(e){this.label=e,this.updateLabelCount()},removeBrickNum:function(){this.label&&(this.label.node.removeFromParent(),this.label=null)},showAppearAnim:function(){var e=cc.sequence(cc.fadeTo(.3,0),cc.fadeTo(.3,255),cc.fadeTo(.3,0),cc.fadeTo(.3,255));this.sprite.runAction(e)},isBrick:function(){return this.type===n.BRICK},reset:function(e,t,i,n,a){this.removeable=!1,this.topSprite.opacity=0,this.count=a,this.type=n,this.isBrick()?(game.utils.setSpriteFrame(this.sprite,"atlas/game_batch","grid_bg"),game.utils.setSpriteFrame(this.topSprite,"atlas/game_batch","grid_bg")):(game.utils.setSpriteFrame(this.sprite,"atlas/game_batch","grid_wall"),game.utils.setSpriteFrame(this.topSprite,"atlas/game_batch","grid_wall")),this.label&&(this.label.string=""),this.sprite.width=t,this.topSprite.width=t,this.sprite.height=i,this.topSprite.height=i,this.node.width=this.sprite.width,this.node.height=this.sprite.height,this.updateLabelCount()},updateLabelCount:function(){if(this.isBrick()){this.label&&(this.count>=0?this.label.string=this.count:this.label.string="0");for(var e=0;e<a.length&&!(a[e]>=this.count);++e);e>=o.length&&(e=o.length-1);var t=o[e];this.sprite.color=t}else this.sprite.color=cc.Color.WHITE},onCollisioned:function(){this.isBrick()&&(this.topSprite.opacity=0,this.topSprite.runAction(cc.sequence(cc.fadeTo(.1,120),cc.fadeTo(.1,0))),this.count--,this.updateLabelCount(),this.count<=0&&(this.removeable=!0))},removeBricks:function(e){this.isBrick()&&(this.count-=e,this.updateLabelCount(),this.count<=0&&(this.removeable=!0))}}),cc._RF.pop()},{"../enum/ColliderTag":"ColliderTag","../enum/GridType":"GridType","../enum/ItemCategory":"ItemCategory","../enum/ShapeType":"ShapeType"}],GridType:[function(e,t,i){"use strict";cc._RF.push(t,"df8caM910NKFKdI+v0zq79F","GridType");t.exports={NONE:-1,OBSTACLE:0,BRICK:1,BALL:2,BOARD:3},cc._RF.pop()},{}],HttpClient:[function(e,t,i){"use strict";cc._RF.push(t,"224b7nixDtFAoK30Nc0bxFy","HttpClient");var n={doGet:function(e,t){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){var e=i.responseText;t(null,e)}else t(i.statusText)},i.open("GET",e,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=5e3,i.send()},doPost:function(e,t,i,n){var a=cc.loader.getXMLHttpRequest();for(var o in a.onreadystatechange=function(){if(cc.log("xhr.readyState="+a.readyState+"  xhr.status="+a.status),4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;n(null,e)}else n(a.statusText)},i)i.hasOwnProperty(o)&&a.setRequestHeader(o,i[o]);a.open("POST",e,!0),cc.sys.isNative&&a.setRequestHeader("Accept-Encoding","gzip,deflate"),a.timeout=5e3;try{a.send(t)}catch(e){}}};t.exports=n,cc._RF.pop()},{}],HttpManager:[function(e,t,i){"use strict";cc._RF.push(t,"80b03IabxZG9JbWSuzNbH3d","HttpManager");var n=cc.Class({statics:{instance:null},doGet:function(e,t){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4===i.readyState&&i.status>=200&&i.status<300&&t(null,i.responseText)},i.open("GET",e,!0),i.send()},doPost:function(e,t,i,n){var a=cc.loader.getXMLHttpRequest();for(var o in i)a.setRequestHeader(o,i[o]);a.onreadystatechange=function(){if(cc.log("xhr.readyState="+a.readyState+"  xhr.status="+a.status),4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;n(e)}else n(a.status,a.statusText)},a.open("POST",e),a.send(t)}});n.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},t.exports=n,cc._RF.pop()},{}],IAPData:[function(e,t,i){"use strict";cc._RF.push(t,"9c2c1QqxOlOzLDS+zenjfRH","IAPData");t.exports=function(e,t,i){this.productId=e,this.price=t,this.productNum=i},cc._RF.pop()},{}],ItemCategory:[function(e,t,i){"use strict";cc._RF.push(t,"f20665R7ZFJC7mO4oPWLivt","ItemCategory");t.exports={Ball:1,Obstacle:2,Wall:4,Item:8},cc._RF.pop()},{}],ItemComponent:[function(e,t,i){"use strict";cc._RF.push(t,"f9bbefHRs9IbLCwoXtdooKf","ItemComponent");var n=e("../enum/ItemType");e("../enum/GridType"),e("../enum/ShapeType"),e("../model/GameMan"),e("../enum/ItemCategory"),e("../enum/ColliderTag");cc.Class({extends:cc.Component,properties:{label:null,itemCfg:null,body:null,shape:null,space:null,removeable:!1},onLoad:function(){},createSprite:function(e){this.sprite=game.utils.createSprite("item","atlas/game_batch",e).node,this.node.addChild(this.sprite),this.node.width=this.sprite.width*this.sprite.scaleX,this.node.height=this.sprite.height*this.sprite.scaleY},setItemLabel:function(e){this.label=e},removeItemLabel:function(){this.label&&(this.label.node.removeFromParent(),this.label=null)},onMoveDeltaPos:function(e){this.node.x+=e.x,this.node.y+=e.y,this.label.node.x=this.node.x,this.label.node.y=this.node.y},init:function(e){switch(this.itemCfg=e,e.type){case n.AddBall:this.createSprite("icon_blue");break;case n.MultiBall:this.createSprite("icon_orange");break;case n.HorizontalClear:this.createSprite("icon_opposite");break;case n.VerticalClear:this.createSprite("icon_opposite"),this.rotation=90;break;case n.VerHorClear:this.createSprite("icon_quad");break;case n.RandomDir:this.createSprite("icon_disorganize");break;case n.NewLife:this.createSprite("icon_new_life")}},getType:function(){return this.itemCfg.type},onCollisioned:function(){this.removeable=!0}}),cc._RF.pop()},{"../enum/ColliderTag":"ColliderTag","../enum/GridType":"GridType","../enum/ItemCategory":"ItemCategory","../enum/ItemType":"ItemType","../enum/ShapeType":"ShapeType","../model/GameMan":"GameMan"}],ItemConfigComponent:[function(e,t,i){"use strict";cc._RF.push(t,"c5646GZ3W5Ov7hf3N48Cw/D","ItemConfigComponent");var n=e("../events/EventsName");cc.Class({extends:cc.Component,properties:{spItem:cc.Node,ndCount:cc.Node,ndDiamond:cc.Node,lbItemCount:cc.Label,lbDiamondCount:cc.Label,itemCfg:null},onLoad:function(){game.dispatcher.on(n.REFRESH_BOOST,this.onUpdateItem,this)},onDestroy:function(){game.dispatcher.off(n.REFRESH_BOOST,this.onUpdateItem,this)},initWith:function(e){this.itemCfg=e;var t=e.image;game.utils.setSpriteFrame(this.spItem,"atlas/game_batch",t),this.refreshItem()},onUpdateItem:function(){this.refreshItem()},refreshItem:function(){this.ndCount.active=!1,this.ndDiamond.active=!1;var e=game.playerMan.getBoostCount(this.itemCfg.type);e>0?(this.ndCount.active=!0,this.lbItemCount.string="x"+e):(this.ndDiamond.active=!0,this.lbDiamondCount.string=game.config.itemDiamondCount)},onItemClicked:function(){game.dispatcher.emit(n.USE_ITEM,this.itemCfg.type),this.refreshItem()}}),cc._RF.pop()},{"../events/EventsName":"EventsName"}],ItemConfig:[function(e,t,i){"use strict";cc._RF.push(t,"f78f6wgZFNPorEpwcDUnvxM","ItemConfig");var n=function(){this.x=0,this.y=0,this.type=0,this.count=0};n.prototype.unmarshal=function(e){this.x=e[0],this.y=e[1],this.type=e[2],this.count=e[3]},t.exports=n,cc._RF.pop()},{}],ItemDescConfig:[function(e,t,i){"use strict";cc._RF.push(t,"cb9afrvp79Lk6vvZy3Jx6q9","ItemDescConfig");var n=function(){this.type=0,this.image="",this.descKey=""};n.prototype.unmarshal=function(e){this.type=e.type,this.image=e.image,this.descKey=e.descKey},t.exports=n,cc._RF.pop()},{}],ItemType:[function(e,t,i){"use strict";cc._RF.push(t,"9ca57bZJfVDupqNxnt9dSK0","ItemType");var n={AddBall:1,MultiBall:2,VerticalClear:3,HorizontalClear:4,VerHorClear:5,RandomDir:6,NewLife:7,ExpandBoard:8,ExplodeRandom:9,BottomObstacle:10,SKIN:11,DIAMOND:12,NUM:12,getName:function(e){switch(e){case n.AddBall:return"add_ball";case n.MultiBall:return"multi_ball";case n.NewLife:return"new_life";case n.ExpandBoard:return"expand_board";case n.ExplodeRandom:return"explode_random";case n.BottomObstacle:return"bottom_obstacle";case n.VerHorClear:return"ver_hor_clear";case n.VerticalClear:return"vertical_clear";case n.HorizontalClear:return"horizontal_clear";case n.SKIN:return"skin";case n.DIAMOND:return"diamond";default:return cc.log("item type:"+e),"unknown_item"}},getImage:function(e){switch(e){case n.MultiBall:return"icon_multi";case n.ExpandBoard:return"icon_expand";case n.ExplodeRandom:return"icon_explode";case n.BottomObstacle:return"icon_obstacle";case n.DIAMOND:return"icon_diamond";default:return cc.log("item type get image:"+e),"unknown_item"}},create:function(e,t){return{type:e,count:t,image:n.getImage(e)}}};t.exports=n,cc._RF.pop()},{}],LanguageData:[function(e,t,i){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=e("polyglot.min"),a=null;function o(e){return window.i18n.languages[e]}function s(e){e&&(a?a.replace(e):a=new n({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=o(e)||{};window.i18n.curLang=e,s(t),this.inst=a}},t:function(e,t){if(a)return a.t(e,t)},inst:a,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var n=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){var o=t[a];o.node.active&&o.updateLabel()}for(var s=[],r=0;r<e.length;++r){var c=e[r].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,c)}for(var l=0;l<s.length;++l){var d=s[l];d.node.active&&d.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LevelCell:[function(e,t,i){"use strict";cc._RF.push(t,"939a6+N+1NCx6I27VdE+0VG","LevelCell"),cc.Class({extends:e("viewCell"),properties:{lbLevel:cc.Label,spPlayed:cc.Node,spLocked:cc.Node,spCurrent:cc.Node,ndStar:cc.Node,spLock:cc.Node,spYellows:[cc.Node],spBlacks:[cc.Node],index:0,data:void 0},onLoad:function(){},init:function(e,t,i,n){if(cc.log("index:"+e),e>=t.array.length)this.node.active=!1;else{this.node.active=!0,this.index=e,this.data=t.array[e],this.lbLevel.string=e+1;var a=e+1;this.spCurrent.active=!1,this.spLocked.active=!1,this.spPlayed.active=!1,this.ndStar.active=!1,this.lbLevel.node.active=!0,this.spLock.active=!1;var o=game.gameMan.getPlayerLevel();if(o===e+1)this.spCurrent.active=!0,this.lbLevel.node.y=6;else if(o>e+1){this.spPlayed.active=!0,this.ndStar.active=!0;var s=0;s=game.gameMan.isHardMode()?game.playerMan.getHardLevelStar(a)||0:game.playerMan.getLevelStar(a)||0,cc.log("LevelItemController star:"+s);for(var r=0;r<3;++r)this.spYellows[r].active=s>=r+1,this.spBlacks[r].active=s<r+1;this.lbLevel.node.y=11}else this.lbLevel.node.y=6,this.spLocked.active=!0,this.lbLevel.node.active=!1,this.spLock.active=!0}},clicked:function(){game.audioHelper.playBtnSound(),this.index<game.gameMan.getPlayerLevel()&&(game.gameMan.chooseLevel(this.index+1),game.utils.loadSceneWithAnim("GameScene"))}}),cc._RF.pop()},{viewCell:"viewCell"}],LevelConfig:[function(e,t,i){"use strict";cc._RF.push(t,"77b89JS5D1Pga4oqZEMGZ2p","LevelConfig");var n=e("./BrickConfig"),a=e("./ItemConfig"),o=function(){this.lifeProbability=0,this.boostProbability=0,this.pixelWidth=0,this.pixelHeight=0,this.width=0,this.height=0,this.obstacles=[],this.bricks=[],this.items=[],this.starTime=0};o.prototype.unmarshal=function(e){var t;this.lifeProbability=e.l||0,this.boostProbability=e.b||0,this.pixelWidth=e.pixelWidth,this.pixelHeight=e.pixelHeight,this.width=e.width,this.height=e.height;var i=e.obstacles;for(t=0;t<i.length;++t){var o=i[t],s=new n;s.unmarshal(o),this.obstacles.push(s)}var r=e.bricks;for(t=0;t<r.length;++t){var c=r[t],l=new n;l.unmarshal(c),this.bricks.push(l)}var d=e.items||[];for(t=0;t<d.length;++t){var h=d[t],u=new a;u.unmarshal(h),this.items.push(u)}this.starTime=e.starTime||0},t.exports=o,cc._RF.pop()},{"./BrickConfig":"BrickConfig","./ItemConfig":"ItemConfig"}],LevelScene:[function(e,t,i){"use strict";cc._RF.push(t,"61200XLJN9LZL/jq7KspOaf","LevelScene"),window.firstEnter=!0,cc.Class({extends:e("BaseScene"),properties:{tableView:cc.Node,lbStarCount:cc.Label,ndTopNode:cc.Node},onLoad:function(){this._super(),game.storeMan.init(),game.adsManager.removeBannerAds("bottom"),this.lbStarCount.string=game.gameMan.getTotalStarCount(),game.utils.isIOSNotchScreen()&&(this.ndTopNode.getComponent(cc.Widget).top+=30,this.tableView.getComponent(cc.Widget).top+=30),this.initView()},start:function(){this._super(),setTimeout(function(){"true"!==game.storage.getItem("firstOpenGame","true")?game.gameMan.checkAutoPopup(window.firstEnter):game.storage.setItem("firstOpenGame","false"),window.firstEnter=!1},300)},initView:function(){var e=game.configMan.getLevelList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this}),this.scrollToOffset()},scrollToOffset:function(){var e=game.configMan.getLevelList(),t=this.tableView.getComponent(cc.tableView),i=t.getScrollOffset(),n=game.playerMan.getLevel();n>e.length&&(n=e.length);var a=120*Math.ceil(n/5)-t.node.height;a<0?a=0:a>=t.getMaxScrollOffset().y&&(a=t.getMaxScrollOffset().y);var o=cc.v2(i.x,a);t.scrollToOffsetPro(o,0)},onSettingClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupSetting()},onBackClicked:function(){if(!this.showed){var e=this;e.showed=!0,game.popupMan.popupYesNoCommonDlg(game.i18n.t("quit_game_tips"),game.i18n.t("exit_title"),game.i18n.t("cancel_title"),function(){game.gameLifeMan.scheduleLocalNotification(),cc.game.end(),e.showed=!1},function(){e.showed=!1},!1)}}}),cc._RF.pop()},{BaseScene:"BaseScene"}],LinePhysicsCollider:[function(e,t,i){"use strict";cc._RF.push(t,"d5758YF7qlAU5j59/p8CY10","LinePhysicsCollider");var n=cc.PhysicsManager.PTM_RATIO,a=cc.Class({name:"LinePhysicsCollider",extends:cc.PhysicsCollider,mixins:[cc.Collider.Polygon],properties:{lineWidth:5},editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(e){for(var t=[],i=this.points,a=0;a<i.length-1;a++){var o=i[a],s=i[a+1],r=o.sub(s).mag(),c=Math.atan2(s.y-o.y,s.x-o.x)-Math.PI/2,l=o.add(s).mul(.5),d=new b2.PolygonShape;d&&(d.SetAsBox(this.lineWidth/2/n,r/2/n,new b2.Vec2(l.x/n,l.y/n),c),t.push(d))}return t}});t.exports=a,cc._RF.pop()},{}],LoadingScene:[function(e,t,i){"use strict";cc._RF.push(t,"e43484cq35P16D9yOAHZb+h","LoadingScene");var n=e("GamePrepare");cc.Class({extends:cc.Component,properties:{bgSpriteCn:cc.Node,bgSpriteEn:cc.Node},onLoad:function(){this.bgSpriteCn.active=!1,this.bgSpriteEn.active=!1,cc.sys.language===cc.sys.LANGUAGE_CHINESE?this.bgSprite=this.bgSpriteCn:this.bgSprite=this.bgSpriteEn,this.bgSprite.active=!0},start:function(){var e=this;e.bgSprite.opacity=0,setTimeout(function(){e.bgSprite.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(e.onEnteredScene,e)))},100)},onEnteredScene:function(){var e=this;n.start(),n.initData(function(){e.bgSprite.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(e.onEnterMenuScene.bind(e),e)))})},onEnterMenuScene:function(){1===game.playerMan.getLevel()?game.utils.loadSceneWithAnim("GameScene"):game.utils.loadSceneWithAnim("LevelScene")}}),cc._RF.pop()},{GamePrepare:"GamePrepare"}],LocalizationManager:[function(e,t,i){"use strict";cc._RF.push(t,"b77f8UUiP1Ba5g37gEwBmHR","LocalizationManager");var n=cc.Class({_isLoaded:!1,curLanguage:null,ctor:function(){},reload:function(){this._isLoaded||(this.curLanguage=game.utils.loadJson("res/config/strings-zh.json"),this._isLoaded=!0)},getValue:function(e){return this.curLanguage[e]||e},isChinese:function(){return!0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],LocalizedLabel:[function(e,t,i){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,i){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MenuScene:[function(e,t,i){"use strict";cc._RF.push(t,"7ae4egF1jBKrK/HLWz7wJzy","MenuScene");var n=e("../enum/WheelType"),a=e("../enum/StoreType"),o=e("../events/EventsName");window.firstEnter=!0,cc.Class({extends:e("BaseScene"),properties:{btnAudio:cc.Sprite,sprAudioOn:cc.SpriteFrame,sprAudioOff:cc.SpriteFrame,sprCoin:cc.Sprite,lbWheelLeftTime:cc.Label,spTaskReminder:cc.Node,spSkinReminder:cc.Node,lbStarCount:cc.Label},onLoad:function(){this._super(),game.adsManager.showBannerAds("bottom"),game.storeMan.init(),setTimeout(function(){"true"!==game.storage.getItem("firstOpenGame","true")?game.gameMan.checkAutoPopup(window.firstEnter):game.storage.setItem("firstOpenGame","false"),window.firstEnter=!1},300),game.dispatcher.on(o.TASK_UPDATE,this.updateTaskReminder,this),game.analyseManager.trackEvent("EnterMenu"),this.updateSkinReminder(),this.updateTaskReminder(),this.lbStarCount.string=game.gameMan.getTotalStarCount()},onDestroy:function(){this._super(),game.dispatcher.off(o.TASK_UPDATE,this.updateTaskReminder,this)},onBackClicked:function(){if(!this.showed){var e=this;e.showed=!0,game.popupMan.popupYesNoCommonDlg(game.i18n.t("quit_game_tips"),game.i18n.t("exit_title"),game.i18n.t("cancel_title"),function(){game.gameLifeMan.scheduleLocalNotification(),cc.game.end(),e.showed=!1},function(){e.showed=!1},!1)}},refreshAudio:function(){game.audioPlayer.isEffectOn()?this.btnAudio.spriteFrame=this.sprAudioOn:this.btnAudio.spriteFrame=this.sprAudioOff},start:function(){this._super()},update:function(){this.lbWheelLeftTime.string=game.utils.getFormatTime(Math.floor(game.gameMan.getWheelLeftTime()/1e3))},onStartClicked:function(){if(game.audioHelper.playBtnSound(),console.log("Start button clicked!"),game.gameMan.chooseLatestLevel()){if(this.played)return;this.played=!0,game.utils.loadSceneWithAnim("GameScene")}else game.popupMan.popupCommonDlg(_("all_completed"))},onLevelClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("LevelScene")},onSkinClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupStore(a.SKIN),game.storage.setItem("click_skin","true"),this.updateSkinReminder()},onStoreClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupStore(a.DIAMOND)},onSettingClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupSetting()},onTaskClicked:function(){game.audioHelper.playBtnSound(),game.analyseManager.trackEvent("ClickTasks"),game.popupMan.popupTask(),game.storage.setItem("click_task","true"),this.updateTaskReminder()},onRankClicked:function(e){game.audioHelper.playBtnSound(),game.gcManager.showLeaderboard(game.config.getLeaderBoardKey("level"))},onSoundClicked:function(){game.audioHelper.playBtnSound(),game.audioPlayer.setEffectOn(!game.audioPlayer.isEffectOn()),game.audioPlayer.setMusicOn(!game.audioPlayer.isMusicOn()),this.refreshAudio(),game.audioPlayer.isMusicOn()&&!game.audioPlayer.isMusicPlaying()&&game.audioPlayer.playMusicByKey("audio/bg",!0)},onWheelClicked:function(e){game.audioHelper.playBtnSound(),game.popupMan.popupWheelDlg(n.DailyBonus)},onDailyBonusClicked:function(e){game.audioHelper.playBtnSound(),game.popupMan.popupDailyBonus()},onRemoveAdsClicked:function(t){game.audioHelper.playBtnSound();var i=e("../enum/StoreType"),n=game.storeMan.getStoreEntityByType(i.RemoveAds);game.storeMan.buyProduct(n)},updateTaskReminder:function(){"false"==game.storage.getItem("click_task","false")?this.spTaskReminder.active=!0:game.gameMan.hasCompletedTask()?this.spTaskReminder.active=!0:this.spTaskReminder.active=!1},updateSkinReminder:function(){var e=game.storage.getItem("click_skin","false");this.spSkinReminder.active="false"==e}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../enum/WheelType":"WheelType","../events/EventsName":"EventsName",BaseScene:"BaseScene"}],ModalComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d1774LufCFCHKhZPZbK3AYe","ModalComponent");var n=cc.Class({extends:cc.Component,onLoad:function(){},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){e.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){e.stopPropagation()})},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_MOVE,function(e){e.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_END,function(e){e.stopPropagation()})}});t.exports=n,cc._RF.pop()},{}],NoticeComponent:[function(e,t,i){"use strict";cc._RF.push(t,"52390U3MZhG8oYvglTcG89l","NoticeComponent"),cc.Class({extends:cc.Component,properties:{ndYes:cc.Node,lbYes:cc.Label,ndNo:cc.Node,lbNo:cc.Label,ndOk:cc.Node,lbOk:cc.Label,lbTitle:cc.Label,lbInfo:cc.Label,spNotice:cc.Sprite,lbSprInfo:cc.Label,lbSprCount:cc.Label,fontNode:cc.Node,spriteNode:cc.Node,closeNode:cc.Node,okCallback:null,noCallback:null},onLoad:function(){},initWithYes:function(e,t){this.ndOk.active=!0,this.ndYes.active=!1,this.ndNo.active=!1,this.fontNode.active=!0,this.spriteNode.active=!1,this.lbInfo.string=e,this.lbOk.string=game.i18n.t("confirm_info"),this.okCallback=t,this.closeNode.active=!1},initWithYesNo:function(e,t,i,n,a,o,s){this.lbInfo.string=e,this.ndOk.active=!1,this.ndYes.active=!0,this.ndNo.active=!0,this.fontNode.active=!0,this.spriteNode.active=!1,this.lbYes.string=t,this.lbNo.string=i,this.okCallback=n,this.noCallback=a,this.closeNode.active=o,s&&(this.lbSprInfo.string=e,this.fontNode.active=!1,this.spriteNode.active=!0)},initWithRewardYes:function(e,t,i,n,a,o){this.ndOk.active=!0,this.ndYes.active=!1,this.ndNo.active=!1,this.fontNode.active=!1,this.spriteNode.active=!0,this.lbSprCount.string="x"+n,this.lbSprInfo.string=e,this.lbOk.string=game.i18n.t("confirm_info"),this.okCallback=t,this.closeNode.active=!1},popup:function(){game.dialogManager.popup(this.node)},okClicked:function(e){game.audioHelper.playBtnSound(),this.okCallback&&this.okCallback(),this.close()},cancelClicked:function(e){game.audioHelper.playBtnSound(),this.noCallback&&this.noCallback(),this.close()},closedClicked:function(e){game.audioHelper.playBtnSound(),this.noCallback&&this.noCallback(),this.close()},confirmClicked:function(e){game.audioHelper.playBtnSound(),this.okCallback&&this.okCallback(),this.close()},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],NotificationManager:[function(e,t,i){"use strict";cc._RF.push(t,"3f6b7/Ir/JPgaVQiyaE01U6","NotificationManager");var n=cc.Class({ctor:function(){},registerNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.registerNotification()},scheduleNotification:function(e,t,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.scheduleNotification(e,t,i,n)},unscheduleNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.unscheduleNotification()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],NumComponent:[function(e,t,i){"use strict";cc._RF.push(t,"85646tizIZIpJ1aSpurFtni","NumComponent"),cc.Class({extends:cc.Component,properties:{animing:!1,startNum:0,endNum:0,time:.8,step:0},onLoad:function(){this.label=this.getComponent(cc.Label)},playNumAnim:function(e,t){this.animing=!0,this.startNum=e,this.endNum=t,this.elapsedTime=0,this.step=(this.endNum-this.startNum)/this.time},update:function(e){this.animing&&(this.elapsedTime+=e,this.label.string=Math.floor(this.startNum+this.step*this.elapsedTime),this.elapsedTime>=this.time&&(this.label.string=this.endNum,this.animing=!1))}}),cc._RF.pop()},{}],PackageCell:[function(e,t,i){"use strict";cc._RF.push(t,"88cf19CTlRI4ZEuNBzf8ZpJ","PackageCell"),cc.Class({extends:e("viewCell"),properties:{lbChapterTitle:cc.Label,lbStarCount:cc.Label,ndLock:cc.Node,index:0,data:void 0},onLoad:function(){},init:function(e,t,i,n){if(cc.log("index:"+e),e>=t.array.length)this.node.active=!1;else{if(this.index=e,this.data=t.array[e],this.ndLock.active=!1,game.gameMan.isPackageUnlocked(this.data.id)){var a=game.gameMan.getPackageStar(this.data.id),o=game.gameMan.getPackageTotalStar(this.data.id);this.lbStarCount.string=a+"/"+o}else this.ndLock.active=!0;this.lbChapterTitle.string=this.data.start+"-"+(this.data.start+this.data.count-1)}},clicked:function(){game.audioHelper.playBtnSound(),this.ndLock.active?game.popupMan.popupCommonDlg(game.i18n.t("finish_tips")):(game.gameMan.setCurrentPackageId(this.data.id),game.utils.loadSceneWithAnim("LevelScene"))}}),cc._RF.pop()},{viewCell:"viewCell"}],PackageConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e422dd0gudEWpzI2bWNTI1f","PackageConfig");var n=function(){this.id=0,this.start=0,this.count=0,this.nameKey="",this.image="",this.unlockStar=0};n.prototype.unmarshal=function(e){this.id=e.id,this.start=e.start,this.count=e.count,this.nameKey=e.nameKey,this.image=e.image,this.unlockStar=e.unlockStar},t.exports=n,cc._RF.pop()},{}],PackageScene:[function(e,t,i){"use strict";cc._RF.push(t,"91972q+j0dI4Y/xmeoGdojo","PackageScene"),cc.Class({extends:e("BaseScene"),properties:{tableView:cc.Node},onLoad:function(){this._super(),this.initView(),game.adsManager.removeBannerAds("bottom")},initView:function(){var e=game.configMan.getPackageList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},start:function(){this._super()},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene"))}}),cc._RF.pop()},{BaseScene:"BaseScene"}],PassComponent:[function(e,t,i){"use strict";cc._RF.push(t,"b5baayj41VKSKTfv8j+x0WX","PassComponent"),cc.Class({extends:cc.Component,properties:{_replayCallback:null,_nextCallback:null,ndWheel:cc.Node,ndClaimDiamonds:cc.Node,ndDiamonds:cc.Node,lblDiamondReward:cc.Label,spRewardDiamonds:cc.Node,ndDiamond:cc.Node,ndAdsReminderNode:cc.Node,spYellows:[cc.Node]},onLoad:function(){game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this);for(var e=game.gameMan.currentStar,t=0;t<3;++t)this.spYellows[t].active=e>=t+1;for(t=0;t<e;++t)setTimeout(function(){game.audioPlayer.playEffectByKey("audio/star"),game.audioPlayer.vibrateShort()},250*(t+1));game.gameMan.getCurrentRewardDiamonds()>0?(this.ndClaimDiamonds.active=!0,this.lblDiamondReward.string=game.gameMan.getCurrentRewardDiamonds(),setTimeout(this.doClaimDiamonds.bind(this),900)):this.ndClaimDiamonds.active=!1,setTimeout(this.onAnimEnd.bind(this),1200),this.ndWheel.active=!1,this.ndDiamond.active=!1,game.gameMan.isFreeWheel()?this.ndWheel.active=!0:this.ndDiamond.active=!0;var i=cc.loader.getRes("prefabs/diamond_view",cc.Prefab),n=cc.instantiate(i);this.ndDiamonds.addChild(n);var a=cc.loader.getRes("prefabs/ads_reminder_view",cc.Prefab),o=cc.instantiate(a);this.ndAdsReminderNode.addChild(o),game.adsManager.showTopBanner&&game.adsManager.removeBannerAds("top")},initWith:function(e,t){this._replayCallback=e,this._nextCallback=t},onAnimEnd:function(){game.gameMan.showRate()||game.gameMan.tryShowPassPopup()},on3StarEnd:function(){this.node.getComponent(cc.Animation).play("pass_loop")},nextClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.showAds(!0),this._nextCallback&&this._nextCallback(),game.gameMan.showRegisterNotification(),this.close()},restartClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.showAds(!0),this._replayCallback&&this._replayCallback(),this.close()},homeClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.showAds(!0),game.utils.loadSceneWithAnim("LevelScene")},watchAdsClicked:function(e){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo(game.utils.isIOS()?"wingift":"jili05",null,"WinAndWatchDiamondsAds")},wheelClicked:function(t){game.audioHelper.playBtnSound();var i=e("../enum/WheelType");game.popupMan.popupWheelDlg(i.DailyBonus)},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this),game.effectMan.stoped=!0},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PauseComponent updateNativeAd"),game.dialogManager.isTopestDialog(this.node)?this.showNativeAd():this.removeNativeAd()},showNativeAd:function(){cc.log("PauseComponent showNativeAd"),game.adsManager.showNativeAd("pass",0,0)},removeNativeAd:function(){game.adsManager.removeNativeAd("pass")},doClaimDiamonds:function(){var e=this.node.convertToNodeSpace(this.spRewardDiamonds.parent.convertToWorldSpaceAR(this.spRewardDiamonds.getPosition())),t=this.node.convertToNodeSpace(this.ndDiamonds.parent.convertToWorldSpaceAR(this.ndDiamonds.getPosition()));game.effectMan.playFlyCoins(this.node,e,t,10,function(){game.playerMan.addDiamonds(game.gameMan.getCurrentRewardDiamonds(),"pass_level")},function(){})},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/WheelType":"WheelType"}],PassScene:[function(e,t,i){"use strict";cc._RF.push(t,"59c2dawYxtFm6uwuNwc/NSl","PassScene");var n=e("../enum/WheelType");cc.Class({extends:e("BaseScene"),properties:{yellowStar1:cc.Node,yellowStar2:cc.Node,yellowStar3:cc.Node,sprCoins:cc.Node,lbCoins:cc.Label,startSprCoins:cc.Node,ndStarCoins:cc.Node,ndFreeCoins:cc.Node,ndWheel:cc.Node},onLoad:function(){this._super();var e=game.gameMan.getCurrentStar();this.yellowStar1.active=e>=1,this.yellowStar2.active=e>=2,this.yellowStar3.active=e>=3;var t=this.getCurrentRewardCoins();0===t?this.ndStarCoins.active=!1:(this.ndStarCoins.active=!0,this.lbCoins.string=t),game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this),this.ndFreeCoins.active=!1,this.ndWheel.active=!1,game.gameMan.level%5==0?this.ndWheel.active=!0:this.ndFreeCoins.active=!0,this.updateNativeAd()},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this),game.effectMan.stoped=!0,this.removeNativeAd(),this._super()},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PassComponent updateNativeAd"),game.dialogManager.hasDialog()?this.removeNativeAd():this.showNativeAd()},showNativeAd:function(){cc.log("PassComponent showNativeAd"),game.adsManager.showNativeAd("pass",0,0)},removeNativeAd:function(){game.adsManager.removeNativeAd("pass")},start:function(){this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(this.doClaimCoins,this))),this.node.runAction(cc.sequence(cc.delayTime(1.8),cc.callFunc(this.showPassDlg,this)));for(var e=0;e<game.gameMan.getCurrentStar();++e)setTimeout(function(e){return function(){game.audioPlayer.vibrateShort(),game.audioPlayer.playEffectByKey("audio/star_"+(e+1))}}(e),300*(e+1))},getCurrentRewardCoins:function(){return!game.gameMan.isLevelRewardClaimed(game.gameMan.level)&&game.gameMan.currentRewardCoins>0?game.gameMan.currentRewardCoins:0},doClaimCoins:function(){if(this.getCurrentRewardCoins()>0){var e=this.startSprCoins.parent.convertToWorldSpaceAR(this.startSprCoins.getPosition()),t=this.sprCoins.parent.convertToWorldSpaceAR(this.sprCoins.getPosition());game.effectMan.playFlyCoins(this.node,e,t,10,function(){game.playerMan.addCoins(game.gameMan.currentRewardCoins,"level_pass")},function(){})}},showPassDlg:function(){game.gameMan.tryShowPassPopup(function(e){e||game.gameMan.checkExpiredSkin()})||game.gameMan.checkExpiredSkin()},onNextClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.showRegisterNotification(),game.gameMan.showAdsAndRate(),game.gameMan.isLastLevel()?game.popupMan.popupCommonDlg(game.i18n.t("all_completed"),function(){game.utils.loadSceneWithAnim("MenuScene")}):this.clicked||(this.clicked=!0,game.gameMan.onEnterNextLevel(),game.gameMan.checkAndEnterLevel(game.gameMan.level))},onBackClicked:function(){if(!this.showed){this.showed=!0,game.audioHelper.playBtnSound();var e=game.configMan.getPackageByLevelId(game.gameMan.level);game.gameMan.setCurrentPackageId(e.id),game.utils.loadSceneWithAnim("LevelScene")}},onRetryClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("newlevel-"+game.gameMan.level)},onHomeClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene")},onWheelClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pass_box",function(e){e&&game.popupMan.popupWheelDlg(n.Box)})},onFreeCoinsClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pass_coins",null,"RVPassCoins")}}),cc._RF.pop()},{"../enum/WheelType":"WheelType",BaseScene:"BaseScene"}],PauseComponent:[function(e,t,i){"use strict";cc._RF.push(t,"342a4ROh31D0oCcemFyKiya","PauseComponent");var n=e("../common/enum/AdsPlace");cc.Class({extends:cc.Component,properties:{homeCallback:null,continueCallback:null,retryCallback:null},onLoad:function(){game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this)},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this)},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PauseComponent updateNativeAd"),game.dialogManager.isTopestDialog(this.node)?this.showNativeAd():this.removeNativeAd()},showNativeAd:function(){cc.log("PauseComponent showNativeAd"),game.adsManager.showNativeAd("pause",0,100)},removeNativeAd:function(){game.adsManager.removeNativeAd("pause")},initWith:function(e){this._resumeCallback=e},resumeClicked:function(e){game.audioHelper.playBtnSound(),this._resumeCallback&&this._resumeCallback(),this.close()},homeClicked:function(e){game.audioHelper.playBtnSound(),game.analyseManager.trackEvent("PauseHome"),game.popupMan.popupYesNoCommonDlg(_("exit_game_confirm"),_("yes_title"),_("no_title"),function(){game.utils.loadSceneWithAnim("LevelScene"),game.playerMan.getLevel()>=4&&game.adsManager.showInterstitial(n.Home)})},restartClicked:function(e){game.audioHelper.playBtnSound(),game.gameMan.addFailCount(),game.utils.loadSceneWithAnim("GameScene"),game.adsManager.showInterstitial(n.Refresh),game.analyseManager.trackEvent("PauseRetry")},watchAdsClicked:function(e){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pause")},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace"}],PaymentCode:[function(e,t,i){"use strict";cc._RF.push(t,"35e29m621tLi5DuVctekfRd","PaymentCode");t.exports={PAYMENT_CODE_SUCCESS:0,PAYMENT_CODE_FAIL:1},cc._RF.pop()},{}],PaymentInfo:[function(e,t,i){"use strict";cc._RF.push(t,"490cdmQ0LRAgrseVc5XbCZv","PaymentInfo");var n=function(){this.purchaseId=null,this.productId=null,this.receipt=null,this.signature=null,this.info=""};n.prototype.unmarshal=function(e){this.purchaseId=e.purchaseId||"",this.productId=e.productId||"",this.receipt=e.receipt||"",this.signature=e.signature||"",this.info=e.info||""},t.exports=n,cc._RF.pop()},{}],PlayerBall:[function(e,t,i){"use strict";cc._RF.push(t,"0cf00i/mSNCp7JNe1CD+o/j","PlayerBall");var n=0,a=1,o=2;cc.Class({extends:cc.Animation,properties:{animStep:0,lastDt:0,collided:!1},onBeginContact:function(e,t,i){if(100===i.tag){if(this.collided)return;this.collided=!0,game.gameMan.onGameSuccess()}else if(101===i.tag){if(this.collided)return;this.collided=!0,game.gameMan.onGameFail()}},onEndContact:function(e,t,i){},onPreSolve:function(e,t,i){},onPostSolve:function(e,t,i){},onLoad:function(){var e=this._createAnimClip("ball_normal_","normal",8);this.addClip(e);var t=this._createAnimClip("ball_happy_","happy",6);this.addClip(t);var i=this._createAnimClip("ball_angry_","angry",5);this.addClip(i),this.play("normal")},addSkin:function(e){var t=new cc.Node("skin");t.addComponent(cc.Sprite).spriteFrame=e,t.y=10,this.node.addChild(t)},_createAnimClip:function(e,t,i){for(var n=cc.loader.getRes("atlas/ball_batch",cc.SpriteAtlas),a=[],o=1;o<=i;++o)a.push(n.getSpriteFrame(e+o));var s=cc.AnimationClip.createWithSpriteFrames(a,4);return s.name=t,s.wrapMode=cc.WrapMode.Loop,s},showHappy:function(){this.checkAndShow(a)},showAngry:function(){this.checkAndShow(o)},showNormal:function(){this.checkAndShow(n)},checkAndShow:function(e){if(e!==this.animStep&&this.animStep!==a&&!(Date.now()-this.lastDt<500))switch(this.lastDt=Date.now(),this.animStep=e,e){case o:this.play("angry");break;case a:this.play("happy");break;case n:this.play("normal")}},update:function(e){}}),cc._RF.pop()},{}],PlayerInfo:[function(e,t,i){"use strict";cc._RF.push(t,"28e5fVLdExMd56mCDT4lvR0","PlayerInfo");var n=e("../../enum/ItemType"),a=function(){this.playerId="",this.bestScore=0,this.removedAds=!1,this.level=0,this.progress=0,this.levelMap=null,this.rated=!1,this.boostMap=null,this.coins=0,this.guided=!1,this.hardLevel=0,this.lastWheelTime=0,this.currentSkinId=0,this.interstitialAdCount=0,this.rewardedAdCount=0,this.createDt=0,this.levelsMap={},this.lastLoginDay=0,this.consecutiveLoginDays=1,this.lastClaimDailyBonusDay=0,this.nextDayTips=!1,this.skinMap={},this.skinAdsCountMap={},this.specialOfferMap={},this.diamonds=0,this.taskMap={},this.skinAdjusted=!1,this.lastShowRateTime=0,this.rewardAdCountPerDay={},this.rewardAdRecordDay=0,this.iapCount=0,this.failCountMap={},this.lastLoginTime=0,this.hasAimItem=!1,this.lastDailyDiamondTime=0};a.prototype.unmarshall=function(e){this.playerId=e.playerId,this.bestScore=e.bestScore||0,this.removedAds=e.removedAds||!1,this.level=e.level||1,this.progress=e.progress||0,this.levelMap=e.levelMap||{},this.rated=e.rated||!1,this.coins=e.coins||0,this.guided=e.guided||!1,this.boostMap=e.boostMap||{},this.hardLevel=e.hardLevel||1,this.lastWheelTime=e.lastWheelTime||0,this.currentSkinId=e.currentSkinId||0,this.interstitialAdCount=e.interstitialAdCount||0,this.rewardedAdCount=e.rewardedAdCount||0,this.createDt=e.createDt||Date.now(),this.levelsMap=e.levelsMap||{},this.lastLoginDay=e.lastLoginDay||0,this.consecutiveLoginDays=e.consecutiveLoginDays||1,this.lastClaimDailyBonusDay=e.lastClaimDailyBonusDay||0,this.nextDayTips=e.nextDayTips||!1,this.skinMap=e.skinMap||{0:!0},this.skinAdsCountMap=e.skinAdsCountMap||{},this.specialOfferMap=e.specialOfferMap||{},this.diamonds=e.diamonds||50,this.taskMap=e.taskMap||{},this.skinAdjusted=e.skinAdjusted||!1,this.lastShowRateTime=e.lastShowRateTime||0,this.rewardAdCountPerDay=e.rewardAdCountPerDay||0,this.rewardAdRecordDay=e.rewardAdRecordDay||0,this.iapCount=e.iapCount||0,this.failCountMap=e.failCountMap||{},this.lastLoginTime=e.lastLoginTime||Date.now(),this.hasAimItem=e.hasAimItem||!1,this.lastDailyDiamondTime=e.lastDailyDiamondTime||0},a.createDefault=function(){var e=new a;return e.hintsCount=5,e.bestScore=0,e.removedAds=!1,e.level=1,e.progress=0,e.levelMap={},e.rated=!1,e.coins=0,e.guided=!1,e.boostMap={},e.boostMap[n.AddBall]=5,e.boostMap[n.MultiBall]=5,e.boostMap[n.BottomObstacle]=5,e.boostMap[n.ExpandBoard]=5,e.boostMap[n.ExplodeRandom]=5,e.hardLevel=1,e.lastWheelTime=0,e.currentSkinId=0,e.interstitialAdCount=0,e.rewardedAdCount=0,e.createDt=Date.now(),e.levelsMap={},e.dailyBonusDt=Date.now(),e.lastLoginDay=0,e.consecutiveLoginDays=1,e.lastClaimDailyBonusDay=0,e.nextDayTips=!1,e.skinMap={0:!0},e.skinAdsCountMap={},e.specialOfferMap={},e.diamonds=50,e.taskMap={},e.skinAdjusted=!1,e.lastShowRateTime=0,e.rewardAdCountPerDay=0,e.rewardAdRecordDay=0,e.iapCount=0,e.failCountMap={},e.lastLoginTime=Date.now(),e.hasAimItem=!1,e.lastDailyDiamondTime=0,e},t.exports=a,cc._RF.pop()},{"../../enum/ItemType":"ItemType"}],PlayerMan:[function(e,t,i){"use strict";cc._RF.push(t,"86277QQNrhE8rytnuoKt+eQ","PlayerMan");var n=e("../entity/PlayerInfo"),a=e("../../events/EventsName"),o=e("../../enum/ItemType"),s=cc.Class({properties:{player:null,bestScoreKey:null,levelBoardKey:null,inited:!1},ctor:function(){},initData:function(){if(!this.inited){this.inited=!1;var e,t=game.storage.getItem("player_key",null);null==t||""==t?(e=n.createDefault(),game.storage.setItem("player_key",JSON.stringify(e)),game.analyseManager.addVirtualCurrency("init_player",e.diamonds)):(e=new n).unmarshall(JSON.parse(t)),this.player=e}},removedAds:function(){this.player.removedAds=!0,game.adsManager.removeBannerAds("top"),game.adsManager.removeBannerAds("bottom"),this._flushToStorage()},setRated:function(){this.player.rated=!0,this._flushToStorage()},getLevel:function(){return cc.isUndefined(this.player.level)?1:this.player.level},setLevel:function(e){this.player.level<e&&(this.player.level=e,game.analyseManager.trackPlayerLevel(e),this._flushToStorage())},updateLevelData:function(e,t,i){cc.isUndefined(this.player.levelsMap[e])&&(this.player.levelsMap[e]={}),this.player.levelsMap[e][t]=i,this._flushToStorage()},getLevelData:function(e,t){return(this.player.levelsMap[e]||{})[t]},getLevelStar:function(e){return this.getLevelData(e,"star")||0},getHardLevelStar:function(e){return this.getLevelData(e,"hardStar")||0},addInterstitialAdCount:function(){this.player.interstitialAdCount++,this._flushToStorage()},addRewardedAdCount:function(){this.player.rewardedAdCount++,this._flushToStorage()},setHardLevel:function(e){this.player.hardLevel<e&&(this.player.hardLevel=e,this._flushToStorage())},getHardLevel:function(){return cc.isUndefined(this.player.hardLevel)?1:this.player.hardLevel},getBoostCount:function(e){return this.player.boostMap[e]||0},useBoost:function(e){return this.getBoostCount(e)>0&&(this.player.boostMap[e]--,game.analyseManager.consumeItem(o.getName(e),1),this._flushToStorage(),!0)},addBoost:function(e,t){this.player.boostMap[e]=this.getBoostCount(e)+t,this._flushToStorage(),game.dispatcher.emit(a.REFRESH_BOOST)},addDiamonds:function(e,t,i,n,o){isNaN(e)?cc.error("diamonds is NAN"):(e>0?(game.audioPlayer.playEffectByKey("audio/diamond_add"),o||(t?game.analyseManager.addVirtualCurrency(t,e):(game.analyseManager.addVirtualCurrency("unkonw_reason",e),cc.error("error addDiamonds unknown reason:"+t)))):e<0&&(i&&n?game.analyseManager.consumeVirtualCurrency(i,n,-e):(cc.error("error addDiamonds unknown buyItemName:"+i+",buyItemCount:"+n),game.analyseManager.consumeVirtualCurrency("unknown_reason",0,-e))),this.player.diamonds+=e,this._flushToStorage(),game.dispatcher.emit(a.DIAMONDS_UPDATE,{diamonds:this.player.diamonds,delta:e}))},getDiamonds:function(){return this.player.diamonds},setTaskClaimed:function(e){cc.log("PlayerMan setTaskClaimed:"+e),this.player.taskMap[e]=!0,this._flushToStorage()},isTaskClaimed:function(e){return cc.log("PlayerMan isTaskClaimed:"+e),!!this.player.taskMap[e]},setGuided:function(e){this.player.guided=e,this._flushToStorage()},setLastWheelTime:function(e){this.player.lastWheelTime=e,this._flushToStorage()},getLastWheelTime:function(){return this.player.lastWheelTime},setCurrentSkinId:function(e){e!==this.player.currentSkinId&&(game.gameMan.drainBallPool(),this.player.currentSkinId=e,this._flushToStorage())},getCurrentSkinId:function(){return this.player.currentSkinId},setClaimedSkin:function(e){this.player.skinMap[e]=!0,this._flushToStorage()},hasSkin:function(e){return!!this.player.skinMap[e]},isNewPlayer:function(){return Date.now()-this.player.createDt<864e5},getRegisterDay:function(){return Math.floor((Date.now()-this.player.createDt)/864e5)+1},currentDay:function(){return game.utils.getDayByTs(Date.now())},checkConsecutiveLoginDay:function(){var e=this.currentDay(),t=e-this.player.lastLoginDay;return t<0&&(cc.error("consecutive login day error, today is smaller than lastLoginDay, maybe you have adjust the time."),t=0),t<=1?this.player.consecutiveLoginDays+=t:this.player.consecutiveLoginDays=1,this.player.lastLoginDay=e,this.player.consecutiveLoginDays<1&&(this.player.consecutiveLoginDays=1),this.player.consecutiveLoginDays},setLastClaimDailyBonusDay:function(e){this.player.lastClaimDailyBonusDay=e,this._flushToStorage()},setNextDayTips:function(){this.player.nextDayTips=!0,this._flushToStorage()},isSpecialOfferPurchased:function(e){return this.player.specialOfferMap[e]||!1},setSpecialOfferPurchased:function(e){this.player.specialOfferMap[e]=!0,this._flushToStorage(),game.dispatcher.emit(a.UPDATE_SPECIAL_OFFER)},setSkinAdjusted:function(){this.player.skinAdjusted=!0,this._flushToStorage()},setLastShowRateTime:function(){this.player.lastShowRateTime=Date.now(),this._flushToStorage()},addRewardAdCountPerDay:function(){this.tryClearPreviousAdCountPerDay(),cc.isUndefined(this.player.rewardAdCountPerDay)&&(this.player.rewardAdCountPerDay=0),this.player.rewardAdCountPerDay++,this._flushToStorage(),game.dispatcher.emit(a.REWARDED_VIDEO_COUNT)},getRewardAdPlaceCountPerDay:function(){return this.tryClearPreviousAdCountPerDay(),this.player.rewardAdCountPerDay||0},tryClearPreviousAdCountPerDay:function(){this.player.rewardAdRecordDay!==this.getRegisterDay()&&(this.player.rewardAdCountPerDay=0,this.player.rewardAdRecordDay=this.getRegisterDay())},addIapCount:function(){this.player.iapCount++,this._flushToStorage()},addFailCount:function(e){this.player.failCountMap[e]=this.getFailCount(e)+1,this._flushToStorage()},getFailCount:function(e){return cc.log("skip fail count map:"+JSON.stringify(this.player.failCountMap)),this.player.failCountMap[e]||0},addSkinAdsCount:function(e){this.player.skinAdsCountMap[e]=this.getSkinAdsCount(e)+1,this._flushToStorage()},getSkinAdsCount:function(e){return this.player.skinAdsCountMap[e]||0},setLastLoginTime:function(){this.player.lastLoginTime=Date.now(),this._flushToStorage()},setLastDailyDiamondsTime:function(){this.player.lastDailyDiamondTime=Date.now(),this._flushToStorage()},purchasedAimItem:function(){this.player.hasAimItem=!0,this._flushToStorage()},_flushToStorage:function(){game.storage.setItem("player_key",JSON.stringify(this.player))}});s._instance=null,s._firstUseInstance=!0,s.getInstance=function(){return s._firstUseInstance&&(s._firstUseInstance=!1,s._instance=new s),s._instance},t.exports=s,cc._RF.pop()},{"../../enum/ItemType":"ItemType","../../events/EventsName":"EventsName","../entity/PlayerInfo":"PlayerInfo"}],PopupMan:[function(e,t,i){"use strict";cc._RF.push(t,"f12d03cGPJKNrNFqND4pAjk","PopupMan");var n={popupCommonDlg:function(e,t){cc.loader.loadRes("prefabs/notice_view",function(i,n){var a=cc.instantiate(n).getComponent("NoticeComponent");a.initWithYes(e,t),a.popup()}.bind(this))},popupYesNoCommonDlg:function(e,t,i,n,a,o,s){cc.loader.loadRes("prefabs/notice_view",function(r,c){var l=cc.instantiate(c).getComponent("NoticeComponent");l.initWithYesNo(e,t,i,n,a,o,s),l.popup()}.bind(this))},popupRewardDlg:function(e,t,i,n,a,o){cc.loader.loadRes("prefabs/notice_view",function(s,r){var c=cc.instantiate(r).getComponent("NoticeComponent");c.initWithRewardYes(e,t,i,n,a,o),c.popup()}.bind(this))},popupStore:function(e,t){cc.loader.loadRes("prefabs/store2_view",function(i,n){var a=cc.instantiate(n).getComponent("StoreComponent");a.initWith(e,t),a.popup()}.bind(this))},popupSkin:function(){cc.loader.loadRes("prefabs/skin_view",function(e,t){cc.instantiate(t).getComponent("SkinScene").popup()}.bind(this))},popupPass:function(e,t){cc.loader.loadRes("prefabs/pass_view",function(i,n){var a=cc.instantiate(n).getComponent("PassComponent");a.initWith(e,t),a.popup()}.bind(this))},popupFail:function(e,t){cc.loader.loadRes("prefabs/fail_view",function(i,n){var a=cc.instantiate(n).getComponent("FailComponent");a.initWith(e,t),a.popup()}.bind(this))},popupSetting:function(){cc.loader.loadRes("prefabs/setting_view",function(e,t){cc.instantiate(t).getComponent("SettingComponent").popup()}.bind(this))},popupPause:function(e){cc.loader.loadRes("prefabs/pause2_view",function(t,i){var n=cc.instantiate(i).getComponent("PauseComponent");n.initWith(e),n.popup()}.bind(this))},popupGameHelp:function(){cc.loader.loadRes("prefabs/game_help_view",function(e,t){cc.instantiate(t).getComponent("GameHelpComponent").popup()}.bind(this))},popupTask:function(){cc.loader.loadRes("prefabs/task_view",function(e,t){cc.instantiate(t).getComponent("TaskComponent").popup()}.bind(this))},popupRateDlg:function(e,t){var i=game.i18n.t("rate_info");this.popupYesNoCommonDlg(i,game.i18n.t("rate_confirm"),game.i18n.t("rate_cancel"),function(){cc.sys.openURL(game.config.getPlatformDownloadUrl()),e&&e()},function(){t&&t()},!1)},popupWheelDlg:function(e){cc.loader.loadRes("prefabs/wheel_view",function(t,i){var n=cc.instantiate(i).getComponent("WheelComponent");n.initWith(e),n.popup()}.bind(this))},popupRewardDoubleTipDlg:function(e,t,i,n){this.popupRewardDouble(e,t,i,n)},popupDailyBonus:function(){cc.loader.loadRes("prefabs/daily_bonus_view",function(e,t){cc.instantiate(t).getComponent("DailyBonusComponent").popup()}.bind(this))},popupFreeSkin:function(e,t){cc.loader.loadRes("prefabs/get_skin_view",function(i,n){var a=cc.instantiate(n).getComponent("GetItemComponent");a.initWithSkin(e,t),a.popup()}.bind(this))},popupFreeSkinReward:function(e,t){cc.loader.loadRes("prefabs/get_skin_reward_view",function(i,n){var a=cc.instantiate(n).getComponent("GetItemComponent");a.initWithSkinReward(e,t),a.popup()}.bind(this))},popup3Star:function(e,t,i){cc.loader.loadRes("prefabs/get_3_star_view",function(n,a){var o=cc.instantiate(a).getComponent("GetItemComponent");o.initWith3Star(e,t,i),o.popup()}.bind(this))},popupOpenGiftBox:function(e){cc.loader.loadRes("prefabs/get_box_view",function(t,i){var n=cc.instantiate(i).getComponent("GetItemComponent");n.initWithGiftBox(e),n.popup()}.bind(this))},popupOpenDailyDiamond:function(e){cc.loader.loadRes("prefabs/get_diamond_view",function(t,i){var n=cc.instantiate(i).getComponent("GetItemComponent");n.initWithDailyDiamond(e),n.popup()}.bind(this))},popupRewardDouble:function(e,t,i,n){cc.loader.loadRes("prefabs/get_prize_view",function(a,o){var s=cc.instantiate(o).getComponent("GetItemComponent");s.initWithRewardDouble(e,t,i,n),s.popup()}.bind(this))},popupItemReward:function(e,t,i,n){cc.loader.loadRes("prefabs/get_reward_view",function(a,o){var s=cc.instantiate(o).getComponent("GetItemComponent");s.initWithItemReward(e,t,i,n),s.popup()}.bind(this))},popupRelife:function(e,t){cc.loader.loadRes("prefabs/relife_view",function(i,n){var a=cc.instantiate(n).getComponent("RelifeComponent");a.initWith(e,t),a.popup()}.bind(this))}};t.exports=n,cc._RF.pop()},{}],ProductInfo:[function(e,t,i){"use strict";cc._RF.push(t,"b3f63X+pghNvLoqjWeAhvKZ","ProductInfo");var n=function(){this.productId=0,this.price=0,this.description=null,this.title=null};n.prototype.unmarshal=function(e){this.productId=e.productId,this.price=e.price,this.description=e.description,this.title=e.title},t.exports=n,cc._RF.pop()},{}],RateManager:[function(e,t,i){"use strict";cc._RF.push(t,"2c30a2ERNpBCa2vwGHGk4Pu","RateManager");var n=cc.Class({ctor:function(){},init:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.initRateParams(3,1,.5,.5,!0)},rate:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.launchRate()},likeInFacebook:function(e){cc.sys.openURL(e)},launchAppReview:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.launchAppReview()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],RelifeComponent:[function(e,t,i){"use strict";cc._RF.push(t,"9d39cw1o1NLd6GI+MVx7f91","RelifeComponent"),cc.Class({extends:cc.Component,properties:{continueCallback:null,closeCallback:null,ptProgress:cc.ProgressBar,totalTime:5,progress:0,elipsedTime:0},initWith:function(e,t){this.continueCallback=e,this.closeCallback=t},onContinueClicked:function(){game.audioHelper.playBtnSound(),this.continueCallback&&this.continueCallback(),this.close()},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.closeCallback&&this.closeCallback(),this.close()},update:function(e){this.elipsedTime+=e,this.progress=this.elipsedTime/this.totalTime,this.ptProgress.progress=1-this.progress,this.progress>1&&this.onCloseClicked()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],RemoteConfigManager:[function(e,t,i){"use strict";cc._RF.push(t,"1030cbpvzhMg6PUqMjGwvri","RemoteConfigManager");var n=cc.Class({remoteReceivedCB:null,ctor:function(){cc.sys.isNative&&(jsb_dp.oneSdkBridge.onRemoteConfigReceived=this.onRemoteConfigReceived.bind(this))},setRemoteConfigReceivedCallback:function(e){this.remoteReceivedCB=e},onRemoteConfigReceived:function(){this.remoteReceivedCB&&this.remoteReceivedCB()},setDefaultRemoteConfig:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.setDefaultRemoteConfig(JSON.stringify(e))},fetchRemoteConfig:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.fetchRemoteConfig()},getRemoteConfig:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.getRemoteConfig(e):""},activateRemoteFetched:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.activateRemoteFetched()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],ResMan:[function(e,t,i){"use strict";cc._RF.push(t,"5a370p3adZA/rSr4scrXHm3","ResMan");var n=cc.Class({blackPrefab:null,ctor:function(){},preload:function(e){var t=this;cc.loader.loadResDir("config",function(i,n){cc.loader.loadResDir("prefabs",function(i,n){cc.loader.loadResDir("audio",function(i,n){cc.loader.loadResDir("atlas",function(i,n){cc.loader.loadResDir("font",function(i,n){t.preloadBlackPrefab(function(){e&&e()})})})})})})},preloadBlackPrefab:function(e){var t=this;cc.loader.loadRes("prefabs/black_view",function(i,n){t.blackPrefab=n,e&&e()})}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],SettingComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d8700YIgjdEvJXatSy+qL6o","SettingComponent");e("../enum/StoreType"),e("../events/EventsName");cc.Class({extends:cc.Component,properties:{spAudioOff:cc.Node,spAudioOn:cc.Node,lbAudio:cc.Label,lbVersion:cc.Label,ndRank:cc.Node,ndVibrate:cc.Node,spVibrateOn:cc.Node,spVibrateOff:cc.Node,lblVibrate:cc.Label},onLoad:function(){this.updateSoundItem(),this.updateVibrateItem();var e="web";cc.sys.isNative&&(e=jsb_dp.oneSdkBridge.getVersion()),this.lbVersion.string=game.utils.sprintf(_("version_title"),e),cc.sys.os===cc.sys.OS_ANDROID&&(this.ndRank.active=!1,this.ndVibrate.active=!1)},updateSoundItem:function(){var e=game.audioPlayer.isEffectOn();this.spAudioOff.active=!1,this.spAudioOn.active=!1,e?(this.spAudioOn.active=!0,this.lbAudio.string=_("audio_on_title")):(this.spAudioOff.active=!0,this.lbAudio.string=_("audio_off_title"))},updateVibrateItem:function(){var e=game.audioPlayer.isVibrateOn();this.spVibrateOff.active=!1,this.spVibrateOn.active=!1,e?(this.spVibrateOn.active=!0,this.lblVibrate.string=_("vibrate_on_title")):(this.spVibrateOff.active=!0,this.lblVibrate.string=_("vibrate_off_title"))},soundClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setEffectOn(!game.audioPlayer.isEffectOn()),game.audioPlayer.setMusicOn(!game.audioPlayer.isMusicOn()),this.updateSoundItem()},shareClicked:function(e){game.audioHelper.playBtnSound(),game.shareManager.shareWithSystem(game.utils.sprintf(_("share_tips"),game.playerMan.getLevel(),game.config.getShortPlatformDownloadUrl()))},rankClicked:function(e){game.audioHelper.playBtnSound(),game.gcManager.showLeaderboard(game.config.getLeaderBoardKey())},supportClicked:function(e){game.audioHelper.playBtnSound(),game.shareManager.sendEmail(game.config.connectEmail,_("feed_back_title"),_("feed_back_content"))},rateClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},fanPageClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.facebookFanPageUrl)},likeUsClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},vibrateClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setVibrateOn(!game.audioPlayer.isVibrateOn()),this.updateVibrateItem()},backClicked:function(e){game.audioHelper.playBtnSound(),this.close()},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../events/EventsName":"EventsName"}],SettingScene:[function(e,t,i){"use strict";cc._RF.push(t,"65e08cgGgZJ6Z71eaPtS4BN","SettingScene"),cc.Class({extends:e("BaseScene"),properties:{lbVersion:cc.Label,lbAudio:cc.Label,ndRank:cc.Node,ndVibrate:cc.Node,lblVibrate:cc.Label},onLoad:function(){this._super(),this.lbVersion.string=game.i18n.t("version_title")+" "+game.utils.getVersion(),this.updateSoundItem(),this.updateVibrateItem(),cc.sys.os===cc.sys.OS_ANDROID&&(this.ndRank.visible=!1)},updateSoundItem:function(){var e=game.audioPlayer.isEffectOn();this.lbAudio.string=e?_("audio_on_title"):_("audio_off_title")},updateVibrateItem:function(){var e=game.audioPlayer.isVibrateOn();this.lblVibrate.string=e?_("vibrate_on_title"):_("vibrate_off_title")},onBackClicked:function(){this.showed||(this.showed=!0,game.utils.loadSceneWithAnim("MenuScene"))},onContactUs:function(){game.audioHelper.playBtnSound(),game.shareManager.sendEmail(game.config.connectEmail,game.i18n.t("feed_back_title"),game.i18n.t("feed_back_content"))},onShare:function(){game.audioHelper.playBtnSound(),game.shareManager.shareWithSystem(game.utils.sprintf(game.i18n.t("share_tips"),game.gameMan.getTotalWinStar(),game.config.getShortPlatformDownloadUrl()))},soundClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setEffectOn(!game.audioPlayer.isEffectOn()),game.audioPlayer.setMusicOn(!game.audioPlayer.isMusicOn()),this.updateSoundItem()},rankClicked:function(e){game.audioHelper.playBtnSound(),game.gcManager.showLeaderboard(game.config.getLeaderBoardKey())},rateClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},fanPageClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.facebookFanPageUrl)},likeUsClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},vibrateClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setVibrateOn(!game.audioPlayer.isVibrateOn()),this.updateVibrateItem()},onBack:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene")}}),cc._RF.pop()},{BaseScene:"BaseScene"}],ShapeType:[function(e,t,i){"use strict";cc._RF.push(t,"87519tB0ptGwao7xSynl6Mm","ShapeType");t.exports={BALL:1,BRICK:2,BOARD:3,WALL:4,ITEM:5},cc._RF.pop()},{}],ShareConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e812dzg5/tMCYmPvLwxl9IQ","ShareConfig");var n=function(){this.id=0,this.image="",this.desc=""};n.prototype.unmarshal=function(e){this.id=e.id,this.image=e.image,this.desc=e.desc},n.prototype.copy=function(){var e=new n;return e.id=this.id,e.image=this.image,e.desc=this.desc,e},t.exports=n,cc._RF.pop()},{}],ShareManager:[function(e,t,i){"use strict";cc._RF.push(t,"8104fN0tu1Hr73cpD+k8gqG","ShareManager");var n=cc.Class({ctor:function(){},shareWithSystem:function(e){if(cc.sys.isNative){jsb_dp.oneSdkBridge.systemShare("",e)}},openAppWithIdentifier:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.openAppWithIdentifier(e)},sendEmail:function(e,t,i){cc.sys.isNative&&jsb_dp.oneSdkBridge.sendEmail(e,t,i)},wxShare:function(e,t){window.wx&&wx.updateShareMenu({withShareTicket:!1,complete:function(i){wx.shareAppMessage({title:e.desc,imageUrl:e.image,query:"source=share_"+e.id,success:function(e){t&&t(!0)},fail:function(e){t&&t(!1)}})}})},wxGroupShare:function(e,t,i){window.wx&&wx.updateShareMenu({withShareTicket:!0,success:function(n){wx.shareAppMessage({title:e.desc,imageUrl:e.image,query:"source="+t+"&share=share_"+e.id,success:function(e){console.error(JSON.stringify(e)),e&&e.shareTickets?i&&i(!0):i&&i(!1)},fail:function(e){i&&i(!1)}})}})},registerWxShare:function(e,t){window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],SkinCell:[function(e,t,i){"use strict";cc._RF.push(t,"2a4d1Kt86JFxpYEZReOD/KT","SkinCell");var n=e("../events/EventsName"),a=e("../enum/SkinType");cc.Class({extends:e("viewCell"),properties:{ndPurchase:cc.Node,ndOwned:cc.Node,ndWatchAds:cc.Node,lbDiamondPrice:cc.Label,lbUsing:cc.Label,lbRewardAdsCount:cc.Label,spSkin:cc.Sprite,skinCfg:null,index:0,group:void 0},onLoad:function(){game.dispatcher.on(n.UPDATE_SKIN,this.onUpdateSkin,this)},onDestroy:function(){game.dispatcher.off(n.UPDATE_SKIN,this.onUpdateSkin,this)},init:function(e,t,i,n){e>=t.array.length?this.node.active=!1:(this.node.active=!0,this.idx=e,this.skinCfg=t.array[e],this.refresh())},refresh:function(){if(game.utils.setSpriteFrame(this.spSkin.node,"atlas/skin_batch",this.skinCfg.image),this.ndPurchase.active=!1,this.ndOwned.active=!1,this.ndWatchAds.active=!1,game.playerMan.hasSkin(this.skinCfg.id))this.ndOwned.active=!0,this.skinCfg.id===game.playerMan.getCurrentSkinId()?this.lbUsing.string=_("selected_title"):this.lbUsing.string=_("select_title");else switch(this.skinCfg.type){case a.WatchAds:var e=game.playerMan.getSkinAdsCount(this.skinCfg.id);this.ndWatchAds.active=!0,this.lbRewardAdsCount.string=game.utils.sprintf("%d/%d",e,this.skinCfg.count);break;case a.Diamonds:this.ndPurchase.active=!0,this.lbDiamondPrice.string=this.skinCfg.count}},onUpdateSkin:function(){this.refresh()},purchaseClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.buySkin(this.skinCfg,"buy_skin_in_store")},selectClicked:function(){game.audioHelper.playBtnSound(),game.playerMan.setCurrentSkinId(this.skinCfg.id),game.dispatcher.emit(n.UPDATE_SKIN)}}),cc._RF.pop()},{"../enum/SkinType":"SkinType","../events/EventsName":"EventsName",viewCell:"viewCell"}],SkinConfig:[function(e,t,i){"use strict";cc._RF.push(t,"c2d42S3tndOXqwwPzR7wn6A","SkinConfig");var n=function(){this.id=0,this.count="",this.image=0,this.scale=1,this.type=0};n.prototype.unmarshal=function(e){this.id=e.id,this.count=e.count,this.image=e.image,this.scale=e.scale||1,this.type=e.type||2},t.exports=n,cc._RF.pop()},{}],SkinRewardType:[function(e,t,i){"use strict";cc._RF.push(t,"752e0rOZ31CJJEpNYqufiRQ","SkinRewardType");t.exports={None:0,LevelCount:1,WatchAdCount:2,WatchRewardAdCount:3,Claimed:4,Purchase:5},cc._RF.pop()},{}],SkinScene:[function(e,t,i){"use strict";cc._RF.push(t,"9c242fq3FBK/6tZ/AzSsL0X","SkinScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dispatcher.on("refresh_skin",this.onUpdateSkin,this),this.initView(),this.addCoinsUI(),game.adsManager.removeBannerAds("bottom");var e=cc.find("Canvas/bg");e&&game.effectMan.showBackgroundAnims(e)},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){cc.instantiate(t).parent=this.node}.bind(this))},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dispatcher.off("refresh_skin",this.onUpdateSkin,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},initView:function(){var e=game.configMan.getSkinList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},onUpdateSkin:function(){this.tableView.getComponent(cc.tableView).reload()},start:function(){},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),this.close())},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],SkinType:[function(e,t,i){"use strict";cc._RF.push(t,"3ca17u1aw1CTLUGps66y04s","SkinType");t.exports={WatchAds:1,Diamonds:2},cc._RF.pop()},{}],SpriteFrameSet:[function(e,t,i){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],Storage:[function(e,t,i){"use strict";cc._RF.push(t,"7b4d1B7j9FC3I2N8+y+liDa","Storage");var n=cc.Class({extends:cc.Component,properties:{},setItem:function(e,t){cc.sys.localStorage.setItem(e,t)},getItem:function(e,t){var i=cc.sys.localStorage.getItem(e);return i||t},removeItem:function(e){cc.sys.localStorage.removeItem(e)}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],StoreCell:[function(e,t,i){"use strict";cc._RF.push(t,"5fe83fEFqdMsKgS6TgVkYY3","StoreCell");var n=e("../enum/StoreType");cc.Class({extends:e("viewCell"),properties:{lbPrice:cc.Label,spRewardedVideo:cc.Node,ndRestore:cc.Node,ndDiamond:cc.Node,ndPurchase:cc.Node,lbDiamond:cc.Label,spDiamond:cc.Node,spHotTag:cc.Node,spFreeTag:cc.Node,spPercentTag:cc.Node,spRedBg:cc.Node,lbTag:cc.Label,ndReminder:cc.Node,idx:0,index:0,group:void 0},onLoad:function(){},init:function(e,t,i,a){if(e>=t.array.length)this.node.active=!1;else{this.storeEntity=t.array[e];var o=this.storeEntity;switch(this.idx=e,this.lbPrice.string=o.price,this.ndRestore.active=!1,this.ndDiamond.active=!1,this.ndPurchase.active=!0,this.lbPrice.node.active=!1,this.spRewardedVideo.active=!1,this.spHotTag.active=!1,this.spFreeTag.active=!1,this.spPercentTag.active=!1,this.lbTag.node.active=!1,this.spRedBg.active=!1,o.type){case n.FREE:this.ndDiamond.active=!0,this.lbDiamond.string=o.count,this.spRewardedVideo.active=!0,game.utils.setSpriteFrame(this.spDiamond,"atlas/store_batch",o.image),this.spFreeTag.active=!0,this.lbTag.node.active=!0,this.lbTag.string=_("free_coins_title");var s=cc.loader.getRes("prefabs/ads_reminder_view",cc.Prefab),r=cc.instantiate(s);this.ndReminder.addChild(r);break;case n.REMOVE_ADS:this.ndDiamond.active=!0,this.lbDiamond.string=_("remove_ads_title"),game.utils.setSpriteFrame(this.spDiamond,"atlas/store_batch",o.image),this.lbPrice.node.active=!0,this.spHotTag.active=!0,this.lbTag.node.active=!0,this.lbTag.string=_("hot_title");break;case n.RESTORE:this.ndRestore.active=!0,this.ndPurchase.active=!1,this.spRedBg.active=!0;break;case n.DIAMOND:this.ndDiamond.active=!0,this.lbDiamond.string=o.count,this.lbPrice.node.active=!0,game.utils.setSpriteFrame(this.spDiamond,"atlas/store_batch",o.image),o.extra>0&&(this.spPercentTag.active=!0,this.lbTag.node.active=!0,this.lbTag.string="+"+100*o.extra+"%")}}},purchaseClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.buyProduct(this.storeEntity)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType",viewCell:"viewCell"}],StoreComponent:[function(e,t,i){"use strict";cc._RF.push(t,"f758eHYxJBLU4m4pZ7ua4y+","StoreComponent");var n=e("../enum/StoreType"),a=e("../events/EventsName"),o=0,s=1,r={};r[o]={tabNode:"tabDiamondsLight",unselectNode:"tabDiamondsDark",contentNode:"diamondsContentNode"},r[s]={tabNode:"tabSkinLight",unselectNode:"tabSkinDark",contentNode:"skinContentNode"},cc.Class({extends:cc.Component,properties:{closeCallback:null,currentTab:null,tabDiamondsLight:cc.Node,tabDiamondsDark:cc.Node,diamondsContentNode:null,tabSkinLight:cc.Node,tabSkinDark:cc.Node,skinContentNode:null,diamondTableView:cc.Node,skinTableView:cc.Node,lbDiamonds:cc.Label},onLoad:function(){game.dispatcher.on(a.DIAMONDS_UPDATE,this.onUpdateDiamonds,this),this.onUpdateDiamonds()},onDestroy:function(){game.dispatcher.off(a.DIAMONDS_UPDATE,this.onUpdateDiamonds,this),this.closeCallback&&this.closeCallback()},onUpdateDiamonds:function(){this.lbDiamonds.string=game.playerMan.getDiamonds()},initStoreUI:function(){var e=game.configMan.getSkinList();cc.log("skinConfigs length:"+e.length),this[r[s].contentNode]=this.skinTableView,this.skinTableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this});var t=game.configMan.getStoreListWithoutFirstPurchase();this[r[o].contentNode]=this.diamondTableView,this.diamondTableView.getComponent(cc.tableView).initTableView(t.length,{array:t,target:this})},refreshUI:function(){for(var e in this.currentTab=this.currentTab||o,cc.log("StoreController.prototype.refreshUI:"+this.currentTab),r){var t=this[r[e].unselectNode],i=this[r[e].contentNode];i&&(i.active=Number(e)===this.currentTab),t&&(t.active=Number(e)!==this.currentTab)}},initWith:function(e,t){this.initStoreUI(),cc.log("StoreController.prototype.initWith:"+e),e===n.SKIN?this.currentTab=s:e===n.DIAMOND&&(this.currentTab=o),this.refreshUI(),this.closeCallback=t},onClickSkin:function(){game.audioHelper.playBtnSound(),this.currentTab=s,this.refreshUI()},onClickDiamonds:function(){game.audioHelper.playBtnSound(),this.currentTab=o,this.refreshUI()},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../events/EventsName":"EventsName"}],StoreConfig:[function(e,t,i){"use strict";cc._RF.push(t,"7d734ZgYJdKdbAV71j0jEaM","StoreConfig");var n=function(){this.id=0,this.type=0,this.name="",this.price=0,this.count=1,this.image="",this.pid="",this.key="",this.hot=!1,this.best=!1,this.data=null,this.original_price=0,this.discount_multi=0,this.extra=0,this.priceUS=0};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.name=e.name,this.price=e.price,this.count=e.count,this.image=e.image,this.pid=e.pid,cc.sys.os===cc.sys.OS_ANDROID&&(this.pid=e.pid_gp),this.key=e.key,this.hot=e.hot,this.best=e.best,this.data=e.data||{},this.original_price=e.original_price,this.discount_multi=e.discount_multi,this.extra=e.extra||0,this.priceUS=parseFloat(this.price.substr(1))},t.exports=n,cc._RF.pop()},{}],StoreManager:[function(e,t,i){"use strict";cc._RF.push(t,"d74e0gmhL1JEZS1q08cbqEC","StoreManager");var n=e("../entity/PaymentInfo"),a=e("../enum/PaymentCode"),o=e("../entity/ProductInfo"),s=(cc.Class({onPaymentCompleted:function(e,t){},onGetUnverifiedReceiptList:function(e){},onGetProductList:function(e){}}),cc.Class({properties:{paymentDelegate:null,productList:null},ctor:function(){cc.sys.isNative&&(jsb_dp.oneSdkBridge.onGetProductList=this.onGetProductList.bind(this),jsb_dp.oneSdkBridge.onPurchase=this.onPurchase.bind(this),jsb_dp.oneSdkBridge.onConsume=this.onConsume.bind(this),jsb_dp.oneSdkBridge.onGetUnverifiedReceiptList=this.onGetUnverifiedReceiptList.bind(this))},setPaymentDelegate:function(e){this.paymentDelegate=e},onGetProductList:function(e){if(cc.log("onGetProductList: "+e),e){var t=JSON.parse(e);if(t&&t.length>0){for(var i=[],n=0;n<t.length;++n){var a=new o;a.unmarshal(t[n]),i.push(a)}this.paymentDelegate&&this.paymentDelegate.onGetProductList(i),this.productList=i}}},onPurchase:function(e){var t;cc.log("onPurchase: "+e),JSON.parse(e).errorCode===a.PAYMENT_CODE_SUCCESS?(t=JSON.parse(e),this._paymentCompleted(a.PAYMENT_CODE_SUCCESS,t)):(t=JSON.parse(e),this._paymentCompleted(a.PAYMENT_CODE_FAIL,t))},onConsume:function(e){cc.log("onConsume: "+e)},onGetUnverifiedReceiptList:function(e){if(cc.log("onGetUnverifiedReceiptList: "+e),e&&e.length>0){var t=JSON.parse(e);if(t&&t.length>0){for(var i=[],a=0;a<t.length;++a){var o=t[a],s=new n;s.unmarshal(o),i.push(s)}this.paymentDelegate&&this.paymentDelegate.onGetUnverifiedReceiptList(i)}}},_paymentCompleted:function(e,t){var i=new n;i.unmarshal(t),e===a.PAYMENT_CODE_SUCCESS&&t?this.paymentDelegate&&this.paymentDelegate.onPaymentCompleted(a.PAYMENT_CODE_SUCCESS,i):this.paymentDelegate&&this.paymentDelegate.onPaymentCompleted(a.PAYMENT_CODE_FAIL,i)},_getNumFromString:function(e){return e.replace(/[^0-9.]/gi,"")},requestProduct:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.getProductsInfo(e)},payForProduct:function(e){cc.log("payForProduct:"+e),cc.sys.isNative&&jsb_dp.oneSdkBridge.purchase(e)},consume:function(e){cc.log("consume:"+e),cc.sys.isNative&&e&&e.length>0&&jsb_dp.oneSdkBridge.consume(e)},restoreCompletedTransactions:function(){cc.log("restoreCompletedTransactions"),cc.sys.isNative&&jsb_dp.oneSdkBridge.restoreTransactions()},getUnverifiedReceiptList:function(){cc.log("getUnverifiedReceiptList"),cc.sys.isNative&&jsb_dp.oneSdkBridge.getUnverifiedReceiptList()},_getProductById:function(e){if(this.productList&&this.productList.length>0)for(var t=0;t<this.productList.length;++t){var i=this.productList[t];if(i.productId===e)return i}return null}}));s.sharedDirector=null,s.firstUseDirector=!0,s.getInstance=function(){return s.firstUseDirector&&(s.firstUseDirector=!1,s.sharedDirector=new s),s.sharedDirector},t.exports=s,cc._RF.pop()},{"../entity/PaymentInfo":"PaymentInfo","../entity/ProductInfo":"ProductInfo","../enum/PaymentCode":"PaymentCode"}],StoreMan:[function(e,t,i){"use strict";cc._RF.push(t,"9b65cu7hLpLn6NcF3zm78KP","StoreMan");e("../common/entity/PaymentInfo");var n=e("../common/enum/PaymentCode"),a=(e("../common/entity/ProductInfo"),e("../enum/StoreType")),o=e("../config/ConfigMan"),s=e("../enum/ItemType"),r=e("../events/EventsName"),c=e("../enum/SkinType"),l=cc.Class({properties:{productList:null,storeList:null,inited:!1,_rewardCB:null},ctor:function(){},init:function(){this.inited||(game.storeManager.setPaymentDelegate(this),this.storeList=o.getInstance().getStoreList(),game.adsManager.setAdListener(this),this.inited=!0,this.requestProducts(),this.getUnverifiedReceiptList())},clear:function(){game.adsManager.setAdListener(null)},onRewardedVideoFinished:function(e){cc.log("onRewardedVideoFinished:"+e),e&&this.onRewardedVideoReward()},onShowVideoAdBegin:function(){cc.log("GameNode onShowVideoAdBegin")},onShowVideoAdEnd:function(){cc.log("GameNode onShowVideoAdEnd")},onRewardedVideoReward:function(){if(game.analyseManager.trackEvent("WatchRVSource",{name:this._adName}),this._rewardCB)return cc.log("onRewardedVideoReward 1"),this._rewardCB(!0),void(this._rewardCB=null);if(cc.log("onRewardedVideoReward 2"),game.playerMan.getRewardAdPlaceCountPerDay()>=game.config.rewardAdMaxCountPerDay)cc.log("StoreHelper onRewardedVideoReward has reached max count:"+game.playerMan.getRewardAdPlaceCountPerDay());else{var e="";this._adParam1?(game.analyseManager.trackEvent(this._adParam1),e=this._adParam1):(e="unknown",cc.error("StoreHelper adParam is null:"+this._adParam1)),this._adParam1=null,game.playerMan.addRewardAdCountPerDay();var t=this.getStoreEntityByType(a.FREE);this.popupRewardItemDlg(s.create(s.DIAMOND,t.count),"reward_video_"+e)}},getStoreEntity:function(e){for(var t=0;t<this.storeList.length;++t)if(this.storeList[t].pid===e)return this.storeList[t];return null},getStoreEntityByType:function(e){for(var t=0;t<this.storeList.length;++t)if(this.storeList[t].type===e)return this.storeList[t];return null},_getNumFromString:function(e){return e.replace(/[^0-9.]/gi,"")},updatePrice:function(e){var t=this.getStoreEntity(e.productId);if(t){t.price=e.price;try{if(t.original_price){var i=this._getNumFromString(e.price),n=Number(i);t.original_price=e.price.replace(i,(n*(t.discount_multi+1)).toFixed(2))}}catch(e){cc.error("update price:"+e)}}},checkAndShowRewardVideo:function(e,t,i){if(this._adParam1=i,this._adName=e,cc.log("checkAndShowRewardVideo 1"),!cc.sys.isNative)return cc.log("checkAndShowRewardVideo 2"),this._rewardCB=t,void this.onRewardedVideoReward();game.adsManager.isRewardVideoReady()?(cc.log("checkAndShowRewardVideo 3"),this._rewardCB=t,game.adsManager.showRewardVideoAd(e)):cc.log("reward video not ready")},buyProduct:function(e){switch(e.type){case a.NEW_3:case a.SPLIT:case a.FIRST_PURCHASE:case a.DIAMOND:game.storeManager.payForProduct(e.pid);break;case a.FREE:this.checkAndShowRewardVideo(game.utils.isIOS()?"daoju01":"jili03");break;case a.REMOVE_ADS:this.buyRemoveAds(e.pid);break;case a.RESTORE:game.storeManager.restoreCompletedTransactions();break;case a.NEW_AND_SPLIT:this.buyBoosts(e);break;case a.AIM_ITEM:game.storeManager.payForProduct(e.pid)}},buyRemoveAds:function(e){game.playerMan.player.removedAds?game.popupMan.popupCommonDlg(_("removed_all_ads_tips")):cc.sys.os===cc.sys.OS_ANDROID?game.popupMan.popupYesNoCommonDlg(_("purchase_no_ad_tips"),_("buy_title"),_("cancel_title"),function(){game.storeManager.payForProduct(e)},null,!1):game.popupMan.popupYesNoCommonDlg(_("purchase_no_ad_tips"),_("buy_title"),_("restore_title"),function(){game.storeManager.payForProduct(e)},function(){game.storeManager.restoreCompletedTransactions()},!0)},buySkin:function(e,t,i){if(!game.playerMan.hasSkin(e.id))switch(e.type){case c.Diamonds:game.playerMan.getDiamonds()>=e.count?(game.playerMan.setClaimedSkin(e.id),game.playerMan.setCurrentSkinId(e.id),game.playerMan.addDiamonds(-e.count,"purchase_skin","skin",1),game.dispatcher.emit(r.UPDATE_SKIN),game.analyseManager.trackEvent("DiamondPurchaseSkin",{skinId:e.id}),i&&i(!0)):this.popupLackDiamonds();break;case c.WatchAds:this.checkAndShowRewardVideo(t,function(t){t&&this.onWatchAdGetSkin(e,i)}.bind(this));break;default:cc.error("undefined skin type:"+e.type)}},onWatchAdGetSkin:function(e,t){game.playerMan.addSkinAdsCount(e.id),game.playerMan.getSkinAdsCount(e.id)>=e.count&&(game.playerMan.setClaimedSkin(e.id),game.playerMan.setCurrentSkinId(e.id),game.popupMan.popupItemReward("atlas/skin_batch",e.image,1,function(){}),t&&t(!0)),game.analyseManager.trackEvent("RewardVideoPurchaseSkin",{skinId:e.id}),game.dispatcher.emit(r.UPDATE_SKIN)},useSkin:function(e){game.playerMan.setCurrentSkinId(e.id),game.dispatcher.emit(r.UPDATE_SKIN)},buyBoosts:function(e){},skipLevel:function(e){return game.playerMan.getDiamonds()>=game.config.skipDiamonds?(game.playerMan.addDiamonds(-game.config.skipDiamonds,"skip_level","skip_level",1),game.analyseManager.consumeItem("skip_level",1),game.analyseManager.trackEvent("DiamondPurchaseSkipLevel",{level:e}),!0):(this.popupLackDiamonds(),!1)},reliveLevel:function(e){return game.playerMan.getDiamonds()>=game.config.relifeDiamonds?(game.playerMan.addDiamonds(-game.config.relifeDiamonds,"revive","revive",1),game.analyseManager.consumeItem("revive",1),game.analyseManager.trackEvent("DiamondPurchaseReliveLevel",{level:e}),!0):(this.popupLackDiamonds(),!1)},tryAimItem:function(e){return game.playerMan.getDiamonds()>=game.config.aimItemDiamonds?(game.playerMan.addDiamonds(-game.config.aimItemDiamonds,"try_aim","try_aim",1),game.analyseManager.consumeItem("try_aim",1),game.analyseManager.trackEvent("DiamondPurchaseAimItem",{level:e}),!0):(this.popupLackDiamonds(),!1)},useItem:function(e){if(game.playerMan.getBoostCount(e)<=0){if(!(game.playerMan.getDiamonds()>=game.config.itemDiamondCount))return!1;game.playerMan.addDiamonds(-game.config.itemDiamondCount,s.getName(e),s.getName(e),1),game.playerMan.addBoost(e,1)}return game.playerMan.useBoost(e)},onOpenBox:function(){var t=e("../enum/WheelType");game.popupMan.popupWheelDlg(t.Box)},popupLackDiamonds:function(){var t=e("../enum/StoreType");game.popupMan.popupStore(t.DIAMOND)},requestProducts:function(){for(var e=[],t=0;t<this.storeList.length;++t){var i=this.storeList[t];i&&i.pid&&e.push(i.pid)}cc.log("requestproducts:"+JSON.stringify(e)),game.storeManager.requestProduct(e)},getUnverifiedReceiptList:function(){game.storeManager.getUnverifiedReceiptList()},onPaymentCompleted:function(e,t){var i=!1;e===n.PAYMENT_CODE_SUCCESS?(this._onPaymentSuccess(t,!0),i=!0):game.popupMan.popupCommonDlg(_("purchase_fail")),game.dispatcher.emit(r.PURCHASE_END,i)},onGetUnverifiedReceiptList:function(e){for(var t=0;t<e.length;++t)this._onPaymentSuccess(e[t],!1)},onGetProductList:function(e){this.productList=e;for(var t=0;t<e.length;++t){var i=e[t];this.updatePrice(i)}},_onPaymentSuccess:function(e,t){var i=this.getStoreEntity(e.productId),n=this;switch(i.type){case a.REMOVE_ADS:game.playerMan.removedAds(),t&&game.popupMan.popupCommonDlg(_("purchase_no_ad_success")),cc.sys.os===cc.sys.OS_IOS&&game.storeManager.consume(e.purchaseId),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",0,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId);break;case a.NEW_3:case a.SPLIT:game.popupMan.popupRewardDlg(_("purchase_boost_success"),function(){game.playerMan.addBoost(i.type,i.count),game.storeManager.consume(e.purchaseId),n.addIapCount(i)},i.image,i.count);break;case a.FIRST_PURCHASE:var o=i.data.diamonds;game.popupMan.popupRewardDlg(_("purchase_success"),function(){game.playerMan.addDiamonds(o,"first_purchase",void 0,void 0,!0),game.storeManager.consume(e.purchaseId),game.playerMan.setSpecialOfferPurchased(e.productId),game.analyseManager.trackEvent("PurchaseSpecialOffer"),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",o,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId)},i.image,o);break;case a.DIAMOND:var s=i.count;game.popupMan.popupRewardDlg(_("purchase_success"),function(){game.playerMan.addDiamonds(s,"purchase",void 0,void 0,!0),game.storeManager.consume(e.purchaseId),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",s,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId)},i.image,s);break;case a.AIM_ITEM:game.popupMan.popupRewardDlg(_("purchase_success"),function(){game.playerMan.purchasedAimItem(),game.storeManager.consume(e.purchaseId),game.analyseManager.trackEvent("PurchaseAimItem"),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",0,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId),game.dispatcher.emit(r.UPDATE_AIM_ITEM)},"store_aim.png",1)}},addIapCount:function(e){game.playerMan.addIapCount();var t=game.playerMan.player.iapCount;1===t?game.analyseManager.trackEvent("FirstPurchase",{pid:e.pid}):2===t&&game.analyseManager.trackEvent("SecondPurchase",{pid:e.pid}),t>=2&&game.analyseManager.trackEvent("MultiPurchase",{pid:e.pid}),game.analyseManager.trackEvent("PurchaseLevel",{levelId:game.gameMan.levelId,pid:e.pid})},popupDoubleItemDlg:function(e,t,i){game.popupMan.popupRewardDoubleTipDlg(e.image,e.count,t,function(n){this.claimItemReward(e,t,n,i)}.bind(this))},popupRewardItemDlg:function(e,t,i,n){game.popupMan.popupItemReward("atlas/game_batch",e.image,e.count,function(){this.claimItemReward(e,t,i,n)}.bind(this))},claimItemReward:function(e,t,i,n){var a=i?2*e.count:e.count;e.type===s.DIAMOND?game.playerMan.addDiamonds(a,t):game.playerMan.addBoost(e.type,a),n&&n()}});l._instance=null,l._firstUseInstance=!0,l.getInstance=function(){return l._firstUseInstance&&(l._firstUseInstance=!1,l._instance=new l),l._instance},t.exports=l,cc._RF.pop()},{"../common/entity/PaymentInfo":"PaymentInfo","../common/entity/ProductInfo":"ProductInfo","../common/enum/PaymentCode":"PaymentCode","../config/ConfigMan":"ConfigMan","../enum/ItemType":"ItemType","../enum/SkinType":"SkinType","../enum/StoreType":"StoreType","../enum/WheelType":"WheelType","../events/EventsName":"EventsName"}],StoreScene:[function(e,t,i){"use strict";cc._RF.push(t,"bd7d6/YTKdEjqol5b9h0hF6","StoreScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node,lbFreeCoins:cc.Label,ndStore:cc.Node},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.lbFreeCoins.string=game.config.rewardVideoCoins,this.initView(),this.addCoinsUI();var e=cc.winSize.height/cc.winSize.width;e<1.640625&&(this.ndStore.scale=e/1.640625);var t=cc.find("Canvas/bg");t&&game.effectMan.showBackgroundAnims(t)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){var i=cc.instantiate(t);i.parent=this.node,i.getComponent("CoinsUI").disableClick()}.bind(this))},initView:function(){var e=game.configMan.getStoreList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},start:function(){},initCB:function(e){this.closeCB=e},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),this.close())},close:function(){game.dialogManager.close(this.node),this.closeCB&&this.closeCB()},onFreeClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("store")},onRestoreClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.restorePurchases()}}),cc._RF.pop()},{}],StoreType:[function(e,t,i){"use strict";cc._RF.push(t,"a3b45VlbQ5EM7AB1uIs93SO","StoreType");t.exports={FREE:1,NEW_3:2,SPLIT:3,REMOVE_ADS:4,RESTORE:5,FIRST_PURCHASE:6,NEW_AND_SPLIT:7,DIAMOND:8,SKIN:9,AIM_ITEM:10},cc._RF.pop()},{}],TaskCell:[function(e,t,i){"use strict";cc._RF.push(t,"16f5eGL+iNGmZJeOi+p2EiS","TaskCell");var n=e("../enum/SkinRewardType"),a=e("../events/EventsName"),o=e("../enum/ItemType");cc.Class({extends:e("viewCell"),properties:{lblGoal:cc.Label,lblGoalInfo:cc.Label,lblSelect:cc.Label,btnSelect:cc.Node,ndSelect:cc.Node,lblDiamonds:cc.Label,index:0,data:void 0},onLoad:function(){},init:function(e,t,i,n){cc.log("index:"+e),e>=t.array.length?this.node.active=!1:(this.node.active=!0,this.index=e,this.taskCfg=t.array[e],this.refresh())},refresh:function(){var e=this.taskCfg,t=!1;switch(e.type){case n.None:this.lblGoal.active=!1,this.lblGoalInfo.active=!1,t=!0;break;case n.LevelCount:this.lblGoal.active=!0,this.lblGoalInfo.active=!0,this.lblGoal.string=game.utils.sprintf(_("level_count_title"),e.count),game.playerMan.getLevel()>=e.count?(this.lblGoalInfo.string=_("completed_title"),t=!0):this.lblGoalInfo.string=game.utils.sprintf("%d/%d",game.playerMan.getLevel(),e.count);break;case n.WatchAdCount:this.lblGoal.active=!0,this.lblGoalInfo.active=!0,this.lblGoal.string=game.utils.sprintf(_("watch_ad_count_title"),e.count),game.playerMan.player.interstitialAdCount>=e.count?(this.lblGoalInfo.string=_("completed_title"),t=!0):this.lblGoalInfo.string=game.utils.sprintf("%d/%d",game.playerMan.player.interstitialAdCount,e.count);break;case n.WatchRewardAdCount:this.lblGoal.active=!0,this.lblGoalInfo.active=!0,this.lblGoal.string=game.utils.sprintf(_("watch_reward_ad_count_title"),e.count),game.playerMan.player.rewardedAdCount>=e.count?(this.lblGoalInfo.string=_("completed_title"),t=!0):this.lblGoalInfo.string=game.utils.sprintf("%d/%d",game.playerMan.player.rewardedAdCount,e.count);break;case n.Claimed:game.playerMan.hasSkin(e.id)?(this.lblGoal.active=!1,this.lblGoalInfo.active=!1,t=!0):(this.lblGoal.string=_("skin_gift_title"),this.lblGoalInfo.string="--");break;case n.Purchase:game.playerMan.hasSkin(e.id)?(this.lblGoal.active=!1,this.lblGoalInfo.active=!1,t=!0):(this.lblGoal.string=_("skin_purchase_title"),this.lblGoalInfo.string="--")}this.lblDiamonds.string="x"+e.rewardCount,this.btnSelect.getComponent(cc.Button).interactable=!1;var i=game.playerMan.isTaskClaimed(this.taskCfg.id);this.ndSelect.active=!0,t?i?this.lblSelect.string=_("claimed_title"):(this.btnSelect.getComponent(cc.Button).interactable=!0,this.lblSelect.string=_("claim_title")):this.lblSelect.string=_("uncompleted_title")},selectClicked:function(){if(game.audioHelper.playBtnSound(),cc.log("task claimed:"+game.playerMan.isTaskClaimed(this.taskCfg.id)),!game.playerMan.isTaskClaimed(this.taskCfg.id)){cc.log("task set claimed:"+this.taskCfg.id),game.playerMan.setTaskClaimed(this.taskCfg.id);var e=this.taskCfg.rewardCount;game.storeMan.popupDoubleItemDlg(o.create(o.DIAMOND,e),"tasks"),this.refresh(),game.dispatcher.emit(a.TASK_UPDATE)}}}),cc._RF.pop()},{"../enum/ItemType":"ItemType","../enum/SkinRewardType":"SkinRewardType","../events/EventsName":"EventsName",viewCell:"viewCell"}],TaskComponent:[function(e,t,i){"use strict";cc._RF.push(t,"34024igfg9LRo5fRfHzeYvi","TaskComponent");e("../enum/StoreType"),e("../events/EventsName");cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){var e=game.configMan.getTaskList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},backClicked:function(e){game.audioHelper.playBtnSound(),this.close()},onCloseClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../events/EventsName":"EventsName"}],TaskConfig:[function(e,t,i){"use strict";cc._RF.push(t,"46b3d2xBahPLqerHnJypnjY","TaskConfig");var n=function(){this.id=0,this.type=0,this.count="",this.rewardCount=0};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.rewardCount=e.rewardCount},t.exports=n,cc._RF.pop()},{}],TaskOldConfig:[function(e,t,i){"use strict";cc._RF.push(t,"472edFgtFNDDqX3BOJRPph2","TaskOldConfig");var n=function(){this.id=0,this.count="",this.image=0,this.scale=1,this.type=0};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.image=e.image,this.scale=e.scale||1},t.exports=n,cc._RF.pop()},{}],TopUI:[function(e,t,i){"use strict";cc._RF.push(t,"25598GdJGBNSaTiDFgfTMhF","TopUI");var n=e("LanguageData"),a=cc.Class({extends:cc.Component,properties:{lbLevel:cc.Label,ptPencil:cc.ProgressBar,rootNode:cc.Node,lbPencilPercent:cc.Label,btnHint:cc.Node,hintNode:cc.Node,hintHandNode:null,star1:cc.Node,star2:cc.Node,star3:cc.Node,stars:[],levelProgressNode:cc.Node,levelProgressFteHand:null,btnSkip:cc.Node},onLoad:function(){game.dispatcher.on("update_line_progress",this.onLineLenUpdate,this),game.dispatcher.on("destroy_guide",this.destroyGuide,this),this.lbLevel.string=n.t("level_title")+" "+game.gameMan.level,this.setLineLenPercent(0),this.addCoinsUI(),game.gameMan.retryCount>=2&&this.playHintAnim(),2===game.gameMan.level&&this.showProgressAnim(),this.stars=[this.star1,this.star2,this.star3],this.btnSkip.active=game.gameMan.shouldShowSkipButton()},showProgressAnim:function(){cc.loader.loadRes("prefabs/fte_arrow",function(e,t){var i=cc.instantiate(t);this.levelProgressNode.addChild(i),this.levelProgressFteHand=i,i.setPosition(cc.p(25,-25));var n=i.getPosition(),a=n.add(cc.p(-25,25));i.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.6,a),cc.moveTo(.6,n))))}.bind(this))},stopProgressAnim:function(){this.levelProgressFteHand&&(this.levelProgressFteHand.destroy(),this.levelProgressFteHand=null)},stopHintAnim:function(){this.hintHandNode&&(this.hintHandNode.destroy(),this.hintHandNode=null),game.gameMan.resetRetryLevel()},playHintAnim:function(){game.gameMan.shouldShowHint()||cc.loader.loadRes("prefabs/fte_hand",function(e,t){var i=cc.instantiate(t);this.hintNode.addChild(i),i.getComponent(cc.Animation).play("fte_hand_loop"),this.hintHandNode=i}.bind(this))},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){var i=cc.instantiate(t);i.parent=this.rootNode,i.getComponent(cc.Widget).right=22,i.getComponent(cc.Widget).top=20}.bind(this))},onDestroy:function(){game.dispatcher.off("update_line_progress",this.onLineLenUpdate,this),game.dispatcher.off("destroy_guide",this.destroyGuide,this)},setLineLenPercent:function(e){this.ptPencil.progress=game.gameMan.getCurrentPencilProgress()/100,this.lbPencilPercent.string=game.gameMan.getCurrentPencilProgress()+"%";for(var t=game.gameMan.getCurrentStar(),i=0;i<this.stars.length;++i)this.stars[i].active=i+1<=t},destroyGuide:function(){this.stopProgressAnim()},onLineLenUpdate:function(e){this.setLineLenPercent(e.lineLen)},onRefreshClicked:function(){game.audioHelper.playBtnSound(),cc.log("onRefreshClicked refresh_level"),game.dispatcher.emit("refresh_level")},onPauseClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.pause(),game.popupMan.popupPause(function(){game.utils.loadSceneWithAnim("MenuScene"),game.adsHelper.showBackHomeAds()},function(){game.gameMan.resume()},function(){game.dispatcher.emit("refresh_level")})},onHintClicked:function(){game.audioHelper.playBtnSound(),this.stopHintAnim(),game.storeMan.checkAndShowRewardVideo("hints",function(e){e&&(game.analyseManager.trackEvent("watch_ads_hint",{level:game.gameMan.level}),game.gameMan.showHintLine())})},onHelpFriend:function(){game.audioHelper.playBtnSound(),game.shareManager.shareWithSystem(game.utils.sprintf(game.i18n.t("ask_friends_tips"),game.config.getShortPlatformDownloadUrl()))},onSkipClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.skipLevel()}});t.exports=a,cc._RF.pop()},{LanguageData:"LanguageData"}],Utils:[function(e,t,i){"use strict";cc._RF.push(t,"347a25c7g9HNIy+eDgmlGAx","Utils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={randomNextInt:function(e){return Math.floor(Math.random()*e)},randomNextNumber:function(e){return Math.random()*e},rangeNextInt:function(e,t){return e+this.randomNextInt(t-e+1)},rangeNextNumber:function(e,t){return e+this.randomNextNumber(t-e)},randomNextNumberInRange:function(e,t){return Math.random()*(t-e)+e},randomNextIntInRange:function(e,t){return Math.floor(Math.random()*(t-e)+e)},sprintf:function(){for(var e,t,i,a,o,s=0,r=arguments[s++],c=[];r;){if(t=/^[^\x25]+/.exec(r))c.push(t[0]);else if(t=/^\x25{2}/.exec(r))c.push("%");else{if(!(t=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"Huh ?!";if(null==(e=arguments[t[1]||s++])||void 0==e)throw"Too few arguments.";if(/[^s]/.test(t[7])&&"number"!=typeof e)throw"Expecting number but found "+(void 0===e?"undefined":n(e));switch(t[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e);break;case"e":e=t[6]?e.toExponential(t[6]):e.toExponential();break;case"f":e=t[6]?parseFloat(e).toFixed(t[6]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&t[6]?e.substring(0,t[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(t[7])&&t[2]&&e>=0?"+"+e:e,a=t[3]?"0"==t[3]?"0":t[3].charAt(1):" ",o=t[5]-String(e).length-"".length,i=t[5]?str_repeat(a,o):"",c.push(""+(t[4]?e+i:i+e))}r=r.substring(t[0].length)}return c.join("")},loadJson:function(e){var t=cc.loader.getRes(e);return t?t.json:null},isFileExist:function(e){return!!cc.loader.getRes(e)},scaleCCLabelBMFont:function(e,t){if(e.width>t){var i=t/e.width;e.scaleX=e.scaleY=i}else e.scaleX=e.scaleY=1},scaleCCLabelBMFontWithMaxScale:function(e,t,i){e.width*e.scaleX>t&&(e.scaleX=e.scaleY=t/e.width),e.scaleX>i&&(e.scaleX=e.scaleY=i)},walkNode:function(e,t){if(e){var i=t(e);if(i)for(var n in e.children)if(!(i=this.walkNode(e.children[n],t)))break;return i}return!0},getFormatTime:function(e){e=Math.floor(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t<=0&&i<=0?n:t<=0?i+":"+n:t+":"+i+":"+n},seekNodeByTag:function(e,t){if(null===e)return null;if(e.getTag()===t)return e;var i=e.getChildren();if(i&&i.length>0)for(var n=i.length,a=0;a<n;a++){var o=i[a];if(null!==o){var s=this.seekNodeByTag(o,t);if(null!==s)return s}}return null},drawDashPoints:function(e,t,i,n,a){for(var o,s,r,c,l,d,h=e[0].x,u=e[0].y,p=0,g=0,m=i.length,f=0,_=n,y=n+i[f],v=0,C=e.length;v<C;v++){if(l=e[v].x,d=e[v].y,0!==v)for(o=l-h,s=d-u,g=Math.sqrt(o*o+s*s),r||(r=h),c||(c=u);g>0;)if(p+g<_)p+=g,g=0,r=l,c=d;else{if(p<=_){if(r+=(S=(b=_-p)/g)*(l-r),c+=S*(d-c),a){var S=cc.AffineTransform.transformVec2(r,c,a);t.moveTo(S.x,S.y)}else t.moveTo(r,c);g-=b,p+=b}if(p+g<y){if(r=l,c=d,a){S=cc.AffineTransform.transformVec2(r,c,a);t.lineTo(S.x,S.y)}else t.lineTo(r,c);p+=g,g=0}else if(p+g>=y){var b;if(r+=(S=(b=y-p)/g)*(l-r),c+=S*(d-c),a){S=cc.AffineTransform.transformVec2(r,c,a);t.lineTo(S.x,S.y)}else t.lineTo(r,c);g-=b,p+=b,y=(_=y+i[++f%m])+i[++f%m]}}h=l,u=d}},showEnterSceneAnim:function(){var e=cc.instantiate(game.resMan.blackPrefab);cc.director.getScene().addChild(e,1e3),e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height,e.opacity=180,e.runAction(cc.fadeOut(.2))},showExitSceneAnim:function(e){var t=cc.instantiate(game.resMan.blackPrefab);cc.director.getScene().addChild(t,1e3),t.opacity=0,t.x=.5*cc.winSize.width,t.y=.5*cc.winSize.height,t.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(e,this)))},loadSceneWithAnim:function(e,t){cc.director.loadScene(e)},vibrateLong:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateLong()},vibrateShort:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateShort()},getVersion:function(){return cc.sys.isNative?jsb_dp.oneSdkBridge.getVersion():"1.0.0"},getDayByTs:function(e){return Math.floor(e/864e5)},setSpriteFrame:function(e,t,i){var n=cc.loader.getRes(t,cc.SpriteAtlas);if(n){var a=n.getSpriteFrame(i);a&&(e.getComponent(cc.Sprite).spriteFrame=a)}},getSpriteFrame:function(e,t){var i=cc.loader.getRes(e,cc.SpriteAtlas);return i?i.getSpriteFrame(t):null},isPad:function(){return cc.winSize.height/cc.winSize.width<1.5},createSprite:function(e,t,i){var n=new cc.Node(e).addComponent(cc.Sprite);return game.utils.setSpriteFrame(n,t,i),n},createLabel:function(e,t){var i=new cc.Node(e),n=i.addComponent(cc.Label);return n.font=cc.loader.getRes("font/fa_zhun_yuan_50",cc.BitmapFont),n.fontSize=50,n.lineHeight=50,n.isSystemFontUsed=!1,i.scale=t,n},getRectRadius:function(e){return Math.sqrt(e.width*e.width+e.height*e.height)/2},getCollideInfo:function(e,t,i,n){var a=cc.v2(0,0);e.x<i.x?a.x=i.x:e.x>i.x+i.width?a.x=i.x+i.width:a.x=e.x,e.y<i.y?a.y=i.y:e.y>i.y+i.height?a.y=i.y+i.height:a.y=e.y;var o=Math.sqrt(Math.pow(a.x-e.x,2)+Math.pow(a.y-e.y,2));if(!n)return!(o>t);if(o>t)return null;var s=e.sub(i.center);return s.x/=i.width,s.y/=i.height,Math.abs(s.x)>Math.abs(s.y)?s.y=0:s.x=0,{normal:s.normalizeSelf()}},getDistance:function(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))},arrayContain:function(e,t){if(e&&e.length>0)for(var i=0;i<e.length;++i)if(e[i]==t)return!0;return!1},loadNodeFromCCB:function(e,t,i,n,o){cc.log("load node from ccb:"+e),a.setTrackValue("ccbName",e),cc.isUndefined(i)||cc.isUndefined(n)||cc.BuilderReader.registerController(i,n);var s=cc.BuilderReader.load(e,t);return i&&n&&!o&&(cc.BuilderReader._controllerClassCache[i]=void 0),s.retain(),cc.log("load node retain:"+e),this.executeInNextFrame(function(){cc.log("load node release:"+e),s.release()}),s},registerController:function(e,t){cc.BuilderReader.registerController(e,t)},unRegisterController:function(e){cc.BuilderReader._controllerClassCache[e]=void 0},inherits:function(e,t){var i=Object.create(t.prototype);i.constructor=e,e.prototype=i},loadPlist:function(e){return cc.sys.isNative?jsb.fileUtils.isFileExist(e)?cc.plistParser.parse(jsb.fileUtils.getStringFromFile(e)):null:cc.loader.getRes(e)},getScreenShot:function(e){cc.log("fileName:"+e);var t=new cc.RenderTexture(cc.winSize.width,cc.winSize.height,cc.Texture2D.PIXEL_FORMAT_RGBA8888);t.setPosition(cc.v2(cc.winSize.width/2,cc.winSize.height/2)),t.begin(),cc.director.getRunningScene().visit(),t.end();var i=jsb.fileUtils.getWritablePath();return 0==i.length?"":t.saveToFile(e,cc.IMAGE_FORMAT_JPEG)?(i+=e,cc.log("save image:"+i),i):""},getFormatRotation:function(e){return(e%360+360)%360},doClipping:function(e,t){if(e&&t){var i=t.getParent();t.retain(),t.removeFromParent(!1),e.removeFromParent(!1),e.visible=!0;var n=new cc.ClippingNode(e);n.alphaThreshold=1,n.addChild(t),t.release(),i.addChild(n)}},isPixelCollision:function(e,t){return cc.sys.isNative?jsb_dp.oneSdkBridge.isPixelCollision(e,t):cc.rectIntersectsRect(e.getBoundingBox(),t.getBoundingBox())},scaleSprite:function(e,t){e.scale=t/e.width},isNodeButton:function(e){return e instanceof cc.ControlButton},isNodeMenuItem:function(e){return e instanceof cc.MenuItem||e instanceof cc.MenuItemImage},isLabelBMFont:function(e){return e instanceof cc.LabelBMFont||e instanceof cc.Label},loadRemoteImg:function(e,t,i){cc.sys.isNative?cc.loader.loadImg(e,{isCrossOrigin:!0},function(e,n){t(e,n,i)}):cc.loader.loadImg(e,{isCrossOrigin:!0},function(e,n){var a=new cc.Texture2D;a.initWithElement(n),a.handleLoadedTexture(),t(e,a,i)})},playCCBAnimation:function(e,t){var i,n=e.animationManager;return-1!=(i=t?cc.sys.isNative?n.getSequenceId(t):n._getSequenceId(t):n.getAutoPlaySequenceId())?(t?n.runAnimationsForSequenceNamed(t):n.runAnimationsForSequenceIdTweenDuration(i,0),!0):(cc.log("animation "+t+" not exists!"),!1)},randomScaleAnim:function(e,t,i){i=this.randomNextNumberInRange(.8*i,1.2*i);var n=this.randomNextNumber(i/2),a=.3*(i-n)*2,o=.1*(i-n)*2,s=.1*(i-n)*2;e.stopAllActions(),e.setScale(0),e.runAction(cc.sequence(cc.delayTime(n),cc.scaleTo(a,1.1*t).easing(cc.easeInOut(2)),cc.scaleTo(o,.9*t).easing(cc.easeInOut(2)),cc.scaleTo(s,1*t).easing(cc.easeInOut(2))))},getLongFormatTime:function(e){return Math.floor(e/3600)+":"+Math.floor(e%3600/60)+":"+e%216e3},autoRelease:function(e){a.executeInNextFrame(function(){e.release()})},executeInNextFrame:function(e){setTimeout(function(){e&&e()},0)},isIOS:function(){return cc.sys.os===cc.sys.OS_IOS},isSelfGame:function(){return cc.sys.os!==cc.sys.OS_IOS?this.isAndroidAndSelfGame():cc.sys.language===cc.sys.LANGUAGE_CHINESE},isAndroidAndSelfGame:function(){return!1},getDashPointsNode:function(e,t,i,n,a){for(var o,s,r,c,l,d,h=t[0].x,u=t[0].y,p=0,g=0,m=i.length,f=0,_=n,y=n+i[f],v=0,C=t.length;v<C;v++){if(l=t[v].x,d=t[v].y,0!==v)for(o=l-h,s=d-u,g=Math.sqrt(o*o+s*s),r||(r=h),c||(c=u);g>0;)if(p+g<_)p+=g,g=0,r=l,c=d;else{if(p<=_)a(r+=(b=(S=_-p)/g)*(l-r),c+=b*(d-c)),g-=S,p+=S;if(p+g<y)a(r=l,c=d),p+=g,g=0;else if(p+g>=y){var S,b;a(r+=(b=(S=y-p)/g)*(l-r),c+=b*(d-c)),g-=S,p+=S,y=(_=y+i[++f%m])+i[++f%m]}}h=l,u=d}return e},isNotchScreen:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isNotchScreen()},isAndroidNotchScreen:function(){return!(!cc.sys.isNative||cc.sys.os!==cc.sys.OS_ANDROID)&&jsb_dp.oneSdkBridge.isNotchScreen()},isIOSNotchScreen:function(){return!(!cc.sys.isNative||cc.sys.os!==cc.sys.OS_IOS)&&jsb_dp.oneSdkBridge.isNotchScreen()},loadIterator:function(e,t){var i=this,n=e.shift();n?a.executeInNextFrame(function(){n(),i.loadIterator(e,t)}):t&&t()},getTotalMemory:function(){return cc.sys.isNative?(this.totalMemory||(this.totalMemory=jsb_dp.oneSdkBridge.getTotalMemory()),this.totalMemory):0},isLowAndroid:function(){return cc.sys.os===cc.sys.OS_ANDROID&&(cc.log("memory: ",this.getTotalMemory()),this.getTotalMemory()<=1536)},isLowIOS:function(){return cc.sys.os===cc.sys.OS_IOS&&(cc.log("memory: ",this.getTotalMemory()),this.getTotalMemory()<=1024)},setTrackValue:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.setTrackValue(e,t)},getReverseString:function(e){return e.split("").reverse().join("")},getCurrentFPS:function(){return game.utils.isLowAndroid()?game.config.lowAndroidFPS:60},createProgressTimer:function(e,t,i){var n=e.getPosition(),a=e.getAnchorPoint(),o=e.getScaleX(),s=e.getScaleY(),r=e.getParent();e.retain(),e.removeFromParent();var c=new cc.ProgressTimer(e);return e.release(),i?(c.setType(cc.ProgressTimer.TYPE_RADIAL),c.setAnchorPoint(cc.v2(.5,.5))):(c.setType(cc.ProgressTimer.TYPE_BAR),t?(c.setBarChangeRate(cc.v2(1,0)),c.setMidpoint(cc.v2(0,.5))):(c.setBarChangeRate(cc.v2(0,1)),c.setMidpoint(cc.v2(.5,0)))),r.addChild(c),c.setPosition(n),c.setAnchorPoint(a),c.setScaleX(o),c.setScaleY(s),c}};t.exports=a,cc._RF.pop()},{}],WheelComponent:[function(e,t,i){"use strict";cc._RF.push(t,"27ee7LGKBtOKrr4UN+Jh6gx","WheelComponent");var n=e("../enum/WheelType"),a=e("../common/wheel/Wheel"),o=e("../enum/ItemType");cc.Class({extends:cc.Component,properties:{WHEEL_TIME:5,WHEEL_ICON_TAG:100,WHEEL_NUM_TAG:200,WHEEL_COUNT:6,WHEEL_ITEM_ANGLE:60,ndWheel:cc.Node,btnLeft:cc.Button,btnRight:cc.Button,ndDailyWheel:cc.Node,ndBox:cc.Node,btnSpinAgain:cc.Button,btnClose:cc.Button,lblRightTips:cc.Label,wheel:null,wheelIcons:[cc.Sprite],wheelNums:[cc.Label],wheelList:null,updateTime:0},onLoad:function(){this.updateTime=Date.now()},initWith:function(e){switch(this.wheelType=e,this.ndBox.active=!1,this.ndDailyWheel.active=!1,e){case n.DailyBonus:this.ndDailyWheel.active=!0,this.wheelList=game.configMan.getWheelList();break;case n.Box:this.ndBox.active=!0,this.wheelList=game.configMan.getBoxWheelList()}this.initWheelUI(),this.updateWheelItems(),this.wheel=new a(this.ndWheel,60),e===n.Box&&this.startWheel()},initWheelUI:function(){for(var e=this.wheelList,t=0;t<e.length;++t){var i=this.wheelIcons[t],n=this.wheelNums[t];game.utils.setSpriteFrame(i,"atlas/game_batch",e[t].image),n.string="x"+e[t].count,i.scale*=e[t].scale}},isShowRewardedVideo:function(){return game.adsManager.isRewardVideoReady()},update:function(){Date.now()-this.updateTime>1e3&&(this.updateTime=Date.now(),this.updateWheelItems())},isFreeWheel:function(){return game.gameMan.getWheelLeftTime()<=0},getLeftHour:function(){var e=game.gameMan.getWheelLeftTime();return Math.ceil(e/36e5)},updateWheelItems:function(){var e=this.isFreeWheel();this.btnRight.interactable=e,this.lblRightTips.string=e?"":game.utils.sprintf(_("wheel_free_tips"),this.getLeftHour())},getRandomWheel:function(){var e=this.wheelList,t=game.utils.randomNextInt(100);console.log("randomNum:"+t);for(var i=0,n=0;n<e.length;++n){if(i+e[n].probability>t)return e[n];i+=e[n].probability}return null},startWheel:function(){this.wheelConfig=this.getRandomWheel();var e=this.wheelConfig.id;console.log("random wheel id:"+e),this.wheel.rotate(this.WHEEL_TIME,1080+(e-1)*this.WHEEL_ITEM_ANGLE,this.WHEEL_ITEM_ANGLE,this.onRotateEnd.bind(this)),this.btnClose.interactable=!1,this.wheelInterval=setInterval(function(){game.audioPlayer.playEffectByKey("audio/wheel_pin")},100),game.audioPlayer.playEffectByKey("audio/wheel_bg")},onRotateEnd:function(){clearInterval(this.wheelInterval),game.audioPlayer.stopEffectByKey("audio/wheel_bg"),game.audioPlayer.playEffectByKey("audio/wheel_stop"),setTimeout(this.onShowReward.bind(this),1e3)},onShowReward:function(){var e=this.wheelConfig;game.storeMan.popupDoubleItemDlg(o.create(e.type,e.count),"wheel",function(){this.btnClose.interactable=!0,this.updateWheelItems()}.bind(this))},leftClicked:function(){game.audioHelper.playBtnSound();var e=this;game.storeMan.checkAndShowRewardVideo("wheel_video",function(t){t&&e.startWheel(),e.updateWheelItems()})},spinAgainClicked:function(){game.audioHelper.playBtnSound();var e=this;game.storeMan.checkAndShowRewardVideo("spin_again",function(t){t&&e.startWheel(),e.updateWheelItems()})},rightClicked:function(){game.audioHelper.playBtnSound(),game.playerMan.setLastWheelTime(Date.now()),this.updateWheelItems(),this.btnRight.interactable=!1,this.startWheel()},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],WheelConfig:[function(e,t,i){"use strict";cc._RF.push(t,"2e341DwH5dBSJprsPTNw5tC","WheelConfig");var n=function(){this.id=0,this.type=0,this.count=0,this.probability=0,this.image="",this.scale=1};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.probability=e.probability,this.image=e.image,this.scale=e.scale||1},t.exports=n,cc._RF.pop()},{}],WheelType:[function(e,t,i){"use strict";cc._RF.push(t,"4369c2wqxBEx4Up1nzedf/Y","WheelType");t.exports={DailyBonus:0,Box:1},cc._RF.pop()},{}],Wheel:[function(e,t,i){"use strict";cc._RF.push(t,"986c821ykxE9LY/tLgwXKCg","Wheel");var n=function(e,t,i,n,a){return{x:t.x*(1-e)*(1-e)*(1-e)+3*i.x*e*(1-e)*(1-e)+3*n.x*e*e*(1-e)+a.x*e*e*e,y:t.y*(1-e)*(1-e)*(1-e)+3*i.y*e*(1-e)*(1-e)+3*n.y*e*e*(1-e)+a.y*e*e*e}},a=cc.Class({extends:cc.Component,properties:{target:null,bCurve:null,fps:0,nRound:1,frameCount:0,elapsedTime:0,totalRotationTime:0,startRotation:0,movement:0,easyFunction:null,endCallback:null,targetRotation:0,wheelItemAngle:0,lastTime:0,lastRotation:0,speed:0,_lotteryReseting:!1,_isHighRotating:!1,_startUpdate:!1},ctor:function(e,t){this.bCurve=[.42,-.08,.58,1.1],this.target=e,this.fps=t||60},rotate:function(e,t,i,n){this._startUpdate||(this.targetRotation=t,this.frameCount=0,this.totalRotationTime=e,this.startRotation=this.target.rotation%360,this.movement=t-this.startRotation,this.wheelItemAngle=i,this.lastTime=Date.now(),this.lastRotation=0,this._isHighRotating=!1,this._lotteryReseting=!1,this.easyFunction=this.defaultEasyFunction,this.endCallback=n,this.scheduleUpdate(),this._startUpdate=!0)},scheduleUpdate:function(){this.elapsedTime=0,cc.director.getScheduler().schedule(this.update,this,1/60)},unscheduleUpdate:function(){cc.director.getScheduler().unschedule(this.update,this),this.elapsedTime=0},update:function(e){this._startUpdate&&this.moveByFrame(e)},moveByFrame:function(e){this.elapsedTime+=e;var t=this.easyFunction(this.elapsedTime/this.totalRotationTime);this.target.rotation=t*this.movement+this.startRotation,this.targetRotation<=this.target.rotation&&(this.target.rotation=this.targetRotation,this.unscheduleUpdate(),this._startUpdate=!1,this.endCallback&&this.endCallback()),this.speed=(this.target.rotation-this.lastRotation)/(Date.now()-this.lastTime)*1e3,this.lastTime=Date.now(),this.lastRotation=this.target.rotation},defaultEasyFunction:function(e){var t=this.bCurve;return n(e,{x:0,y:0},{x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:1,y:1}).y},getTargetRotation:function(){return this.targetRotation},getSpeed:function(){return this.speed}});t.exports=a,cc._RF.pop()},{}],en:[function(e,t,i){"use strict";cc._RF.push(t,"94275ei+QJAdrboXiRZIxlj","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={rate_info:"Rate us and\nLeave your suggestions^-^",rate_confirm:"Rate",rate_cancel:"Next",purchase_boost_success:"Purchase Successfully!\nBoosts Got",purchase_no_ad_success:"Purchase Successfully!\nYou have removed all ads",reward_video_boosts:"You got reward boosts.",purchase_fail:"Purchase Failed!\nPlease try again.",buy_title:"Buy",cancel_title:"Cancel",ask_friends_tips:"Come and play with me. \ndownload url:%s",noti_tips1:"Balls VS Numbers is waiting for you^^",noti_tips2:"Play Balls VS Numbers and relax yourself^^",noti_tips3:"Feel bored? let's play Balls VS Numbers^^",noti_tips4:"Let's play Balls VS Numbers for fun^^",noti_tips5:"Balls VS Numbers will die without you^^",noti_item:"Play",notice_title:"Notice",confirm_info:"OK",watch_title:"Watch",no_title:"No",store_title:"Store",free_coins_title:"Free",feed_back_title:"Feedback",feed_back_content:"My problem/suggestion is:\n\n\n",help_content:"Slide from left to right to rebound",all_completed:"Bravo!\nYou have cleared all levels.\n Stay tuned to new challenges!",purchase_no_ad_tips:"Purchase once and remove\nall ads forever!",restore_title:"Restore",removed_all_ads_tips:"You have removed\nall ads forever!",remove_ads_title:"Remove Ads",watch_ads_relife:"Failed, watch rewarded\nvideo to continue the game?",relife_yes:"Watch",relife_no:"No",wheel_free_tips:"Free spin after %d hours",wheel_reward_video_tips:"Watch ads to spin",wheel_share_tips:"Share and spin",wheel_free_btn:"Free Spin",wheel_reward_video_btn:"Watch Ads",wheel_share_btn:"Share with friends",watch_ads_tips:"Watch video, get boosts.",watch_ads_title:"Free Boosts",completed_title:"Completed",selected_title:"Selected",select_title:"Select",double_rewards:"Double Rewards",uncompleted_title:"Uncompleted",skin_title:"Skins",watch_ads_get_boosts:"Free Diamonds",watch_ads_to_relife:"Watch ads to revive",lucky_wheel_title:"Lucky Spin",level_count_title:"Play %d levels",watch_ad_count_title:"Watch ads %d",watch_reward_ad_count_title:"Rewarded ads %d",skin_gift_title:"3 days in a row",day_title:"%d Day",daily_bonus_title:"Daily Bonus",skip_level_title:"Skip This Level",next_day_tips:"Special gifts will\nbe received tomorrow.",star_3_tips:"Try break bricks more\nquickly to get 3 stars?",retry_title:"Retry",skip_title:"Skip",skin_claimed:"You Won New skin",claim_title:"Claim",double_title:"2x Claim",level_title:"Level %d",share_tips:"Can you beat me? I had passed %d levels in Balls VS Numbers. download:%s",special_offer_title:"Special Offer",more_title:"%s%%\nMore",skin_purchase_title:"Special Offer",app_name:"Balls VS Numbers",exit_game_confirm:"Exit Game?",yes_title:"Yes",task_title:"Tasks",claimed_title:"Claimed",reward_video_diamonds:"You got reward diamonds.",diamonds_title:"Diamonds",hot_title:"Hot",diamond_not_enough:"Insufficient diamonds!",lost_title:"You Lost",wheel_is_ready:"Your wheel has been ready! Come back to play!",daily_bonus_is_ready:"Your daily bonus has been ready! Come back to play!",purchase_success:"Purchase Successfully!",start_title:"Play",normal_level_title:"Levels",hard_mode_title:"Hard Levels",setting_title:"Setting",rank_title:"Rank",facebook_fanpage_title:"Fanpage",contact_us_title:"Contact Us",audio_on_title:"Audio On",audio_off_title:"Audio Off",share_title:"Share",version_title:"Version:%s",revive_info:"Continue Playing?",aim_item_title:"Aim Item",try_aim_item_title:"Try Aim Item",reward_video_skin:"Free Skin",watch_ads_get_skin_title:"Get skin by watch ad",cost_diamonds_get_skin_title:"Get skin by cost diamonds",vibrate_on_title:"Vibrate On",vibrate_off_title:"Vibrate Off",owned_title:"Owned",reward_video_open_box:"Open Box",reward_video_get_daily_diamonds:"Daily Free Diamonds",spin_again_title:"Spin Again",collect_title:"Collect",collect_3_star_tips:"Collect all 3 stars\nto get more diamonds.",aim_help:"Move left and right to aim and shoot the ball",multi_item_key:"Split Ball, all balls x3",expand_item_key:"Slider Widening, increase\nthe bottom bounce slider",explode_key:"Earthquake, destroying a certain\namount of each brick",bottom_obstacle_item_key:"Steel bricks, adding 5 steel\nbricks at the bottom",help_title:"Help",reward_tips:"You got reward",relife_title:"Revive",levels_title:"Levels"},cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,a){"function"==typeof define&&define.amd?define([],function(){return a(e)}):"object"==(void 0===i?"undefined":n(i))?t.exports=a(e):e.Polyglot=a(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||l}function i(e){var t,i,n,a={};for(t in e)if(e.hasOwnProperty(t))for(n in i=e[t])a[i[n]]=t;return a}function a(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,i){var n,o;return null!=i&&e?n=a((o=e.split(h))[r(t,i)]||o[0]):n=e,n}function s(e){var t=i(p);return t[e]||t.en}function r(e,t){return u[s(e)](t)}function c(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function l(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function d(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var a in e)e.hasOwnProperty(a)&&(i=e[a],t&&(a=t+"."+a),"object"==(void 0===i?"undefined":n(i))?this.extend(i,a):this.phrases[a]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof i&&(t=d(t),n=c(n=o(i,this.currentLocale,t.smart_count),t)),n},t.prototype.has=function(e){return e in this.phrases};var h="||||",u={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],tableView:[function(e,t,i){"use strict";cc._RF.push(t,"afd05VTp31MwbLm7515Hea3","tableView");var n=cc.Enum({Horizontal:0,Vertical:1}),a=cc.Enum({None:0,Up:1,Down:2,Left:3,Rigth:4}),o=cc.Enum({LEFT_TO_RIGHT__TOP_TO_BOTTOM:0,TOP_TO_BOTTOM__LEFT_TO_RIGHT:1}),s=cc.Enum({Scroll:0,Flip:1});function r(e,t){return cc.v2(e.x-t.x,e.y-t.y)}function c(e,t){if(e.length<=1)return e;for(var i=Math.floor(e.length/2),n=e[i],a=[],o=[],s=0;s<e.length;s++)s!==i&&(t?t(e[s],n)?a.push(e[s]):o.push(e[s]):e[s]<=n?a.push(e[s]):o.push(e[s]));return c(a,t).concat([n],c(o,t))}function l(e,t){for(var i=0,n=e.children,a=n.length;i<a;i++)if(n[i]._cellIndex===t)return n[i];return null}var d=cc.Class({extends:cc.ScrollView,editor:!1,properties:{_data:null,_minCellIndex:0,_maxCellIndex:0,_paramCount:0,_count:0,_cellCount:0,_showCellCount:0,_groupCellCount:null,_scrollDirection:a.None,_cellPool:null,_aView:null,_page:0,_pageTotal:0,cell:{default:null,type:cc.Prefab,notify:function(e){}},ScrollModel:{default:0,type:n,notify:function(e){this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1,this.verticalScrollBar=null):(this.vertical=!0,this.horizontal=!1,this.horizontalScrollBar=null)},tooltip:"\u6a2a\u5411\u7eb5\u5411\u6ed1\u52a8"},ViewType:{default:0,type:s,notify:function(e){this.ViewType===s.Flip?this.inertia=!1:this.inertia=!0},tooltip:"\u4e3aScroll\u65f6,\u4e0d\u505a\u89e3\u91ca\n\u4e3aFlipw\u65f6\uff0c\u5728Scroll\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u7ffb\u9875\u7684\u884c\u4e3a"},isFill:{default:!1,tooltip:"\u5f53\u8282\u70b9\u4e0d\u80fd\u94fa\u6ee1\u4e00\u9875\u65f6\uff0c\u9009\u62e9isFill\u4e3atrue\u4f1a\u586b\u5145\u8282\u70b9\u94fa\u6ee1\u6574\u4e2aview"},Direction:{default:0,type:o,tooltip:"\u89c4\u5b9acell\u7684\u6392\u5217\u65b9\u5411"},pageChangeEvents:{default:[],type:cc.Component.EventHandler,tooltip:"\u4ec5\u5f53ViewType\u4e3apageView\u65f6\u6709\u6548\uff0c\u521d\u59cb\u5316\u6216\u7ffb\u9875\u65f6\u89e6\u53d1\u56de\u8c03\uff0c\u5411\u56de\u8c03\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u53c2\u6570\u4e00\u4e3a\u5f53\u524d\u5904\u4e8e\u54ea\u4e00\u9875\uff0c\u53c2\u6570\u4e8c\u4e3a\u4e00\u5171\u591a\u5c11\u9875"}},statics:{_cellPoolCache:{}},onLoad:function(){var e=this;d._tableView.push(this);var t=this.node.destroy;this.node.destroy=function(){e.clear(),t.call(e.node)};var i=this.node._onPreDestroy;this.node._onPreDestroy=function(){e.clear(),i.call(e.node)}},onDestroy:function(){for(var e in d._tableView)if(d._tableView[e]===this)return void d._tableView.splice(e)},_initCell:function(e,t){if(this.ScrollModel===n.Horizontal&&this.Direction===o.TOP_TO_BOTTOM__LEFT_TO_RIGHT||this.ScrollModel===n.Vertical&&this.Direction===o.LEFT_TO_RIGHT__TOP_TO_BOTTOM)for(var i=e._cellIndex*e.childrenCount,a=0;a<e.childrenCount;++a){(c=e.children[a].getComponent("viewCell"))&&(c._cellInit_(this),c.init(i+a,this._data,t,[e._cellIndex,a]))}else if(this.ViewType===s.Flip){var r=(i=Math.floor(e._cellIndex/this._showCellCount))*this._showCellCount*e.childrenCount;for(a=0;a<e.childrenCount;++a){(c=e.children[a].getComponent("viewCell"))&&(c._cellInit_(this),c.init(this._showCellCount*a+e._cellIndex%this._showCellCount+r,this._data,t,[a+i*e.childrenCount,a]))}}else for(a=0;a<e.childrenCount;++a){var c;(c=e.children[a].getComponent("viewCell"))&&(c._cellInit_(this),c.init(a*this._count+e._cellIndex,this._data,t,[a,a]))}},_setCellPosition:function(e,t){this.ScrollModel===n.Horizontal?(e.x=0===t?-this.content.width*this.content.anchorX+e.width*e.anchorX:l(this.content,t-1).x+e.width,e.y=(e.anchorY-this.content.anchorY)*e.height):(e.y=0===t?this.content.height*(1-this.content.anchorY)-e.height*(1-e.anchorY):l(this.content,t-1).y-e.height,e.x=(e.anchorX-this.content.anchorX)*e.width)},_addCell:function(e){var t=this._getCell();this._setCellAttr(t,e),this._setCellPosition(t,e),t.parent=this.content,this._initCell(t)},_setCellAttr:function(e,t){e.setSiblingIndex(t>=e._cellIndex?this._cellCount:0),e._cellIndex=t},_addCellsToView:function(){for(var e=0;e<=this._maxCellIndex;++e)this._addCell(e)},_getCell:function(){if(0===this._cellPool.size()){var e=cc.instantiate(this.cell),t=new cc.Node;t.anchorX=.5,t.anchorY=.5;var i=0;if(this.ScrollModel===n.Horizontal){t.width=e.width;var a=Math.floor(this.content.height/e.height);t.height=this.content.height;for(var o=0;o<a;++o)e||(e=cc.instantiate(this.cell)),e.x=(e.anchorX-.5)*e.width,e.y=t.height/2-e.height*(1-e.anchorY)-i,i+=e.height,e.parent=t,e=null}else{t.height=e.height;a=Math.floor(this.content.width/e.width);t.width=this.content.width;for(o=0;o<a;++o)e||(e=cc.instantiate(this.cell)),e.y=(e.anchorY-.5)*e.height,e.x=-t.width/2+e.width*e.anchorX+i,i+=e.width,e.parent=t,e=null}this._cellPool.put(t)}return e=this._cellPool.get()},_getCellSize:function(){var e=this._getCell(),t=e.getContentSize();return this._cellPool.put(e),t},_getGroupCellCount:function(){var e=this._getCell(),t=e.childrenCount;return this._cellPool.put(e),t},clear:function(){for(var e=this.content.childrenCount-1;e>=0;--e)this._cellPool.put(this.content.children[e]);this._cellCount=0,this._showCellCount=0},reload:function(e){void 0!==e&&(this._data=e);for(var t=this.content.childrenCount-1;t>=0;--t)this._initCell(this.content.children[t],!0)},_getCellPoolCacheName:function(){return this.ScrollModel===n.Horizontal?this.cell.name+"h"+this.content.height:this.cell.name+"w"+this.content.width},_initTableView:function(){this._cellPool&&this.clear();var e=this._getCellPoolCacheName();d._cellPoolCache[e]||(d._cellPoolCache[e]=new cc.NodePool("viewCell")),this._cellPool=d._cellPoolCache[e],this._cellSize=this._getCellSize(),this._groupCellCount=this._getGroupCellCount(),this._count=Math.ceil(this._paramCount/this._groupCellCount),this.ScrollModel===n.Horizontal?(this._aView.width=this.node.width,this._aView.x=(this._aView.anchorX-this.node.anchorX)*this._aView.width,this._cellCount=Math.ceil(this._aView.width/this._cellSize.width)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._aView.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._aView.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.width=this._count*this._cellSize.width,this.stopAutoScroll(),this.scrollToLeft()):(this._aView.height=this.node.height,this._aView.y=(this._aView.anchorY-this.node.anchorY)*this._aView.height,this._cellCount=Math.ceil(this._aView.height/this._cellSize.height)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._aView.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._aView.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.height=this._count*this._cellSize.height,this.stopAutoScroll(),this.scrollToTop()),this._changePageNum(1-this._page),this._lastOffset=this.getScrollOffset(),this._minCellIndex=0,this._maxCellIndex=this._cellCount-1,this._addCellsToView()},initTableView:function(e,t){this._paramCount=e,this._data=t,this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1):(this.vertical=!0,this.horizontal=!1);var i=this.content.parent;this._aView=i,this.verticalScrollBar&&this.verticalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.horizontalScrollBar&&this.horizontalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),this._initTableView()},_onTouchBegan:function(e,t){this._super(e,t),this._touchstart(e)},_onTouchMoved:function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(e,t)){var i=e.touch;if(this.content&&this._handleMoveLogic(i),this.cancelInnerEvents){if(r(i.getLocation(),i.getStartLocation()).mag()>7&&!this._touchMoved&&e.target!==this.node){var n=new cc.Event.EventTouch(e.getTouches(),e.bubbles);n.type=cc.Node.EventType.TOUCH_CANCEL,n.touch=e.touch,n.simulate=!0,e.target.emit(cc.Node.EventType.TOUCH_CANCEL,n),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(e),this._touchmove(e)}}},_onTouchEnded:function(e,t){this._super(e,t),this._touchend(e)},_onTouchCancelled:function(e,t){this._super(e,t),this._touchend(e)},stopAutoScroll:function(){this._scrollDirection=a.None,this._super()},scrollToBottom:function(e,t){this._scrollDirection=a.Up,this._super(e,t)},scrollToTop:function(e,t){this._scrollDirection=a.Down,this._super(e,t)},scrollToLeft:function(e,t){this._scrollDirection=a.Rigth,this._super(e,t)},scrollToRight:function(e,t){this._scrollDirection=a.Left,this._super(e,t)},scrollToOffset:function(e,t,i){var o=r(e,this.getScrollOffset());this.ScrollModel===n.Horizontal?o.x>0?this._scrollDirection=a.Left:o.x<0&&(this._scrollDirection=a.Rigth):o.y>0?this._scrollDirection=a.Up:o.y<0&&(this._scrollDirection=a.Down),this._super(e,t,i)},scrollToOffsetPro:function(e,t,i){for(var n=this.getScrollOffset(),a=r(e,n),o=Math.floor(a.y/this._cellSize.height),s=n,c=0;c<o;++c)s=s.add(cc.p(0,this._cellSize.height)),this.scrollToOffset(s,t,i),this._updateCells();this.scrollToOffset(e,t,i)},addScrollEvent:function(e,t,i){var n=new cc.Component.EventHandler;n.target=e,n.component=t,n.handler=i,this.scrollEvents.push(n)},removeScrollEvent:function(e){for(var t in this.scrollEvents){if(this.scrollEvents[t].target===e)return void this.scrollEvents.splice(t,1)}},clearScrollEvent:function(){this.scrollEvents=[]},addPageEvent:function(e,t,i){var n=new cc.Component.EventHandler;n.target=e,n.component=t,n.handler=i,this.pageChangeEvents.push(n)},removePageEvent:function(e){for(var t=0;t<this.pageChangeEvents.length;t++){if(this.pageChangeEvents[t].target===e)return void this.pageChangeEvents.splice(t,1)}},clearPageEvent:function(){this.pageChangeEvents=[]},scrollToNextPage:function(){this.scrollToPage(this._page+1)},scrollToLastPage:function(){this.scrollToPage(this._page-1)},scrollToPage:function(e){if(this.ViewType===s.Flip&&e!==this._page&&!(e<1||e>this._pageTotal)){var t=.3*Math.abs(e-this._page);this._changePageNum(e-this._page);var i=this._aView.width,n=this._aView.height;i=(this._page-1)*i,n=(this._page-1)*n,this.scrollToOffset({x:i,y:n},t)}},getCells:function(e){var t=[],i=c(this.content.children,function(e,t){return e._cellIndex<t._cellIndex});for(var n in i){var a=i[n];for(var o in a.children)t.push(a.children[o])}e(t)},getData:function(){return this._data},getGroupsRange:function(e){for(var t=[],i=this._minCellIndex;i<=this._maxCellIndex;i++)t.push(i);e(t)},_changePageNum:function(e){this._page+=e,this._page<=0?this._page=1:this._page>this._pageTotal&&(this._page=this._pageTotal);for(var t=0;t<this.pageChangeEvents.length;t++){this.pageChangeEvents[t].emit([this._page,this._pageTotal])}},_touchstart:function(e){this.ScrollModel===n.Horizontal?this.horizontal=!1:this.vertical=!1},_touchmove:function(e){if(this.horizontal===this.vertical){var t=e.getStartLocation(),i=e.getLocation();if(this.ScrollModel===n.Horizontal){if(Math.abs(i.x-t.x)<=7)return}else if(Math.abs(i.y-t.y)<=7)return;this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0}},_touchend:function(e){this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0,this.ViewType===s.Flip&&this._pageTotal>1&&this._pageMove(e)},_pageMove:function(e){var t=this._aView.width,i=this._aView.height;if(this.ViewType===s.Flip){var o=this.getScrollOffset(),r=this.getMaxScrollOffset();if(this.ScrollModel===n.Horizontal){if(o.x>=0||o.x<=-r.x)return;if(i=0,Math.abs(e.getLocation().x-e.getStartLocation().x)>this._aView.width/4)if(this._scrollDirection===a.Left){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Rigth){if(!(this._page>1))return;this._changePageNum(-1)}}else{if(o.y>=r.y||o.y<=0)return;if(t=0,Math.abs(e.getLocation().y-e.getStartLocation().y)>this._aView.height/4)if(this._scrollDirection===a.Up){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Down){if(!(this._page>1))return;this._changePageNum(-1)}}t=(this._page-1)*t,i=(this._page-1)*i,this.scrollToOffset({x:t,y:i},.3)}},_getBoundingBoxToWorld:function(e){var t=e.convertToWorldSpace(cc.v2(0,0));return cc.rect(t.x,t.y,e.width,e.height)},_updateCells:function(){if(this.ScrollModel===n.Horizontal){if(this._scrollDirection===a.Left){if(this._maxCellIndex<this._count-1){var e=this._getBoundingBoxToWorld(this._aView);do{var t=l(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).xMax<=e.xMin))break;t.x=l(this.content,this._maxCellIndex).x+t.width,this._minCellIndex++,this._maxCellIndex++,i.xMax+(this._maxCellIndex-this._minCellIndex+1)*t.width>e.xMin&&(this._setCellAttr(t,this._maxCellIndex),this._initCell(t))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Rigth&&this._minCellIndex>0){e=this._getBoundingBoxToWorld(this._aView);do{t=l(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).xMin>=e.xMax))break;t.x=l(this.content,this._minCellIndex).x-t.width,this._minCellIndex--,this._maxCellIndex--,i.xMin-(this._maxCellIndex-this._minCellIndex+1)*t.width<e.xMax&&(this._setCellAttr(t,this._minCellIndex),this._initCell(t))}while(0!==this._minCellIndex)}}else if(this._scrollDirection===a.Up){if(this._maxCellIndex<this._count-1){e=this._getBoundingBoxToWorld(this._aView);do{t=l(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).yMin>=e.yMax))break;t.y=l(this.content,this._maxCellIndex).y-t.height,this._minCellIndex++,this._maxCellIndex++,i.yMin-(this._maxCellIndex-this._minCellIndex+1)*t.height<e.yMax&&(this._setCellAttr(t,this._maxCellIndex),this._initCell(t))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Down&&this._minCellIndex>0){e=this._getBoundingBoxToWorld(this._aView);do{var i;t=l(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).yMax<=e.yMin))break;t.y=l(this.content,this._minCellIndex).y+t.height,this._minCellIndex--,this._maxCellIndex--,i.yMax+(this._maxCellIndex-this._minCellIndex+1)*t.width>e.yMin&&(this._setCellAttr(t,this._minCellIndex),this._initCell(t))}while(0!==this._minCellIndex)}},_getScrollDirection:function(){var e=this.getScrollOffset(),t=this._lastOffset;this._lastOffset=e,e=r(e,t),this.ScrollModel===n.Horizontal?e.x>0?this._scrollDirection=a.Rigth:e.x<0?this._scrollDirection=a.Left:this._scrollDirection=a.None:e.y<0?this._scrollDirection=a.Down:e.y>0?this._scrollDirection=a.Up:this._scrollDirection=a.None},update:function(e){this._super(e),this._cellCount!==this._showCellCount&&1!==this._pageTotal&&(this._getScrollDirection(),this._updateCells())}});d._tableView=[],d.reload=function(){for(var e in d._tableView)d._tableView[e].reload()},d.clear=function(){for(var e in d._tableView)d._tableView[e].clear()},cc.tableView=t.export=d,cc._RF.pop()},{}],viewCell:[function(e,t,i){"use strict";cc._RF.push(t,"99bb9PxAjREK4zcHrUsxER+","viewCell"),cc.Class({extends:cc.Component,properties:{tableView:{default:null,visible:!1},_isCellInit_:!1,_longClicked_:!1},_cellAddMethodToNode_:function(){this.node.clicked=this.clicked.bind(this)},_cellAddTouch_:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){!0===this.node.active&&0!==this.node.opacity&&(this._longClicked_||(this._longClicked_=!0,this.scheduleOnce(this._longClicked,1.5)))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.clicked(),this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this)},_cellInit_:function(e){this.tableView=e,this._isCellInit_||(this._cellAddMethodToNode_(),this._cellAddTouch_(),this._isCellInit_=!0)},_longClicked:function(){this._longClicked_=!1,this.node.emit(cc.Node.EventType.TOUCH_CANCEL),this.longClicked()},longClicked:function(){},clicked:function(){},init:function(e,t,i,n){}}),cc._RF.pop()},{}],zh:[function(e,t,i){"use strict";cc._RF.push(t,"e3a9fP4OblA/524FpIkhIaw","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={rate_info:"\u73a9\u7684\u5982\u4f55\uff1f\u7ed9\u4e2a\u597d\u8bc4\u5427^_^",rate_confirm:"\u53bb\u8bc4\u4ef7",rate_cancel:"\u4e0b\u6b21\u518d\u8bf4",purchase_boost_success:"\u8d2d\u4e70\u6210\u529f\uff01\n\u4f60\u83b7\u5f97\u4e86",purchase_no_ad_success:"\u4f60\u5df2\u7ecf\u6c38\u4e45\u79fb\u9664\u4e86\u6240\u6709\u5e7f\u544a\uff01",reward_video_boosts:"\u606d\u559c\u4f60,\u83b7\u5f97\u5956\u52b1\u9053\u5177",purchase_fail:"\u8d2d\u4e70\u5931\u8d25\uff01",buy_title:"\u8d2d\u4e70",cancel_title:"\u53d6\u6d88",ask_friends_tips:"\u6765\u4e00\u8d77\u73a9\u7816\u5757\u7c89\u788e\u673a \u4e0b\u8f7d\u5730\u5740\uff1a%s",noti_tips1:"\u5feb\u6765\u7816\u5757\u7c89\u788e\u673a\u653e\u677e\u4e00\u4e0b\u5427^^",noti_tips2:"\u7816\u5757\u7c89\u788e\u673a\u6b63\u5728\u7b49\u4f60\u6253\u7816\u5757\u5466^^",noti_tips3:"\u65e0\u804a\u4e86\u5417\uff0c\u6765\u7816\u5757\u7c89\u788e\u673a\u800d\u4e00\u800d\u5427^^",noti_tips4:"\u7816\u5757\u7c89\u788e\u673a\u7b49\u4f60\u6765\u54e6^^",noti_tips5:"\u7816\u5757\u7c89\u788e\u673a\u7b49\u7684\u5fc3\u6025\u4e86\u54c7\uff0c\u5feb\u6765\u5feb\u6765^^",noti_item:"\u73a9\u4e00\u4e0b",notice_title:"\u901a\u77e5",confirm_info:"\u786e\u5b9a",watch_title:"\u89c2\u770b",no_title:"\u4e0d\u4e86",store_title:"\u5546\u57ce",free_coins_title:"\u514d\u8d39",feed_back_title:"\u7816\u5757\u7c89\u788e\u673a\u53cd\u9988",feed_back_content:"\u6211\u7684\u95ee\u9898/\u5efa\u8bae\u662f:\n\n\n",help_content:"\u5de6\u53f3\u6ed1\u52a8\u6728\u677f\u6765\u53cd\u5f39\u5c0f\u7403",all_completed:"\u68d2\u6781\u4e86\uff01\n\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u6240\u6709\u5173\u5361\n\u7b49\u7740\u6211\u4eec\u7684\u65b0\u5173\u5361\u5466",purchase_no_ad_tips:"\u4e00\u6b21\u8d2d\u4e70\uff0c\u7ec8\u751f\u53bb\u5e7f\u544a\uff01",restore_title:"\u6062\u590d\u8d2d\u4e70",removed_all_ads_tips:"\u4f60\u5df2\u7ecf\u6c38\u4e45\u79fb\u9664\u4e86\u6240\u6709\u5e7f\u544a\uff01",remove_ads_title:"\u79fb\u9664\u5e7f\u544a",friends_rank_title:"\u597d\u53cb\u6392\u884c",group_rank_title:"\u7fa4\u6392\u884c",watch_ads_relife:"\u5931\u8d25\u4e86\uff0c\u89c2\u770b\u89c6\u9891\u5e7f\u544a\n\u6765\u7ee7\u7eed\u6e38\u620f\uff1f",relife_yes:"\u89c2\u770b",relife_no:"\u4e0d\u4e86",wheel_free_tips:"%d\u5c0f\u65f6\u540e\u53ef\u4ee5\u514d\u8d39",wheel_reward_video_tips:"\u770b\u89c6\u9891\u5e7f\u544a\u53ef\u62bd\u5956",wheel_share_tips:"\u5206\u4eab\u5230\u7fa4\u53ef\u62bd\u5956",wheel_free_btn:"\u514d\u8d39\u4e00\u6b21",wheel_reward_video_btn:"\u770b\u89c6\u9891\u62bd\u5956",wheel_share_btn:"\u5206\u4eab\u597d\u53cb",watch_ads_tips:"\u89c2\u770b\u89c6\u9891\uff0c\u514d\u8d39\u83b7\u53d6\u9053\u5177",watch_ads_title:"\u514d\u8d39\u9053\u5177",boost_split_title:"\u5206\u88c2\u9053\u5177",boost_new_title:"\u53d1\u5c04\u9053\u5177",boost_split_desc:"\u53ef\u5206\u88c2\u6240\u6709\u5c0f\u7403 X2",boost_new_desc:"\u53ef\u53d1\u5c04 X3 \u4e2a\u65b0\u7684\u5c0f\u7403",bag_share_tips:"\u6bcf\u4e2a\u9053\u5177\u7d2f\u8ba1\u5206\u4eab\u4e0a\u965010\u4e2a",pass_next_tips:"\u4e0b\u4e00\u4e2a\u5373\u5c06\u8d85\u8d8a\u7684\u597d\u53cb\uff1a",bag_title:"\u80cc\u5305",gift_title:"\u9053\u5177\u793c\u5305",gift_tips:"\u606d\u559c\u4f60\u83b7\u5f97\u9053\u5177\u793c\u5305\uff01\n    \u5206\u4eab\u5230\u4efb\u610f\u7fa4\u53ef\u83b7\u5f97\uff01",gift_button:"\u6253\u5f00\u793c\u5305",play_count_title:"\u73a9 %d \u6b21\uff01",score_count_title:"\u83b7\u5f97 %d \u5206\u6570",completed_title:"\u5df2\u5b8c\u6210",selected_title:"\u5df2\u9009\u4e2d",select_title:"\u9009\u62e9",double_rewards:"\u53cc\u500d\u5956\u52b1",uncompleted_title:"\u672a\u5b8c\u6210",skin_title:"\u76ae\u80a4",watch_ads_get_boosts:"\u514d\u8d39\u94bb\u77f3",watch_ads_to_relife:"\u770b\u89c6\u9891\u590d\u6d3b",lucky_wheel_title:"\u5e78\u8fd0\u8f6c\u76d8",level_count_title:"\u5230 %d \u5173\uff01",watch_ad_count_title:"\u89c2\u770b\u5e7f\u544a %d \u6b21",watch_reward_ad_count_title:"\u89c6\u9891\u5e7f\u544a %d \u6b21",skin_gift_title:"\u8fde\u7eed3\u5929\u767b\u9646",day_title:"%d\u5929",daily_bonus_title:"\u8fde\u7eed\u767b\u9646",skip_level_title:"\u8df3\u8fc7\u6b64\u5173\u5361",next_day_tips:"\u4f60\u5c06\u4f1a\u6536\u5230\u4e00\u4efd\u7279\u6b8a\u793c\u7269\uff0c\n\u8bb0\u5f97\u660e\u5929\u6765\u9886\u53d6\uff01",star_3_tips:"\u66f4\u5feb\u7684\u6d88\u9664\u6240\u6709\u7816\u5757\n\u6765\u83b7\u5f97\u4e09\u661f\uff0c\u662f\u5426\u5c1d\u8bd5\uff1f",retry_title:"\u518d\u8bd5\u4e00\u6b21",skip_title:"\u8df3\u8fc7",skin_claimed:"\u4f60\u5f97\u5230\u4e86\u65b0\u7684\u76ae\u80a4",claim_title:"\u9886\u53d6",double_title:"2x \u9886\u53d6",level_title:"\u5173\u5361\uff1a%d",share_tips:"\u4f60\u80fd\u6253\u8d25\u6211\u4e48\uff1f\u6211\u5df2\u7ecf\u5728\u7816\u5757\u7c89\u788e\u673a\u91cc\u8d62\u5230\u4e86%d\u5173\u5361\uff0c\u4e0b\u8f7d\u5730\u5740\uff1a%s",special_offer_title:"\u65b0\u624b\u793c\u5305",more_title:"%s%%\n\u66f4\u591a",skin_purchase_title:"\u65b0\u624b\u793c\u5305",app_name:"\u7816\u5757\u7c89\u788e\u673a",exit_game_confirm:"\u786e\u8ba4\u8981\u9000\u51fa\u6e38\u620f\uff1f",yes_title:"\u662f\u7684",task_title:"\u4efb\u52a1",claimed_title:"\u5df2\u9886\u53d6",reward_video_diamonds:"\u4f60\u83b7\u5f97\u4e86\u5956\u52b1\u94bb\u77f3",diamonds_title:"\u94bb\u77f3",hot_title:"\u6700\u70ed",diamond_not_enough:"\u94bb\u77f3\u4e0d\u8db3\uff01",lost_title:"\u4f60\u8f93\u4e86",wheel_is_ready:"\u5e78\u8fd0\u8f6e\u76d8\u5df2\u5c31\u7eea\uff0c\u5feb\u6765\u73a9\u5427\uff01",daily_bonus_is_ready:"\u6bcf\u65e5\u798f\u5229\u5df2\u5c31\u7eea\uff0c\u5feb\u6765\u7b7e\u5230\u9886\u53d6\u5427\uff01",purchase_success:"\u8d2d\u4e70\u6210\u529f\uff01",start_title:"\u5f00\u59cb",normal_level_title:"\u9009\u5173",hard_mode_title:"\u56f0\u96be\u5173\u5361",setting_title:"\u8bbe\u7f6e",rank_title:"\u6392\u884c",facebook_fanpage_title:"\u7c89\u4e1d\u4e13\u9875",contact_us_title:"\u8054\u7cfb\u6211\u4eec",audio_on_title:"\u58f0\u97f3\uff1a\u5f00",audio_off_title:"\u58f0\u97f3\uff1a\u5173",share_title:"\u5206\u4eab",version_title:"\u7248\u672c\uff1a%s",revive_info:"\u7ee7\u7eed\u73a9\uff1f",aim_item_title:"\u7784\u51c6\u9053\u5177",try_aim_item_title:"\u8bd5\u7528\u7784\u51c6\u9053\u5177",reward_video_skin:"\u514d\u8d39\u5f97\u76ae\u80a4",watch_ads_get_skin_title:"\u770b\u5e7f\u544a\u83b7\u5f97\u76ae\u80a4",cost_diamonds_get_skin_title:"\u82b1\u94bb\u77f3\u83b7\u5f97\u76ae\u80a4",vibrate_on_title:"\u9707\u52a8\u5f00",vibrate_off_title:"\u9707\u52a8\u5173",owned_title:"\u5df2\u62e5\u6709",reward_video_open_box:"\u6253\u5f00\u5b9d\u7bb1",reward_video_get_daily_diamonds:"\u6bcf\u65e5\u514d\u8d39\u94bb\u77f3",spin_again_title:"\u518d\u6765\u4e00\u6b21",collect_title:"\u6536\u96c6",collect_3_star_tips:"\u6536\u96c63\u661f\u6765\u83b7\u53d6\u66f4\u591a\u94bb\u77f3",aim_help:"\u5de6\u53f3\u6ed1\u52a8\u6765\u53d1\u5c04\u5c0f\u7403",multi_item_key:"\u5206\u88c2\uff0c\u5f53\u524d\u6240\u6709\u5c0f\u7403\u6570\u91cfx3",expand_item_key:"\u52a0\u5bbd\uff0c\u589e\u5927\u5e95\u90e8\u53cd\u5f39\u6ed1\u5757",explode_key:"\u5730\u9707\uff0c\u6467\u6bc1\u6bcf\u4e00\u4e2a\u7816\u5757\u4e00\u5b9a\n\u7684\u6570\u91cf",bottom_obstacle_item_key:"\u7816\u5757\uff0c\u5728\u6700\u4e0b\u65b9\u589e\u52a05\u4e2a\u4e0d\n\u53ef\u51fb\u7834\u7816\u5757",help_title:"\u5e2e\u52a9",reward_tips:"\u606d\u559c\u83b7\u5f97\u5956\u52b1",relife_title:"\u590d\u6d3b",levels_title:"\u5173\u5361"},cc._RF.pop()},{}]},{},["en","zh","GamePrepare","AudioPlayer","EventDispatcher","IAPData","PaymentInfo","PlayerInfo","ProductInfo","AdsPlace","AdsStatus","PaymentCode","LinePhysicsCollider","tableView","viewCell","AdsManager","AnalyseManager","CrossPromManager","GCManager","HttpManager","LocalizationManager","NotificationManager","RateManager","RemoteConfigManager","ShareManager","StoreManager","EffectMan","PlayerMan","HttpClient","DialogManager","ModalComponent","Storage","AudioHelper","Utils","Wheel","AdsReminderComponent","AimGuideComponent","DailyBonusComponent","DailyBonusItemComponent","DiamondComponent","FailComponent","GameHelpComponent","GetItemComponent","GravityToggle","ItemConfigComponent","NoticeComponent","NumComponent","PassComponent","PauseComponent","PlayerBall","RelifeComponent","SettingComponent","StoreComponent","TaskComponent","WheelComponent","BrickConfig","Config","ConfigMan","DailyBonusConfig","ItemConfig","ItemDescConfig","LevelConfig","PackageConfig","ShareConfig","SkinConfig","StoreConfig","TaskConfig","TaskOldConfig","WheelConfig","EditorHelper","BallComponent","BallPool","BoardComponent","GridComponent","ItemComponent","BoostType","ColliderTag","GameStep","GridType","ItemCategory","ItemType","ShapeType","SkinRewardType","SkinType","StoreType","WheelType","EventsName","AdsHelper","AudioMan","Game","GameLifeMan","GameMan","PopupMan","ResMan","StoreMan","BaseScene","EditorScene","GameScene","LevelScene","LoadingScene","MenuScene","PackageScene","PassScene","SettingScene","SkinScene","StoreScene","CoinsUI","DebugUI","GameHelpCell","LevelCell","PackageCell","SkinCell","StoreCell","TaskCell","TopUI","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);
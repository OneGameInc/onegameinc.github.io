window.__require=function e(t,i,n){function a(s,c){if(!i[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+s+"'")}}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){return a(t[s][1][e]||e)},d,d.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)a(n[s]);return a}({AdsHelper:[function(e,t,i){"use strict";cc._RF.push(t,"f49b04axSpLnK1YyD9auano","AdsHelper");var n=e("../common/enum/AdsPlace"),a=cc.Class({ctor:function(){},showPassAds:function(){game.adsManager.showInterstitial(n.Pass)},showBackgroundAds:function(){game.adsManager.showInterstitial(n.BackGround)},showBackHomeAds:function(){game.adsManager.showInterstitial(n.Home)},showRefreshAds:function(){game.adsManager.showInterstitial(n.Refresh)},onEnterBackground:function(){game.adsManager.setInterstitialShowed(n.BackGround)}});a.sharedDirector=null,a.firstUseDirector=!0,a.getInstance=function(){return a.firstUseDirector&&(a.firstUseDirector=!1,a.sharedDirector=new a),a.sharedDirector},t.exports=a,cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace"}],AdsManager:[function(e,t,i){"use strict";cc._RF.push(t,"7938d0hZARCmKGMcrMrUfol","AdsManager");var n=e("../enum/AdsPlace"),a=(cc.Class({onRewardedVideoFinished:function(e){},onInterstitialAdEnd:function(e){},onShowVideoAdBegin:function(){},onShowVideoAdEnd:function(){}}),function(e,t){this.interval=e,this.lastShowTime=Date.now(),this.levelLimit=t}),o=cc.Class({properties:{DEFAULT_AD_INTERVAL:6e4,LIMIT_LEVEL:4,ONE_MINUTE_SECOND:6e4,adConfigUrl:"",rateTime:0,ratedTime:0,rateRemoveAds:!1,adListener:null,showTopBanner:!0,topBannerDay:0,lastInterstitialTime:0,lastRewardedTime:0,enabledInterstitialAd:!0,popupLevelLimit:10,skinMaxPopCount:2,boxMaxPopCount:2,startLevelLimit:4,showRateUs:!1},ctor:function(){this.intervalMap={0:60,1:60,2:60,3:60},this.adPlaceMap={},cc.sys.isNative&&(jsb_dp.oneSdkBridge.onInterstitialAdFinished=this.onAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onVideoAdFinished=this.onVideoAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdBegin=this.onShowVideoAdBeginJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdEnd=this.onShowVideoAdEndJsb.bind(this));for(var e=1;e<=n.Num;++e)this.adPlaceMap[e]=new a(this.DEFAULT_AD_INTERVAL,this.LIMIT_LEVEL)},init:function(){this.initInterval(),this.adPlaceMap[n.FirstEnter].interval=0,this.logInterval("local")},initInterval:function(){cc.log("AdsManager initInterval");var e=game.playerMan.getRegisterDay(),t=this.intervalMap[e];if(!t){var i=Object.keys(this.intervalMap),a=i[i.length-1];cc.log("AdsManager init interval key:"+a),t=this.intervalMap[a]}t&&(this.adPlaceMap[n.Pass].interval=1e3*t)},loadRemoteData:function(){var e=game.config.getAdUrl();cc.log("AdsManager loadRemoteData:"+e);var t=this;game.httpManager.doGet(e,function(e,i){if(cc.log("AdsManager remote response:"+e+",text:"+i),!e)try{var a=JSON.parse(i);cc.sys.os===cc.sys.OS_ANDROID&&a&&a.androidConfig&&(a=a.androidConfig);var o=a.newIntervalMap;cc.log("AdsManager intervalMap:"+JSON.stringify(o)),cc.isUndefined(o)||(t.intervalMap=o,t.initInterval());var s=a.showTopBanner;cc.isUndefined(s)||(t.showTopBanner=s);var c=a.topBannerDay;cc.isUndefined(c)||(t.topBannerDay=c);var r=a.showFirstEnterAd;cc.isUndefined(r)||(t.showFirstEnterAd=r);var l=a.firstEnterShowAdDay;cc.isUndefined(l)||(t.firstEnterShowAdDay=l);var d=a.backToGroundInterval;cc.isUndefined(d)||(t.adPlaceMap[n.BackGround].interval=1e3*d);var h=a.backToHomeInterval;cc.isUndefined(h)||(t.adPlaceMap[n.Home].interval=1e3*h);var u=a.refreshInterval;cc.isUndefined(u)||(t.adPlaceMap[n.Refresh].interval=1e3*u);var p=a.popupLevelLimit;cc.isUndefined(p)||(t.popupLevelLimit=p);var g=a.skinMaxPopCount;cc.isUndefined(g)||(t.skinMaxPopCount=g);var f=a.boxMaxPopCount;cc.isUndefined(f)||(t.boxMaxPopCount=f);var m=a.startLevelLimit;cc.isUndefined(m)||(t.startLevelLimit=m);var _=a.showRateUs;cc.isUndefined(_)||(t.showRateUs=_);var y=a.nativeAdsConfig;y&&jsb_dp.oneSdkBridge.setNativeAdWeightConfig&&jsb_dp.oneSdkBridge.setNativeAdWeightConfig(JSON.stringify(y)),t.logInterval("server")}catch(e){cc.log("AdsManager error:"+e.message)}})},getRegisterDay:function(){return game.playerMan.getRegisterDay()},logInterval:function(e){cc.log("AdsManager "+e+" adPlaceMap:"+JSON.stringify(this.adPlaceMap)+",day:"+this.getRegisterDay()+",showTopBanner:"+this.showTopBanner+",topBannerDay:"+this.topBannerDay)},onGameOnShow:function(){},setAdListener:function(e){this.adListener=e},isRemovedAds:function(){return game.playerMan.player.removedAds},showBannerAds:function(e){cc.log("AdsManager showBannerAds:"+e),this.isRemovedAds()||cc.sys.isNative&&(this.isShowBannerAds(e)||jsb_dp.oneSdkBridge.showBannerAd(e))},removeBannerAds:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.removeBannerAd(e)},isShowBannerAds:function(e){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isShowBannerAd(e)},isShowNativeAd:function(e){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isShowNativeAd(e)},showInterstitial:function(e){if(this.enabledInterstitialAd&&!this.isRemovedAds()){var t=this.adPlaceMap[e];if(cc.log("AdsManager showInterstitial place:"+e+", interval:"+t.interval+",current interval:"+(Date.now()-t.lastShowTime)),!(Date.now()-t.lastShowTime<t.interval))if(t.levelLimit>game.playerMan.getLevel())cc.log("AdsManager showInterstitial level limit:"+t.levelLimit+", current level:"+game.playerMan.getLevel());else if(Date.now()-this.lastInterstitialTime<5e3)cc.log("AdsManager showInterstitial interval less than 5 seconds");else if(Date.now()-this.lastRewardedTime<5e3)cc.log("AdsManager showInterstitial rewarded video disable interstitial 5 seconds");else{t.lastShowTime=Date.now(),cc.log("AdsManager showInterstitial place:"+e+" showed"),this.lastInterstitialTime=Date.now();var i="default";e===n.Home?i="home":e===n.Refresh&&(i="refresh"),this.place=e,game.analyseManager.trackEvent("WatchISSourceStart",{name:n.getName(this.place)}),cc.sys.isNative&&jsb_dp.oneSdkBridge.showInterstitalAd(i)}}},showNativeAd:function(e,t,i){cc.log("showNativeAd:"+e),this.isRemovedAds()||cc.sys.isNative&&(this.isShowNativeAd(e)||jsb_dp.oneSdkBridge.showNativeAd(e,t,i))},removeNativeAd:function(e){this.isRemovedAds()||cc.sys.isNative&&jsb_dp.oneSdkBridge.removeNativeAd(e)},setInterstitialShowed:function(e){this.adPlaceMap[e].lastShowTime=Date.now()},showCrossPromotion:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.showCrossPromoteAd()},isRewardVideoReady:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isRewardVideoReady()},showRewardVideoAd:function(e){this.isRewardVideoReady()&&(this.enabledInterstitial(!1),cc.sys.isNative&&jsb_dp.oneSdkBridge.showRewardVideoAd(e))},enabledInterstitial:function(e){this.enabledInterstitialAd=e},onAdFinishedJsb:function(e){cc.log("onAdFinishedJsb:"+e);var t=JSON.parse(e).channelName;cc.log("channel :"+t+" show interstitial ads finished"),this.adListener&&this.adListener.onInterstitialAdEnd&&this.adListener.onInterstitialAdEnd(t),game.analyseManager.trackEvent("WatchISSourceEnd",{name:n.getName(this.place)}),game.playerMan.addInterstitialAdCount()},onVideoAdFinishedJsb:function(e){cc.log("onVideoAdFinishedJsb:"+e);var t=JSON.parse(e).isSkipped;t?cc.log("reward video ads skipped"):cc.log("reward video ads show success"),this.adListener&&this.adListener.onRewardedVideoFinished&&this.adListener.onRewardedVideoFinished(!t),t||game.playerMan.addRewardedAdCount()},onShowVideoAdBeginJsb:function(){this.adListener&&this.adListener.onShowVideoAdBegin&&this.adListener.onShowVideoAdBegin()},onShowVideoAdEndJsb:function(){this.adListener&&this.adListener.onShowVideoAdEnd&&this.adListener.onShowVideoAdEnd(),this.enabledInterstitial(!0),this.lastRewardedTime=Date.now()}});o.sharedDirector=null,o.firstUseDirector=!0,o.getInstance=function(){return o.firstUseDirector&&(o.firstUseDirector=!1,o.sharedDirector=new o),o.sharedDirector},t.exports=o,cc._RF.pop()},{"../enum/AdsPlace":"AdsPlace"}],AdsPlace:[function(e,t,i){"use strict";cc._RF.push(t,"1bea6AID4tG3bUSONo10Vcb","AdsPlace");var n={Pass:1,Home:2,BackGround:3,Refresh:4,FirstEnter:5,Num:5,getName:function(e){switch(e){case n.Pass:return"pass";case n.Home:return"home";case n.BackGround:return"background";case n.Refresh:return"refresh";case n.FirstEnter:return"first_enter";default:return"unknown"}}};t.exports=n,cc._RF.pop()},{}],AdsReminderComponent:[function(e,t,i){"use strict";cc._RF.push(t,"1aa67A6OjVE0aEq8u9DTrYa","AdsReminderComponent"),cc.Class({extends:cc.Component,properties:{lbReminderCount:cc.Label},onLoad:function(){game.dispatcher.on("reward_video_count",this.onUpdateReminder,this),this.onUpdateReminder()},onDestroy:function(){game.dispatcher.off("reward_video_count",this.onUpdateReminder,this)},onUpdateReminder:function(){var e=game.config.rewardAdMaxCountPerDay-game.playerMan.getRewardAdPlaceCountPerDay();e<0&&(e=0),this.lbReminderCount.string=e}}),cc._RF.pop()},{}],AdsStatus:[function(e,t,i){"use strict";cc._RF.push(t,"d5f93hdT1BGbL4IEXu4SiVy","AdsStatus");t.exports={ADS_STATUS_COMPLETED:0,ADS_STATUS_SKIPPED:1},cc._RF.pop()},{}],AnalyseManager:[function(e,t,i){"use strict";cc._RF.push(t,"e958df3nfpM56oNYYAsZGHg","AnalyseManager");var n=cc.Class({ctor:function(){},initAnalytics:function(){},trackLoginEvent:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackLogin()},trackPurchaseEvent:function(e,t,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackPurchase(e,t,i,n)},trackStartProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackStartProgression(e,t)},trackCompletedProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackCompletedProgression(e,t)},trackFailedProgressionEvent:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackFailProgression(e,t)},trackErrorEvent:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackError(e)},trackEvent:function(e,t){if(cc.sys.isNative){var i="";t&&(i=JSON.stringify(t)),jsb_dp.oneSdkBridge.trackEvent(e,i)}},addVirtualCurrency:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.addVirtualCurrency(e,t)},consumeVirtualCurrency:function(e,t,i){cc.sys.isNative&&jsb_dp.oneSdkBridge.consumeVirtualCurrency(e,t,i)},consumeItem:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.consumeItem(e,t)},trackChargeRequest:function(e,t,i,n,a,o){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackChargeRequest(e,t,i,n,a,o)},trackChargeSuccess:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackChargeSuccess(e)},missionBegan:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionBegan(e)},missionCompleted:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionCompleted(e)},missionFailed:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.missionFailed(e,t)},trackPlayerLevel:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.setPlayerLevel(e)}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],AudioHelper:[function(e,t,i){"use strict";cc._RF.push(t,"03b9en9fHFDCZ81AfXbgGJH","AudioHelper");var n={playBtnSound:function(){game.audioPlayer.playEffectByKey("audio/button")}};t.exports=n,cc._RF.pop()},{}],AudioMan:[function(e,t,i){"use strict";cc._RF.push(t,"8f941347vZOAabSy5ns5R2h","AudioMan"),cc.Class({extends:cc.Component,properties:{winAudio:{default:null,url:cc.AudioClip},loseAudio:{default:null,url:cc.AudioClip},buttonAudio:{default:null,url:cc.AudioClip},bgm:{default:null,url:cc.AudioClip}},playMusic:function(){cc.audioEngine.playMusic(this.bgm,!0)},pauseMusic:function(){cc.audioEngine.pauseMusic()},resumeMusic:function(){cc.audioEngine.resumeMusic()},_playSFX:function(e){cc.audioEngine.playEffect(e,!1)},playWin:function(){this._playSFX(this.winAudio)},playLose:function(){this._playSFX(this.loseAudio)},playButton:function(){this._playSFX(this.buttonAudio)}}),cc._RF.pop()},{}],AudioPlayer:[function(e,t,i){"use strict";cc._RF.push(t,"14d70iBRMlEe5vzr3//erRP","AudioPlayer");var n=cc.Class({properties:{effectMap:null},ctor:function(){this.effectMap={}},playEffectByKey:function(e,t){if(this.isEffectOn()){var i=cc.loader.getRes(e),n=cc.audioEngine.playEffect(i,t),a=this.effectMap[e];a&&this.stopEffectByKey(a),this.effectMap[e]=n}},playMusicByKey:function(e,t){this.isMusicOn()&&cc.loader.loadRes(e,function(e,t){if(e)cc.error("play effect error:"+e);else{var i=cc.audioEngine.playMusic(t,!0);cc.audioEngine.setVolume(i,.5)}})},stopEffectByKey:function(e){var t=this.effectMap[e];t&&(cc.audioEngine.stopEffect(t),delete this.effectMap[e])},isMusicPlaying:function(){return cc.audioEngine.isMusicPlaying()},resumeMusic:function(){cc.audioEngine.resumeMusic()},stopMusic:function(){cc.audioEngine.stopMusic()},stopAllEffects:function(){cc.audioEngine.stopAllEffects()},isVibrateOn:function(){return"true"==game.storage.getItem("vibrate_on","true")},setVibrateOn:function(e){game.storage.setItem("vibrate_on",""+e)},vibrateShort:function(){this.isVibrateOn()&&cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateShort()},vibrateLong:function(){this.isVibrateOn()&&cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateLong()},isEffectOn:function(){return"true"==game.storage.getItem("effect_on","true")},isMusicOn:function(){return"true"==game.storage.getItem("music_on","true")},pauseMusic:function(){cc.audioEngine.pauseMusic()},setEffectOn:function(e){game.storage.setItem("effect_on",""+e)},setMusicOn:function(e){game.storage.setItem("music_on",""+e),e?this.resumeMusic():this.pauseMusic()}});n._instance=null,n._firstUseInstance=!0,n.getInstance=function(){return n._firstUseInstance&&(n._firstUseInstance=!1,n._instance=new n),n._instance},t.exports=n,cc._RF.pop()},{}],Ball:[function(e,t,i){"use strict";cc._RF.push(t,"289b9WHVPdJ3LkUkfPPUuC6","Ball");var n=cc.Class({extends:cc.Component,onBeginContact:function(e,t,i){100===i.tag||(200===i.tag?game.gameMan.onGameFail():300===i.tag&&game.gameMan.onGameSuccess())},onEndContact:function(e,t,i){},onPreSolve:function(e,t,i){},onPostSolve:function(e,t,i){}});t.exports=n,cc._RF.pop()},{}],BaseScene:[function(e,t,i){"use strict";cc._RF.push(t,"7f93bxvqjRGD6NcO0iDMl1Q","BaseScene"),cc.Class({extends:cc.Component,properties:{lastClickTime:0},onLoad:function(){window.game&&game.utils.showEnterSceneAnim(),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dialogManager.closeAll()},onKeyDown:function(e){if(!(game.dialogManager.hasDialog()||Date.now()-this.lastClickTime<200))switch(this.lastClickTime=Date.now(),e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},onBackClicked:function(){},start:function(){}}),cc._RF.pop()},{}],CoinsUI:[function(e,t,i){"use strict";cc._RF.push(t,"35ebei3uZJH1a5/qUmv1hoq","CoinsUI");var n=cc.Class({extends:cc.Component,properties:{lbCoins:cc.Label,rootNode:cc.Node,enableClick:!0},onLoad:function(){game.dispatcher.on("update_coins",this.onUpdateCoins,this),this.lbCoins.string=game.playerMan.player.coins},onDestroy:function(){game.dispatcher.off("update_coins",this.onUpdateCoins,this)},onUpdateCoins:function(e){var t=e.coins,i=e.delta;this.lbCoins.getComponent("NumComponent").playNumAnim(t-i,t)},onPurchaseCoins:function(e){this.enableClick&&(game.audioHelper.playBtnSound(),game.popupMan.popupStore())},disableClick:function(){this.enableClick=!1}});t.exports=n,cc._RF.pop()},{}],ConfigMan:[function(e,t,i){"use strict";cc._RF.push(t,"616262Tn5VATamqHugl0z8p","ConfigMan");var n=e("./LevelConfig"),a=e("./StoreConfig"),o=e("./WheelConfig"),s=(e("./ShareConfig"),e("./SkinConfig")),c=e("./PackageConfig"),r=e("./DailyBonusConfig"),l="store_config",d="level_configs",h="skin_configs",u="package_configs",p="data_config",g=cc.Class({properties:{levelList:null,storeList:null,wheelList:null,skinList:null,packageList:null,loaded:!1,group:"",boxWheelList:null,dailyBonusList:null},ctor:function(){this.storeList=[],this.levelList=[],this.wheelList=[],this.skinList=[],this.packageList=[],this.boxWheelList=[],this.dailyBonusList=[]},onRemoteConfigReceived:function(){this.reload()},getConfigName:function(e){var t="",i=game.remoteConfig.getRemoteConfig("level_group");return i&&(t="config/"+e+"-"+i+".json"),game.utils.isFileExist(t)?t:"config/"+e+".json"},reload:function(){if(!this.loaded){var e;this.loaded=!0;var t=game.utils.loadJson(this.getConfigName(l)),i=t.stores;for(e=0;e<i.length;++e){var g=new a;g.unmarshal(i[e]),this.storeList.push(g)}var f=(t=game.utils.loadJson(this.getConfigName(d))).levels;for(e=0;e<f.length;++e){var m=new n;m.unmarshal(f[e]),this.levelList.push(m)}this.levelList.sort(function(e,t){return e.levelId-t.levelId});var _=(t=game.utils.loadJson(this.getConfigName(h))).skins;for(e=0;e<_.length;++e){var y=new s;y.unmarshal(_[e]),this.skinList.push(y)}var v=(t=game.utils.loadJson(this.getConfigName(u))).packages;for(e=0;e<v.length;++e){var C=new c;C.unmarshal(v[e]),this.packageList.push(C)}var S=(t=game.utils.loadJson(this.getConfigName(p))).wheel;for(e=0;e<S.length;++e){var w=new o;w.unmarshal(S[e]),this.wheelList.push(w)}var b=t.box;for(e=0;e<b.length;++e)(w=new o).unmarshal(b[e]),this.boxWheelList.push(w);var M=t.daily_bonus;for(e=0;e<M.length;++e){var k=new r;k.unmarshal(M[e]),this.dailyBonusList.push(k)}}},getStoreList:function(){return this.storeList},getLevelList:function(){return this.levelList},getBoxWheelList:function(){return this.boxWheelList},getDailyBonusList:function(){return this.dailyBonusList},getLevelListByPackageId:function(e){var t=this.getPackage(e);if(!t)return[];for(var i=[],n=t.start;n<t.start+t.count&&this.levelList[n-1];++n)i.push(this.levelList[n-1]);return i},getPackageByLevelId:function(e){for(var t=0;t<this.packageList.length;++t){var i=this.packageList[t];if(e>=i.start&&e<=i.start+i.count)return i}return null},getSkinList:function(){return this.skinList},getSkinConfig:function(e){return this.skinList[e]},getLevelCfg:function(e){for(var t=0;t<this.levelList.length;++t)if(this.levelList[t].levelId===e)return this.levelList[t];return{levelId:e,maxLineLen:500}},getLastLevelCfg:function(){return this.levelList[this.levelList.length-1]},isLastLevel:function(e){return!(e<=this.getLastLevelCfg().levelId)},setLevelCfg:function(e){var t,i=!1;for(t=0;t<this.levelList.length;++t)if(e.levelId===this.levelList[t].levelId){i=!0;break}i?this.levelList[t]=e:this.levelList.push(e)},getWheelList:function(){return this.wheelList},getPackageList:function(){return this.packageList},getPackage:function(e){return this.packageList[e-1]}});g._instance=null,g._firstUseInstance=!0,g.getInstance=function(){return g._firstUseInstance&&(g._firstUseInstance=!1,g._instance=new g),g._instance},t.exports=g,cc._RF.pop()},{"./DailyBonusConfig":"DailyBonusConfig","./LevelConfig":"LevelConfig","./PackageConfig":"PackageConfig","./ShareConfig":"ShareConfig","./SkinConfig":"SkinConfig","./StoreConfig":"StoreConfig","./WheelConfig":"WheelConfig"}],Config:[function(e,t,i){"use strict";cc._RF.push(t,"30ef0fXi85LqJmVMO6Wm/5C","Config");var n={itunesDownloadUrl:"itms-apps://itunes.apple.com/app/id1442944034?action=write-review",googlePlayUrl:"http://bit.ly/2VSYeCe",iosShortUrl:"https://apple.co/2ThTbuw",androidShortUrl:"http://bit.ly/2VSYeCe",appName:"Line To Hole",iOSLeaderBoard:{level:"com.douapp.physicallines.levelrank",star:"com.douapp.physicallines.starrank"},androidLeaderBoard:{level:"",star:""},IS_DEBUG:!1,IS_ENABLE_HOT_UPDATE:!1,getLeaderBoardKey:function(e){return cc.sys.os==cc.sys.OS_ANDROID?this.androidLeaderBoard[e]:this.iOSLeaderBoard[e]},getPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayUrl:this.itunesDownloadUrl},getShortPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidShortUrl:this.iosShortUrl},getCrossPromUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidCrossPromUrl:this.crossPromUrl},getAdUrl:function(){return this.adConfigUrl},horizontalGame:!1,adConfigUrl:"https://onegameinc.github.io/physical_lines/game.html",crossPromUrl:"https://onegameinc.github.io/cross_promotion/config/physical_lines/cross_promotion.html",androidCrossPromUrl:"https://onegameinc.github.io/cross_promotion/config/physical_lines_android/cross_promotion.html",connectEmail:"one.one.play@hotmail.com",levelRewardCoins:10,version:"1.0.0",rewardVideoCoins:50,skipCoins:200,rewardAdMaxCountPerDay:10,rewardCoinsMap:{1:3,2:5,3:10},facebookFanPageUrl:"https://www.facebook.com/pg/PlayCandyFoodie/"};t.exports=n,cc._RF.pop()},{}],CrossPromManager:[function(e,t,i){"use strict";cc._RF.push(t,"08d9cHQNtFOB6cjWDzaO+SC","CrossPromManager");var n=cc.Class({ctor:function(){},tryToLoadFromRemote:function(){},getRandomConfig:function(e){var t,i=0;for(t=0;t<e.length;++t)i+=e[t].weight;var n=game.utils.randomNextInt(i),a=0;for(t=0;t<e.length;++t)if((a+=e[t].weight)>n)return e[t];return e[0]},popupCrossPromDlg:function(t,i){var n=e("../controller/CrossPromController").createFromCCB("res/cross/cross_prom_view.ccbi");n.controller.initWith(t,i),n.controller.popup()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{"../controller/CrossPromController":void 0}],DailyBonusComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d2a04BzyRVHGr0gQ4qku6KB","DailyBonusComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");var n=e("./DailyBonusItemComponent");cc.Class({extends:cc.Component,properties:{DAILY_BONUS_COUNT:7,DAILY_BONUS_TAG:200,ndContainer:cc.Node,btnDouble:cc.Button,btnClaim:cc.Button,dailyBonusNodes:[cc.Node],dailyBonusItemNodes:null,configs:null,curConfig:null,claimed:!1},onLoad:function(){cc.loader.loadRes("prefabs/daily_bonus_item_view",function(e,t){this.initUINodes(t)}.bind(this))},initUINodes:function(e){this.dailyBonusItemNodes=[],this.configs=game.configMan.getDailyBonusList();for(var t=0;t<this.DAILY_BONUS_COUNT;++t){var i=cc.instantiate(e);this.dailyBonusNodes[t].addChild(i),this.dailyBonusItemNodes.push(i)}this.initUI()},initUI:function(){var e=game.playerMan.player.lastClaimDailyBonusDay,t=game.playerMan.checkConsecutiveLoginDay(),i=e>=game.utils.getDayByTs(Date.now());t=(t%=7)||7,this.claimed=i,this.btnClaim.interactable=!i,this.btnDouble.interactable=!i,cc.log("consecutiveDay:"+t+",dailyBonusNodes length:"+this.dailyBonusNodes.length+",currentDayClaimed:"+i);for(var a=1;a<=7;++a){cc.log("initUI:"+a);var o=this.configs[a-1],s=this.dailyBonusItemNodes[a-1];if(s){var c=s.getComponent(n);c?a<t?c.initWith(o,a,!1,!0):a===t?(c.initWith(o,a,!0,i),this.curConfig=o):c.initWith(o,a,!1,!1):cc.log("daily bonus controller is null:"+a)}else cc.log("daily bonus node is null:"+a)}3===t&&(this.btnDouble.interactable=!1)},popupClaimReward:function(e,t,i){var n={type:e.type,count:e.count,image:"spr_coin"};t?game.storeMan.popupRewardItemDlg(n,"daily_bonus_tips",i,t):game.storeMan.popupDoubleItemDlg(n,"daily_bonus_tips",i)},claimClicked:function(e){if(game.audioHelper.playBtnSound(),!this.claimed){var t=this;this.popupClaimReward(this.curConfig,!1,function(){t.setClaimed()})}this.close()},doubleClicked:function(e){if(game.audioHelper.playBtnSound(),!this.claimed){var t=this;game.storeMan.checkAndShowRewardVideo("daily_bonus",function(e){e&&(this.popupClaimReward(this.curConfig,!0,function(){t.setClaimed()}),this.close())}.bind(this))}},setClaimed:function(){game.playerMan.setLastClaimDailyBonusDay(game.utils.getDayByTs(Date.now())),this.claimed=!0},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType","./DailyBonusItemComponent":"DailyBonusItemComponent"}],DailyBonusConfig:[function(e,t,i){"use strict";cc._RF.push(t,"51cbceSFzhAoaCMwP0i5BDx","DailyBonusConfig");var n=function(){this.id=0,this.type=0,this.count=0,this.image="",this.arg1=""};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.image=e.image,this.arg1=e.arg1,this.extra=e.extra},t.exports=n,cc._RF.pop()},{}],DailyBonusItemComponent:[function(e,t,i){"use strict";cc._RF.push(t,"f1230LHSGFLDY0iS8dqHzED","DailyBonusItemComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");cc.Class({extends:cc.Component,properties:{spBlack:cc.Node,spItem:cc.Sprite,spCurrent:cc.Node,spClaimed:cc.Node,lblCount:cc.Label,lblDay:cc.Label,dailyBonusCfg:null},onLoad:function(){},initWith:function(e,t,i,n){this.dailyBonusCfg=e,this.spBlack.active=n,game.utils.setSpriteFrame(this.spItem,"atlas/menu_batch",e.image),this.spClaimed.active=n,this.lblCount.string="x"+e.count,this.lblDay.string=game.utils.sprintf(_("day_title"),t)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],DebugUI:[function(e,t,i){"use strict";cc._RF.push(t,"33993F4TZFPzJCRD60yJ9u/","DebugUI");var n=cc.Class({extends:cc.Component,properties:{lblLineLen:cc.Label,editLevel:cc.EditBox,editLineLen:cc.EditBox,progress:cc.ProgressBar,showHintToggle:cc.Toggle},onLoad:function(){game.dispatcher.on("update_line_progress",this.onLineLenUpdate,this),this.editLevel.string=game.gameMan.level,this.config=game.configMan.getLevelCfg(game.gameMan.level),this.editLineLen.string=""+this.config.maxLineLen,this.showHintToggle.isChecked=!!this.config.showHint},onToggleChanged:function(){},onDestroy:function(){game.dispatcher.off("update_line_progress",this.onLineLenUpdate,this)},setLineLenPercent:function(e){this.lblLineLen.string=Math.floor(e)},onLineLenUpdate:function(e){this.setLineLenPercent(e.lineLen)},onRefreshClicked:function(){game.dispatcher.emit("refresh_level")},onDrawLine:function(){game.dispatcher.emit("clear_line")},onRun:function(){game.dispatcher.emit("game_run")},onBack:function(){cc.director.loadScene("EditorScene")},onSave:function(){var e=this.editLineLen.string,t=this.editLevel.string;game.dispatcher.emit("save_level_config",{lineLen:e,levelId:t,showHint:this.showHintToggle.isChecked})},onNextLevel:function(){game.gameMan.level++,cc.director.loadScene("newlevel-"+game.gameMan.level)}});t.exports=n,cc._RF.pop()},{}],DialogManager:[function(e,t,i){"use strict";cc._RF.push(t,"0a48fPixHpOX6bY1Mg06bXe","DialogManager");var n=e("./ModalComponent"),a=cc.Class({properties:{DIALOG_ZORDER_BEGIN:999,DIALOG_ZORDER_STEP:2,_overlay:null,_scaleFactor:1,_dialogStack:[]},ctor:function(){},createOverlay:function(){this._overlay=new cc.Node("OverLay"),this._overlay.addComponent(n);var e=this._overlay.addComponent(cc.Sprite),t=cc.loader.getRes("atlas/menu_batch",cc.SpriteAtlas).getSpriteFrame("blank");e.spriteFrame=t,e.type=cc.Sprite.Type.SLICED,e.width=768,e.height=1665,this._overlay.color=cc.Color.BLACK,this._overlay.opacity=210,this._overlay.width=cc.winSize.width,this._overlay.height=cc.winSize.height,this._overlay.zIndex=this.DIALOG_ZORDER_BEGIN,this._overlay.x=.5*cc.winSize.width,this._overlay.y=.5*cc.winSize.height,this.attachScene(this._overlay)},popup:function(e,t){e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height,e.setScale(this._scaleFactor);var i=this._dialogStack.length;cc.log("dlgLen:"+i),e.zIndex=0==i?this.DIALOG_ZORDER_BEGIN:this._dialogStack[i-1].zIndex+this.DIALOG_ZORDER_STEP,this._dialogStack.push(e),this._overlay||this.createOverlay(),this._overlay.zIndex=e.zIndex-1,t&&t.overlayColor?this._overlay.color=t.overlayColor:this._overlay.color=cc.Color.BLACK,t&&t.overlayOpacity?this._overlay.opacity=t.overlayOpacity:this._overlay.opacity=190,this.attachScene(e),t&&t.withoutAnim||this.popupDialogAnim(e),game.dispatcher.emit("dialog_poped")},attachScene:function(e){cc.director.getScene().addChild(e)},close:function(e,t){var i;cc.isUndefined(t)&&(t=!0);var n=this._dialogStack.length;for(i=n-1;i>=0&&e!==this._dialogStack[i];--i);if(i>=0){if(this._dialogStack.splice(i,1),n=this._dialogStack.length,e.destroy(),0===n)this._overlay.destroy(),this._overlay=null;else{var a=n-1;a>=0?this._overlay.zIndex=this._dialogStack[a].zIndex-1:(this._overlay.destroy(),this._overlay=null,this._dialogStack.length=0)}game.dispatcher.emit("dialog_closed")}},closeAll:function(){for(var e=this._dialogStack.length;0!=e;){var t=this._dialogStack[e-1];this.close(t,!0),e=this._dialogStack.length}},isTopestDialog:function(e){return this._dialogStack[this._dialogStack.length-1]===e},hasDialog:function(){return this._dialogStack&&this._dialogStack.length},popupDialogAnim:function(e){e.setScale(.8,.8),e.runAction(cc.sequence(cc.scaleTo(.066,1.05,1.05).easing(cc.easeOut(2)),cc.scaleTo(.05,.98,.98).easing(cc.easeOut(2)),cc.scaleTo(.084,1,1).easing(cc.easeOut(2))))}});a._instance=null,a._firstUseInstance=!0,a.getInstance=function(){return a._firstUseInstance&&(a._firstUseInstance=!1,a._instance=new a),a._instance},t.exports=a,cc._RF.pop()},{"./ModalComponent":"ModalComponent"}],EditorHelper:[function(e,t,i){"use strict";cc._RF.push(t,"072197T56FM/rxWSwJqXfEm","EditorHelper");var n={CommonEvent:null,MapDisplayType:null,EditorHttpConst:null,localServerPath:"http://localhost:8080",postData:function(e,t,i){e=this.localServerPath+e;var n=new XMLHttpRequest;n.onreadystatechange=t(n),n.open("POST",e,!0),"undifined"!=typeof i?(n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(i)):n.send()},saveHintLine:function(e){game.configMan.setLevelCfg(e);var t={levels:game.configMan.getLevelList()};this.postData("/save_supply_area",function(e){return function(){4==e.readyState&&200==e.status&&alert("save hint line success")}},JSON.stringify(t,null,2))}};t.exports=n,cc._RF.pop()},{}],EditorScene:[function(e,t,i){"use strict";cc._RF.push(t,"5efdei86PBIGoNVZIcU4C5N","EditorScene");var n=e("GamePrepare");cc.Class({extends:e("BaseScene"),properties:{canEnter:!1,editLevel:cc.EditBox},onLoad:function(){n.start(),n.initData(function(){this.canEnter=!0}.bind(this)),game.gameMan.setDevType("editor"),this.editLevel.string=1,cc.director.getPhysicsManager().enabled=!0},start:function(){},onStartClicked:function(){console.log("Start button clicked!"),this.canEnter&&(game.gameMan.setLevel(parseInt(this.editLevel.string)),cc.director.loadScene("newlevel-"+game.gameMan.level))},onChapterClicked:function(){},onSkinClicked:function(){},onStoreClicked:function(){},onSettingClicked:function(){},onRankClicked:function(){},onSoundClicked:function(){},onAddCoinsClicked:function(){}}),cc._RF.pop()},{BaseScene:"BaseScene",GamePrepare:"GamePrepare"}],EffectMan:[function(e,t,i){"use strict";cc._RF.push(t,"7aa71yJlTlJI4VjzKaPBIbl","EffectMan");var n=cc.Class({stoped:!1,ctor:function(){},playFlyCoins:function(e,t,i,n,a,o){this.stoped=!1;var s=this;cc.loader.loadRes("prefabs/coins_anim",function(n,c){for(var r=0;r<10;){var l=cc.instantiate(c);setTimeout(function(n,c,r){return function(){var l=null;c?l=a:r&&(l=o),s.showFlyAnim(t,i,n,e,l)}}(l,0===r,9===r),100*r),r++}})},showFlyAnim:function(e,t,i,n,a){if(this.stoped)a&&a();else{var o=e,s=t,c=Math.sqrt((o.x-s.x)*(o.x-s.x)+(o.y-s.y)*(o.y-s.y))/1500;n.addChild(i,1e3),i.setPosition(o);var r=[o,this.getPerpendicularPoint(o,s,50,.5),s];i.runAction(cc.sequence(cc.bezierTo(c,r),cc.callFunc(function(){a&&a()},this),cc.removeSelf()))}},getPerpendicularPoint:function(e,t,i,n){var a={x:e.x-t.x,y:e.y-t.y},o=a.y,s=-a.x,c=this.lerpPosition(e,t,n),r=Math.sqrt(o*o+s*s),l=o/r,d=s/r;return new cc.p(c.x+l*i,c.y+Math.abs(d*i))},lerpPosition:function(e,t,i){return{x:(t.x-e.x)*i+e.x,y:(t.y-e.y)*i+e.y}},showBackgroundAnims:function(e){for(var t=cc.loader.getRes("atlas/menu_batch",cc.SpriteAtlas),i=["circle_line","circle","square_circle"],n=this.getColorList(),a=0;a<20;++a){var o=new cc.Node("skin"),s=t.getSpriteFrame(i[game.utils.randomNextInt(i.length)]);o.addComponent(cc.Sprite).spriteFrame=s,o.color=n[game.utils.randomNextInt(n.length-1)],o.opacity=10,o.scale=game.utils.randomNextNumberInRange(1,2);var c=this.getRandomPos();o.setPosition(c);var r=this.getRandomPos(),l=this.getTime(c,r),d=cc.moveTo(l,r),h=cc.moveTo(l,c),u=cc.repeatForever(cc.sequence(d,h));o.runAction(u),o.runAction(cc.repeatForever(cc.rotateBy(20,360))),e.addChild(o)}},getTime:function(e,t){return e.sub(t).mag()/20},getRandomPos:function(){return cc.p(game.utils.randomNextInt(1.5*cc.winSize.width)-.25*cc.winSize.width-.5*cc.winSize.width,game.utils.randomNextInt(1.5*cc.winSize.height)-.25*cc.winSize.height-.5*cc.winSize.height)},getColorList:function(){return[cc.color(255,106,107),cc.color(90,181,110),cc.color(83,183,209),cc.color(243,77,151),cc.color(153,95,206),cc.color(57,103,249),cc.color(249,112,49),cc.color(232,59,20),cc.color(84,235,43),cc.color(50,84,117),cc.color(127,127,127)]}});n._instance=null,n.getInstance=function(){return n._instance||(n._instance=new n),n._instance},t.exports=n,cc._RF.pop()},{}],ElementPool:[function(e,t,i){"use strict";cc._RF.push(t,"d8c92LDypZEraKdP1DKmus+","ElementPool");var n=e("./Obstacle"),a=(e("../common/util/Utils"),0),o=1,s=cc.Class({properties:{OBSTACLES_PREFABS:[],OBSTACLE_SPEED_Y:-250,SHOW_OFFSET:10,REMOTE_OFFSET:300,SCREEN_HEIGHT:900,TOTAL_ELEMENT:15,PREFABS:[],SUCCESS_PREFAB:null,_lastCreateObstacleDistance:0,_elipsedDistance:0,_obstacleIndex:0,_obstacles:[],_obstacleCount:0,_ball:cc.Node,_gameMode:a},startGame:function(e,t){this._lastCreateObstacleDistance=0,this.setParent(e),this.setBall(t),this.initUI()},initUI:function(){for(var e=0;e<this.TOTAL_ELEMENT;++e){var t=cc.loader.getRes("prefabs/obstacle_"+(e+1));this.PREFABS.push(t)}this.SUCCESS_PREFAB=cc.loader.getRes("prefabs/success_view"),this.createObstacle(.5*-this.SCREEN_HEIGHT),this.createObstacle(1.5*-this.SCREEN_HEIGHT)},setParent:function(e){this._parent=e},setObstacleIds:function(e){this.obstacleIds=e,this._gameMode=o},setBall:function(e){this.ball=e},checkAndCreate:function(){this._elipsedDistance-this._lastCreateObstacleDistance>=this.SCREEN_HEIGHT&&(this._lastCreateObstacleDistance=this._elipsedDistance,this.createObstacle(-this._elipsedDistance-1.5*this.SCREEN_HEIGHT))},createObstacle:function(e){var t,i=this.getObstaclePrefab();i?((t=cc.instantiate(i)).getComponent(n).initBall(this.ball),t.y=e,this._parent.addChild(t),this._obstacles.push(t)):(i=this.SUCCESS_PREFAB,(t=cc.instantiate(i)).y=e,this._parent.addChild(t),this._obstacles.push(t)),this._obstacleCount++},getObstaclePrefab:function(){var e;return this._gameMode===a?(cc.log("this._obstacleIndex:"+this._obstacleIndex),e=this.PREFABS[this._obstacleIndex],this._obstacleIndex++,this._obstacleIndex=this._obstacleIndex%this.TOTAL_ELEMENT):this._obstacleCount<this.obstacleIds.length?e=this.PREFABS[this.obstacleIds[this._obstacleCount]-1]:cc.log("test obstacle"),e},moveDistance:function(e){this._elipsedDistance=e,this.checkAndCreate()},updateItems:function(e){this.updateObstacles(e),this.moveDistance(e)},updateObstacles:function(e){for(var t=this._obstacles.length-1;t>=0;--t){var i=this._obstacles[t];i.y>-this._elipsedDistance+2*this.SCREEN_HEIGHT&&(i.removeFromParent(),this._obstacles.splice(t,1))}cc.log("obstacles count:"+this._obstacles.length)},getDistance:function(){return this._elipsedDistance},getTotalDistance:function(){return this.SCREEN_HEIGHT*(this.obstacleIds.length+.5)}});t.export=s,cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],EventDispatcher:[function(e,t,i){"use strict";cc._RF.push(t,"05c3873KWJBTq7djVLifTwP","EventDispatcher");var n=function(e,t,i){this.callback=e,this.target=t,this.listener=i},a=function(){var e;function t(){var e={};return{on:function(t,i,a){var o=!0,s=e[t];if(cc.isUndefined(s))s=[],e[t]=s;else for(var c=0;c<s.length;++c){var r=s[c];if(r.callback===i&&r.target===a){o=!1;break}}o&&s.push(new n(i,a,null))},off:function(t,i,n){if(e[t]){var a=e[t];if(!cc.isUndefined(a)&&a.length>0){for(var o=[],s=0;s<a.length;++s){var c=a[s];c.callback===i&&c.target===n||o.push(c)}e[t]=o}}},emit:function(t,i){if(e[t]){var n=e[t];if(!cc.isUndefined(n)&&n.length>0)for(var a=0;a<n.length;++a){var o=n[a];null!=o.callback&&o.callback.call(o.target,i)}}}}}return{getInstance:function(){return e||(e=t()),e}}}();t.exports=a,cc._RF.pop()},{}],GCManager:[function(e,t,i){"use strict";cc._RF.push(t,"75521gPlllIt5KQcNQYF3y2","GCManager");var n=cc.Class({ctor:function(){},isGameCenterAvailable:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isGameCenterAvailable()},reportScore:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportScore(e,t)},showLeaderboard:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.showLeaderboard(e)},reportAchievement:function(e,t){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportAchievement(e,t)},showAchievements:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.showAchievements(e)},highScoreForLeaderboard:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.highScoreForLeaderboard(e):0},progressForAchievement:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.progressForAchievement(e):0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],GameLifeMan:[function(e,t,i){"use strict";cc._RF.push(t,"bdf32WrykBB0YchWCraoZ+h","GameLifeMan");var n=[1,3,7,15,30],a=cc.Class({properties:{_start:!1},ctor:function(){},register:function(){cc.log("GameLifeMan register"),cc.game.on(cc.game.EVENT_HIDE,this.onHide.bind(this)),cc.game.on(cc.game.EVENT_SHOW,this.onShow.bind(this))},onShow:function(){cc.log("onShow"),game.notificationManager.unscheduleNotification(),game.adsManager.onGameOnShow(),setTimeout(function(){game.adsHelper.showBackgroundAds()},100)},onHide:function(){cc.sys.isNative&&(game.adsHelper.onEnterBackground(),this.scheduleLocalNotification())},registerNotification:function(){game.notificationManager.registerNotification()},startGame:function(){cc.log("GameLifeMan startGame"),this._start||(this._start=!0,game.firstEnter=!0,game.notificationManager.unscheduleNotification(),this.register(),game.playerMan.initData(),game.adsManager.loadRemoteData(),game.analyseManager.initAnalytics(),game.gcManager.isGameCenterAvailable(),game.analyseManager.trackLoginEvent(),this.fetchRemoteConfig())},fetchRemoteConfig:function(){game.remoteConfig.setRemoteConfigReceivedCallback(function(){cc.log("config man onRemoteConfigReceived"),game.configMan.onRemoteConfigReceived();var e=game.remoteConfig.getRemoteConfig("level_group");e||(e="a"),game.analyseManager.trackEvent("level_group",{group:e})}),game.remoteConfig.fetchRemoteConfig()},scheduleLocalNotification:function(){if(cc.sys.isNative){var e=Math.floor(game.gameMan.getWheelLeftTime()/1e3);e<1800&&(e=1800);var t=1;game.notificationManager.scheduleNotification(e,_("wheel_is_ready"),_("app_name"),t++);var i=0;if(game.playerMan.player.lastClaimDailyBonusDay>=game.utils.getDayByTs(Date.now()))i=(864e5*(game.utils.getDayByTs(Date.now())+1)-Date.now())/1e3;i<=3600&&(i=3600),game.notificationManager.scheduleNotification(i,_("daily_bonus_is_ready"),_("app_name"),t++);for(var a=Math.max(e,i),o=0;o<n.length;++o)game.notificationManager.scheduleNotification(a+86400*n[o],_(game.utils.sprintf("noti_tips%d",o+1)),_("app_name"),t++)}}});a.sharedDirector=null,a.firstUseDirector=!0,a.getInstance=function(){return a.firstUseDirector&&(a.firstUseDirector=!1,a.sharedDirector=new a),a.sharedDirector},t.exports=a,cc._RF.pop()},{}],GameMan:[function(e,t,i){"use strict";cc._RF.push(t,"66250lko+ZD8ruWzX4V+Cl5","GameMan");e("../common/enum/AdsPlace");var n=e("../enum/WheelType"),a=cc.Class({properties:{FREE_WHEEL_HOURS:12,ONE_HOUR_SECONDS:36e5,gameStep:0,devType:"normal",level:0,curLineLen:0,retryCount:0,hintLevel:-1,rated:!1,passedCount:0,lastPopCount:0,currentStep:3,showedWatchAdsGetSkinCount:0,showedWatchAdsOpenBoxCount:0},ctor:function(){},setDevType:function(e){this.devType=e},setLevel:function(e){this.level=e,this.config=game.configMan.getLevelCfg(this.level)},getMissionKey:function(){return"level_"+this.level},onGameStart:function(){this.initPhysics(),game.analyseManager.missionBegan(this.getMissionKey())},initPhysics:function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,0)},startPhysicsGravity:function(e){cc.director.getPhysicsManager().gravity=cc.v2(0,e?610:-640)},pause:function(){cc.director.getPhysicsManager().enabled=!1,game.adsManager.showBannerAds("bottom")},resume:function(){cc.director.getPhysicsManager().enabled=!0,game.adsManager.removeBannerAds("bottom")},setCurLineLen:function(e){this.curLineLen=e,game.dispatcher.emit("update_line_progress",{lineLen:this.curLineLen})},getCurrentPencilProgress:function(){return Math.floor(100*Math.max(0,1-this.curLineLen/this.config.maxLineLen/3))},getCurrentStar:function(){var e=this.getCurrentPencilProgress();return e>=67?3:e>=34?2:1},onGameSuccess:function(){game.dispatcher.emit("game_success")},onGameFail:function(){this.stopPhysics(),game.dispatcher.emit("game_fail")},onGameEnd:function(){cc.director.getPhysicsManager().enabled=!1;var e=this;this.getCurrentStar()<3&&game.adsManager.isRewardVideoReady()?game.popupMan.popup3Star(this.getCurrentStar(),e.hintLevel===e.level,function(t){t?(game.analyseManager.trackEvent("watch_ads_3_star",{level:e.level}),e.curLineLen=0,e.onEnterPassScene()):e.onEnterPassScene()}):e.onEnterPassScene()},showHintLine:function(){this.hintLevel=this.level,game.dispatcher.emit("refresh_level")},onEnterPassScene:function(){game.analyseManager.missionCompleted(this.getMissionKey()),this.passedCount++,game.analyseManager.trackEvent("level_pass",{level:this.level}),game.gcManager.reportScore(this.level,game.config.getLeaderBoardKey("level")),game.playerMan.setLevel(this.level+1),this.setLevel(this.level+1)},onEnterNextLevel:function(){this.setLevel(this.level+1)},isLastLevel:function(){return game.configMan.isLastLevel(this.level+1)},stopPhysics:function(){cc.director.getPhysicsManager().enabled=!1},getStartBallSpriteFrame:function(){var e=cc.loader.getRes("atlas/skin_batch",cc.SpriteAtlas),t=game.configMan.getSkinConfig(game.playerMan.player.currentSkinId);return t?e.getSpriteFrame(t.image):null},isPackageUnlocked:function(e){var t=game.configMan.getPackage(e);return!(!t||!(game.playerMan.getLevel()>=t.start-1||t.start<=1))},getPackageStar:function(e){var t=game.configMan.getPackage(e);if(t){for(var i=0,n=0;n<t.count;++n){var a=t.start+n,o=game.playerMan.getLevelStar(a);o>0&&(i+=o)}return i}return 0},getPackageTotalStar:function(e){var t=game.configMan.getPackage(e);return t?3*t.count:0},getTotalStar:function(){return 3*game.configMan.getLevelList().length},getTotalWinStar:function(){for(var e=game.configMan.getLevelList(),t=0,i=0;i<e.length;++i){var n=game.playerMan.getLevelStar(e[i].levelId);n>0&&(t+=n)}return t},setCurrentPackageId:function(e){this.packageId=e},getCurrentPackageId:function(){return this.packageId},showAds:function(){game.adsHelper.showPassAds()},showRegisterNotification:function(){3===this.level&&game.gameLifeMan.registerNotification()},showAdsAndRate:function(){!this.rated&&this.passedCount>0&&this.passedCount%6==0&&3===this.getCurrentStar()?game.rateManager.launchAppReview()?this.rated=!0:game.popupMan.popupRateDlg(function(){this.rated=!0}.bind(this),function(){this.rated=!0,this.showAds()}.bind(this)):this.showAds()},shouldShowHint:function(){if(this.hintLevel>0&&this.hintLevel===this.level)return!0;return!1},shouldShowSkip:function(){return!(game.playerMan.player.level>this.level)&&(this.retryCount>0&&this.retryCount%5==0)},shouldShowSkipButton:function(){return!(game.playerMan.player.level>this.level)&&this.retryCount>=2},popupSkipDlg:function(){var e=this;game.popupMan.popupYesNoCommonDlg(game.i18n.t("skip_level_tips")+"\nX"+game.config.skipCoins,game.i18n.t("skip_title"),game.i18n.t("no_title"),function(){e.skipLevel()},function(){},!1,!0)},skipLevel:function(){game.storeMan.checkAndShowRewardVideo("skip_level",function(e){e&&(game.analyseManager.trackEvent("watch_ads_skip_level",{level:this.level}),this.hintLevel=-1,game.playerMan.setLevel(this.level+1),this.onEnterNextLevel(),this.checkAndEnterLevel(game.gameMan.level))}.bind(this))},checkAndEnterLevel:function(e){game.utils.loadSceneWithAnim("GameScene")},getWheelLeftTime:function(){return game.playerMan.getLastWheelTime()+this.FREE_WHEEL_HOURS*this.ONE_HOUR_SECONDS-Date.now()},isFreeWheel:function(){return this.getWheelLeftTime()<=0},checkWheel:function(){if(!this.showedWheel&&(this.showedWheel=!0,a.getInstance().getWheelLeftTime()<=0))return game.popupMan.popupWheelDlg(n.DailyBonus),!0;return!1},checkDailyBonus:function(){return!(game.playerMan.player.lastClaimDailyBonusDay>=game.utils.getDayByTs(Date.now()))&&(cc.log("game.popupMan.popupDailyBonus"),game.popupMan.popupDailyBonus(),!0)},checkAutoPopup:function(e){this.checkExpiredSkin()||this.checkDailyBonus()||this.checkWheel()},tryShowPassPopup:function(e){if(this.level>game.adsManager.popupLevelLimit&&this.passedCount>0&&this.passedCount-this.lastPopCount>=this.currentStep)if(this.lastPopCount=this.passedCount,3===this.currentStep?this.currentStep=2:this.currentStep=3,this.showedWatchAdsGetSkinCount<=this.showedWatchAdsOpenBoxCount){if(!this.checkWatchAdsGetSkin(e))return this.checkWatchAdsOpenBox(e)}else if(!this.checkWatchAdsOpenBox(e))return this.checkWatchAdsGetSkin(e);return!1},tryShowFailPopup:function(e){return this.level>game.adsManager.popupLevelLimit&&this.retryCount>0&&this.retryCount%2==0&&!this.checkWatchAdsGetDiamonds(e)&&this.checkWatchAdsOpenBox(e)},checkWatchAdsOpenBox:function(e){return!(this.showedWatchAdsOpenBoxCount>=game.adsManager.boxMaxPopCount)&&(game.popupMan.popupOpenGiftBox(function(t){t&&game.popupMan.popupWheelDlg(n.Box),e&&e(t)}),this.showedWatchAdsOpenBoxCount++,!0)},checkWatchAdsGetDiamonds:function(){return!1},checkWatchAdsGetSkin:function(e){if(this.showedWatchAdsGetSkinCount>=game.adsManager.skinMaxPopCount)return!1;for(var t,i=game.configMan.getSkinList(),n=[],a=0;a<i.length;++a){t=i[a];var o=game.playerMan.isSkinOwned(t.id),s=game.playerMan.isExperienceSkin(t.id);o||s||n.push(t)}if(n.length<=0)return!1;var c=game.utils.randomNextInt(n.length);return!!(t=n[c])&&(game.popupMan.popupFreeSkin(t,function(i){i&&(game.playerMan.setSkinTime(t.id),game.playerMan.setCurrentSkin(t.id),game.analyseManager.trackEvent("RVPurchaseSkin",{skinId:t.id}),game.popupMan.popupFreeSkinReward(t)),e&&e(i)}),this.showedWatchAdsGetSkinCount++,!0)},checkExpiredSkin:function(){var e=game.playerMan.player.currentSkinId,t=game.playerMan.player.skinTimeMap[e];return!!(t&&t<=Date.now())&&(game.popupMan.popupCommonDlg(_("skin_expire_tips")),game.playerMan.clearExperienceSkin(e),game.playerMan.setCurrentSkin(0),!0)},getRewardCoins:function(e,t){var i=game.config.rewardCoinsMap[t]||0,n=game.config.rewardCoinsMap[e]||0;return Math.max(n-i,0)}});a.sharedDirector=null,a.firstUseDirector=!0,a.getInstance=function(){return a.firstUseDirector&&(a.firstUseDirector=!1,a.sharedDirector=new a),a.sharedDirector},t.exports=a,cc._RF.pop()},{"../common/enum/AdsPlace":"AdsPlace","../enum/WheelType":"WheelType"}],GamePrepare:[function(e,t,i){"use strict";cc._RF.push(t,"97c7d/rdf1DgKlUUkQc2Z2U","GamePrepare");var n=e("Storage"),a=e("Config"),o=e("ConfigMan"),s=e("./common/manager/NotificationManager"),c=e("./common/manager/AnalyseManager"),r=e("./common/manager/StoreManager"),l=e("./common/manager/GCManager"),d=e("PlayerMan"),h=e("./common/manager/AdsManager"),u=e("./common/audio/AudioPlayer"),p=e("Utils"),g=e("ResMan"),f=e("./common/dispatcher/EventDispatcher"),m=e("./model/GameMan"),_=e("./model/PopupMan"),y=e("./common/popup/DialogManager"),v=e("./common/model/EffectMan"),C=e("./common/manager/ShareManager"),S=e("./common/manager/CrossPromManager"),w=e("LanguageData"),b=e("./model/StoreMan"),M=e("./model/GameLifeMan"),k=e("./common/manager/RateManager"),R=e("./common/util/AudioHelper"),L=e("./common/manager/HttpManager"),D=e("./model/AdsHelper"),P=e("./common/manager/RemoteConfigManager"),A=function(){cc.sys.isNative&&(window.jsb_dp?jsb_dp.oneSdkBridge=jsb_dp.OneSDKJSBridge.getInstance():(window.jsb_dp={},window.jsb_dp.oneSdkBridge={},window.jsb_dp.oneSdkBridge.unscheduleNotification=function(){},window.jsb_dp.oneSdkBridge.scheduleNotification=function(){},window.jsb_dp.oneSdkBridge.addVirtualCurrency=function(){},window.jsb_dp.oneSdkBridge.fetchRemoteConfig=function(){},window.jsb_dp.oneSdkBridge.getRemoteConfig=function(){},window.jsb_dp.oneSdkBridge.activateRemoteFetched=function(){},window.jsb_dp.oneSdkBridge.getProductsInfo=function(){},window.jsb_dp.oneSdkBridge.getUnverifiedReceiptList=function(){},window.jsb_dp.oneSdkBridge.initRateParams=function(){},window.jsb_dp.oneSdkBridge.launchRate=function(){},window.jsb_dp.oneSdkBridge.reportScore=function(){},window.jsb_dp.oneSdkBridge.isGameCenterAvailable=function(){},window.jsb_dp.oneSdkBridge.trackLogin=function(){},window.jsb_dp.oneSdkBridge.trackEvent=function(){},window.jsb_dp.oneSdkBridge.setPlayerLevel=function(){},window.jsb_dp.oneSdkBridge.showBannerAd=function(){},window.jsb_dp.oneSdkBridge.isShowBannerAd=function(){},window.jsb_dp.oneSdkBridge.missionBegan=function(){},window.jsb_dp.oneSdkBridge.missionCompleted=function(){},window.jsb_dp.oneSdkBridge.missionFailed=function(){},window.jsb_dp.oneSdkBridge.removeBannerAd=function(){},window.jsb_dp.oneSdkBridge.vibrateShort=function(){},window.jsb_dp.oneSdkBridge.vibrateLong=function(){},window.jsb_dp.oneSdkBridge.isShowNativeAd=function(){})),cc.PhysicsAABBQueryCallback.prototype.ReportFixture=function(e){e.GetBody();if(this._isPoint){if(e.TestPoint(this._point))return this._fixtures.push(e),!1}else this._fixtures.push(e);return!0};var e={};e.prepared||(e.prepared=!0,e.storage=n.getInstance(),e.config=a,e.configMan=o.getInstance(),e.utils=p,e.notificationManager=s.getInstance(),e.analyseManager=c.getInstance(),e.storeManager=r.getInstance(),e.gcManager=l.getInstance(),e.rateManager=k.getInstance(),e.playerMan=d.getInstance(),e.resMan=g.getInstance(),e.dispatcher=f.getInstance(),e.gameMan=m.getInstance(),e.adsManager=h.getInstance(),e.audioPlayer=u.getInstance(),e.popupMan=_,e.dialogManager=y.getInstance(),e.effectMan=v.getInstance(),e.shareManager=C.getInstance(),e.crossPromMan=S.getInstance(),e.i18n=w,e.storeMan=b.getInstance(),e.gameLifeMan=M.getInstance(),e.audioHelper=R,e.httpManager=L.getInstance(),e.adsHelper=D.getInstance(),e.remoteConfig=P.getInstance()),window.game=e,window._=function(t){return e.i18n.t(t)},e.gameLifeMan.startGame(),e.adsManager.init()};cc.isUndefined=function(e){return void 0===e};var B=function(e){w.init("en"),game.playerMan.initData(),game.resMan.preload(function(){game.configMan.reload(),e&&e()})};t.exports.start=function(){window.started||(window.started=!0,A())},t.exports.initData=function(e){window.initedData?e&&e():(window.initedData=!0,B(e))},cc._RF.pop()},{"./common/audio/AudioPlayer":"AudioPlayer","./common/dispatcher/EventDispatcher":"EventDispatcher","./common/manager/AdsManager":"AdsManager","./common/manager/AnalyseManager":"AnalyseManager","./common/manager/CrossPromManager":"CrossPromManager","./common/manager/GCManager":"GCManager","./common/manager/HttpManager":"HttpManager","./common/manager/NotificationManager":"NotificationManager","./common/manager/RateManager":"RateManager","./common/manager/RemoteConfigManager":"RemoteConfigManager","./common/manager/ShareManager":"ShareManager","./common/manager/StoreManager":"StoreManager","./common/model/EffectMan":"EffectMan","./common/popup/DialogManager":"DialogManager","./common/util/AudioHelper":"AudioHelper","./model/AdsHelper":"AdsHelper","./model/GameLifeMan":"GameLifeMan","./model/GameMan":"GameMan","./model/PopupMan":"PopupMan","./model/StoreMan":"StoreMan",Config:"Config",ConfigMan:"ConfigMan",LanguageData:"LanguageData",PlayerMan:"PlayerMan",ResMan:"ResMan",Storage:"Storage",Utils:"Utils"}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"26875kqBIdPPr9pm2+7tkD1","GameScene");var n=e("../enum/GameStep"),a=e("../entity/ElementPool");cc.Class({extends:e("BaseScene"),properties:{rigidBall:cc.RigidBody,gameNode:cc.Node,progress:cc.ProgressBar,lbStartLevel:cc.Label,lbNextLevel:cc.Label,lbDistance:cc.Label,gameStep:-1,touchId:-1,lastBallY:0,stoped:!0,startBallPos:null},onBackClicked:function(){},onLoad:function(){this._super(),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this),game.dispatcher.on("game_fail",this.onGameFail,this),game.dispatcher.on("game_success",this.onGameSuccess,this),this.gameStep=n.PRE_START,this.initPhysics(),this.initGame()},onDestroy:function(){this._super(),game.dispatcher.off("game_success",this.onGameSuccess,this),game.dispatcher.off("game_fail",this.onGameFail,this),this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this)},initGame:function(){this.initElementPool(),this.initBall(),this.initUI(),this.gameStep=n.START},initUI:function(){this.lbStartLevel.string=game.gameMan.level,this.lbNextLevel.string=game.gameMan.level+1},initPhysics:function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,-1e3)},initElementPool:function(){this._pool=new a,this._pool.setObstacleIds(game.gameMan.config.obstacles),this._pool.startGame(this.gameNode,this.rigidBall.node)},initBall:function(){this.lastBallY=this.rigidBall.node.y,this.rigidBall=this.rigidBall.node.getComponent(cc.RigidBody),this.startBallPos=this.rigidBall.node.getPosition()},start:function(){this._super()},onTouchStart:function(e){return cc.log("apply impulse"),this.rigidBall&&(cc.loader.loadRes("audio/jump",function(e,t){cc.audioEngine.playEffect(t,!1)}),this.rigidBall.linearVelocity=cc.v2(0,0),this.rigidBall.applyLinearImpulse(cc.v2(0,1e3),this.rigidBall.getWorldCenter())),!1},onTouchMove:function(e){cc.log("GameScene onTouchMove")},onTouchEnd:function(e){cc.log("GameScene onTouchEnd")},onTouchCancel:function(e){this.onTouchEnd(e)},update:function(){this.gameStep===n.START&&(this.updateObstaclePool(),this.updateProgress())},updateProgress:function(){this.lbDistance.string=Math.floor(this._pool.getDistance()/50);var e=Math.min(this._pool.getDistance()/this._pool.getTotalDistance(),1);this.progress.progress=e},updateObstaclePool:function(){this.lastBallY>this.rigidBall.node.y&&(this.lastBallY=this.rigidBall.node.y,this.gameNode.y=-this.rigidBall.node.y+this.startBallPos.y,this._pool.updateItems(this.gameNode.y),this.rigidBall.syncPosition())},onGameFail:function(){game.audioPlayer.playEffectByKey("audio/explode"),this.gameStep=n.END,this.rigidBall.node.active=!1,this.showDieAnim(this.rigidBall.node.getPosition()),setTimeout(function(){game.popupMan.popupCommonDlg("failed",function(){game.utils.loadSceneWithAnim("GameScene")})},1e3)},onGameSuccess:function(){game.audioPlayer.playEffectByKey("audio/success"),this.gameStep=n.END,this.rigidBall.node.active=!1,this.showSuccessAnim(this.rigidBall.node.getPosition()),game.gameMan.onEnterPassScene(),setTimeout(function(){game.popupMan.popupCommonDlg("success",function(){game.configMan.isLastLevel(game.gameMan.level)?game.popupMan.popupCommonDlg(game.i18n.t("all_completed"),function(){game.utils.loadSceneWithAnim("MenuScene")}):game.utils.loadSceneWithAnim("GameScene")})},1e3)},showDieAnim:function(e){var t=cc.loader.getRes("prefabs/split_particle",cc.Prefab),i=cc.instantiate(t);this.gameNode.addChild(i),i.setPosition(e)},showSuccessAnim:function(e){var t=cc.loader.getRes("prefabs/success_particle",cc.Prefab),i=cc.instantiate(t);this.gameNode.addChild(i),i.setPosition(e)}}),cc._RF.pop()},{"../entity/ElementPool":"ElementPool","../enum/GameStep":"GameStep",BaseScene:"BaseScene"}],GameStep:[function(e,t,i){"use strict";cc._RF.push(t,"0b5bbx9GWpJiKDveFopmS0B","GameStep");t.exports={PRE_START:0,START:1,END:2},cc._RF.pop()},{}],Game:[function(e,t,i){"use strict";cc._RF.push(t,"e7c9bO7F+hPWLqyo1CBgpUv","Game");var n=cc.Class({extends:cc.Component,statics:{instance:null},onLoad:function(){},start:function(){},startPhysicsGravity:function(){},update:function(e){},onGameSuccess:function(){}});t.exports=n,cc._RF.pop()},{}],GetItemComponent:[function(e,t,i){"use strict";cc._RF.push(t,"72f8caXH8BAn7Bnr08kzEhu","GetItemComponent");e("../enum/WheelType"),e("../common/wheel/Wheel"),e("../enum/ItemType");var n=e("../component/PlayerBall");cc.Class({extends:cc.Component,properties:{sprBall:cc.Sprite,spYellows:[cc.Node],sprReward:cc.Sprite,lblReward:cc.Label,config:null,rewardName:null,watched:!1,closeCallback:null},onLoad:function(){},initWithSkinReward:function(e,t){this.closeCallback=t;var i=this.sprBall.addComponent(n);i.addSkin(game.utils.getSpriteFrame("atlas/skin_batch",e.image)),i.showNormal(),game.audioPlayer.playEffectByKey("audio/get_item")},initWithSkin:function(e,t){this.rewardName="get_skin_in_pass",this.closeCallback=t;var i=this.sprBall.addComponent(n);i.addSkin(game.utils.getSpriteFrame("atlas/skin_batch",e.image)),i.showNormal(),game.audioPlayer.playEffectByKey("audio/open_box")},initWith3Star:function(e,t,i){this.rewardName="3_star";for(var n=0;n<3;++n)this.spYellows[n].active=!1;for(n=0;n<3;++n)this.spYellows[n].active=e>=n+1;this.watched=t,this.closeCallback=i},initWithGiftBox:function(e){this.rewardName="gift_box",this.closeCallback=e,game.audioPlayer.playEffectByKey("audio/open_box")},initWithRewardDouble:function(e,t,i,n){this.rewardName=i,this.closeCallback=n,game.utils.setSpriteFrame(this.sprReward,"atlas/menu_batch",e),this.lblReward.string="x"+t,game.audioPlayer.playEffectByKey("audio/get_item")},initWithItemReward:function(e,t,i){this.closeCallback=i,game.utils.setSpriteFrame(this.sprReward,"atlas/menu_batch",e),this.lblReward.string="x"+t,game.audioPlayer.playEffectByKey("audio/get_item")},onWatchAdsClicked:function(){game.audioHelper.playBtnSound(),this.watched?this.close():game.storeMan.checkAndShowRewardVideo(this.rewardName,function(e){e&&(this.watched=!0,this.close())}.bind(this))},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node),this.closeCallback&&(this.closeCallback(this.watched),this.closeCallback=null)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../component/PlayerBall":"PlayerBall","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],GravityToggle:[function(e,t,i){"use strict";cc._RF.push(t,"f9945jC4ZxPgqSO6qNyAr1p","GravityToggle"),cc.Class({extends:cc.Component,properties:{changed:!1,currentGravity:"",lastWorldGravity:""},onLoad:function(){this.node.scaleY<0?this.currentGravity="normal":this.currentGravity="anti"},updateGravity:function(){var e=game.gameMan.getWorldGravity();cc.loader.loadRes("atlas/shape_batch",cc.SpriteAtlas,function(t,i){var n="spr_gravity_gray";e===this.currentGravity&&(n="spr_gravity_light"),this.getComponent(cc.Sprite).spriteFrame=i.getSpriteFrame(n)}.bind(this))},onBeginContact:function(e,t,i){200===i.tag&&(this.changed||(this.changed=!0,game.gameMan.changeToGravity(this.currentGravity),this.updateGravity()))},onEndContact:function(e,t,i){this.changed=!1},onPreSolve:function(e,t,i){},onPostSolve:function(e,t,i){},update:function(e){window.game&&this.lastWorldGravity!==game.gameMan.getWorldGravity()&&(this.lastWorldGravity=game.gameMan.getWorldGravity(),this.updateGravity())}}),cc._RF.pop()},{}],HttpClient:[function(e,t,i){"use strict";cc._RF.push(t,"224b7nixDtFAoK30Nc0bxFy","HttpClient");var n={doGet:function(e,t){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){if(4===i.readyState&&i.status>=200&&i.status<300){var e=i.responseText;t(null,e)}else t(i.statusText)},i.open("GET",e,!0),cc.sys.isNative&&i.setRequestHeader("Accept-Encoding","gzip,deflate"),i.timeout=5e3,i.send()},doPost:function(e,t,i,n){var a=cc.loader.getXMLHttpRequest();for(var o in a.onreadystatechange=function(){if(cc.log("xhr.readyState="+a.readyState+"  xhr.status="+a.status),4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;n(null,e)}else n(a.statusText)},i)i.hasOwnProperty(o)&&a.setRequestHeader(o,i[o]);a.open("POST",e,!0),cc.sys.isNative&&a.setRequestHeader("Accept-Encoding","gzip,deflate"),a.timeout=5e3;try{a.send(t)}catch(e){}}};t.exports=n,cc._RF.pop()},{}],HttpManager:[function(e,t,i){"use strict";cc._RF.push(t,"80b03IabxZG9JbWSuzNbH3d","HttpManager");var n=cc.Class({statics:{instance:null},doGet:function(e,t){var i=cc.loader.getXMLHttpRequest();i.onreadystatechange=function(){4===i.readyState&&i.status>=200&&i.status<300&&t(null,i.responseText)},i.open("GET",e,!0),i.send()},doPost:function(e,t,i,n){var a=cc.loader.getXMLHttpRequest();for(var o in i)a.setRequestHeader(o,i[o]);a.onreadystatechange=function(){if(cc.log("xhr.readyState="+a.readyState+"  xhr.status="+a.status),4===a.readyState&&a.status>=200&&a.status<300){var e=a.responseText;n(e)}else n(a.status,a.statusText)},a.open("POST",e),a.send(t)}});n.getInstance=function(){return null==n.instance&&(n.instance=new n),n.instance},t.exports=n,cc._RF.pop()},{}],IAPData:[function(e,t,i){"use strict";cc._RF.push(t,"9c2c1QqxOlOzLDS+zenjfRH","IAPData");t.exports=function(e,t,i){this.productId=e,this.price=t,this.productNum=i},cc._RF.pop()},{}],ItemType:[function(e,t,i){"use strict";cc._RF.push(t,"9ca57bZJfVDupqNxnt9dSK0","ItemType");t.exports={Coin:1,Skin:2},cc._RF.pop()},{}],LanguageData:[function(e,t,i){"use strict";cc._RF.push(t,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var n=e("polyglot.min"),a=null;function o(e){return window.i18n.languages[e]}function s(e){e&&(a?a.replace(e):a=new n({phrases:e,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),t.exports={init:function(e){if(e!==window.i18n.curLang){var t=o(e)||{};window.i18n.curLang=e,s(t),this.inst=a}},t:function(e,t){if(a)return a.t(e,t)},inst:a,updateSceneRenderers:function(){for(var e=cc.director.getScene().children,t=[],i=0;i<e.length;++i){var n=e[i].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(t,n)}for(var a=0;a<t.length;++a){var o=t[a];o.node.active&&o.updateLabel()}for(var s=[],c=0;c<e.length;++c){var r=e[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(s,r)}for(var l=0;l<s.length;++l){var d=s[l];d.node.active&&d.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LevelCell:[function(e,t,i){"use strict";cc._RF.push(t,"939a6+N+1NCx6I27VdE+0VG","LevelCell"),cc.Class({extends:e("viewCell"),properties:{starWhite1:cc.Node,starWhite2:cc.Node,starWhite3:cc.Node,starYellow1:cc.Node,starYellow2:cc.Node,starYellow3:cc.Node,lockSprite:cc.Node,completedSprite:cc.Node,lbLevel:cc.Label,darkSprite:cc.Node,index:0,data:void 0},onLoad:function(){this.starWhites=[this.starWhite1,this.starWhite2,this.starWhite3],this.starYellows=[this.starYellow1,this.starYellow2,this.starYellow3]},init:function(e,t,i,n){if(cc.log("index:"+e),e>=t.array.length)this.node.active=!1;else{this.index=e,this.data=t.array[e];var a=this.data.levelId;this.lbLevel.string=game.i18n.t("level_title")+" "+a,this.lockSprite.active=!1,this.darkSprite.active=!1,this.completedSprite.active=!1;var o=0;a>game.playerMan.getLevel()?(this.lockSprite.active=!0,this.darkSprite.active=!0):a===game.playerMan.getLevel()||(this.completedSprite.active=!0,o=game.playerMan.getLevelStar(a));for(var s=0;s<3;++s){var c=o>s;this.starWhites[s].active=!c,this.starYellows[s].active=c}}},clicked:function(){this.data.levelId<=game.playerMan.getLevel()&&(game.audioHelper.playBtnSound(),game.gameMan.setLevel(this.data.levelId),game.gameMan.checkAndEnterLevel(this.data.levelId))}}),cc._RF.pop()},{viewCell:"viewCell"}],LevelConfig:[function(e,t,i){"use strict";cc._RF.push(t,"77b89JS5D1Pga4oqZEMGZ2p","LevelConfig");var n=function(){this.levelId=0,this.obstacles=[]};n.prototype.unmarshal=function(e){this.levelId=e.levelId,this.obstacles=e.obstacles},t.exports=n,cc._RF.pop()},{}],LevelScene:[function(e,t,i){"use strict";cc._RF.push(t,"61200XLJN9LZL/jq7KspOaf","LevelScene"),cc.Class({extends:e("BaseScene"),properties:{tableView:cc.Node},onLoad:function(){this._super(),this.initView(),game.adsManager.removeBannerAds("bottom");var e=cc.find("Canvas/bg");e&&game.effectMan.showBackgroundAnims(e)},initView:function(){var e=game.configMan.getLevelListByPackageId(game.gameMan.getCurrentPackageId());this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},start:function(){this._super()},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("ChapterScene"))}}),cc._RF.pop()},{BaseScene:"BaseScene"}],LinePhysicsCollider:[function(e,t,i){"use strict";cc._RF.push(t,"d5758YF7qlAU5j59/p8CY10","LinePhysicsCollider");var n=cc.PhysicsManager.PTM_RATIO,a=cc.Class({name:"LinePhysicsCollider",extends:cc.PhysicsCollider,mixins:[cc.Collider.Polygon],properties:{lineWidth:5},editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(e){for(var t=[],i=this.points,a=0;a<i.length-1;a++){var o=i[a],s=i[a+1],c=o.sub(s).mag(),r=Math.atan2(s.y-o.y,s.x-o.x)-Math.PI/2,l=o.add(s).mul(.5),d=new b2.PolygonShape;d&&(d.SetAsBox(this.lineWidth/2/n,c/2/n,new b2.Vec2(l.x/n,l.y/n),r),t.push(d))}return t}});t.exports=a,cc._RF.pop()},{}],LoadingScene:[function(e,t,i){"use strict";cc._RF.push(t,"e43484cq35P16D9yOAHZb+h","LoadingScene");var n=e("GamePrepare");cc.Class({extends:cc.Component,properties:{bgSprite:cc.Node},onLoad:function(){},start:function(){var e=this;e.bgSprite.opacity=0,setTimeout(function(){e.bgSprite.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(e.onEnteredScene,e)))},100)},onEnteredScene:function(){var e=this;n.start(),n.initData(function(){e.bgSprite.runAction(cc.sequence(cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(e.onEnterMenuScene.bind(e),e)))})},onEnterMenuScene:function(){game.utils.loadSceneWithAnim("MenuScene")}}),cc._RF.pop()},{GamePrepare:"GamePrepare"}],LocalizationManager:[function(e,t,i){"use strict";cc._RF.push(t,"b77f8UUiP1Ba5g37gEwBmHR","LocalizationManager");var n=cc.Class({_isLoaded:!1,curLanguage:null,ctor:function(){},reload:function(){this._isLoaded||(this.curLanguage=game.utils.loadJson("res/config/strings-zh.json"),this._isLoaded=!0)},getValue:function(e){return this.curLanguage[e]||e},isChinese:function(){return!0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],LocalizedLabel:[function(e,t,i){"use strict";cc._RF.push(t,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var n=e("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(e){this._dataID!==e&&(this._dataID=e,this.updateLabel())}},_dataID:""},onLoad:function(){n.inst||n.init(),this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Label);if(e)return this.label=e,void this.updateLabel()},updateLabel:function(){this.label?n.t(this.dataID)&&(this.label.string=n.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(e,t,i){"use strict";cc._RF.push(t,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var n=e("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:n}},onLoad:function(){this.fetchRender()},fetchRender:function(){var e=this.getComponent(cc.Sprite);if(e)return this.sprite=e,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(e){for(var t=0;t<this.spriteFrameSet.length;++t)if(this.spriteFrameSet[t].language===e)return this.spriteFrameSet[t].spriteFrame},updateSprite:function(e){if(this.sprite){var t=this.getSpriteFrameByLang(e);!t&&this.spriteFrameSet[0]&&(t=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=t}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],MenuScene:[function(e,t,i){"use strict";cc._RF.push(t,"7ae4egF1jBKrK/HLWz7wJzy","MenuScene");var n=e("../enum/WheelType");cc.Class({extends:e("BaseScene"),properties:{btnAudio:cc.Sprite,sprAudioOn:cc.SpriteFrame,sprAudioOff:cc.SpriteFrame,sprCoin:cc.Sprite,lbStar:cc.Label,lbWheelLeftTime:cc.Label},onLoad:function(){this._super()},onBackClicked:function(){if(!this.showed){var e=this;e.showed=!0,game.popupMan.popupYesNoCommonDlg(game.i18n.t("quit_game_tips"),game.i18n.t("exit_title"),game.i18n.t("cancel_title"),function(){game.gameLifeMan.scheduleLocalNotification(),cc.game.end(),e.showed=!1},function(){e.showed=!1},!1)}},refreshAudio:function(){game.audioPlayer.isEffectOn()?this.btnAudio.spriteFrame=this.sprAudioOn:this.btnAudio.spriteFrame=this.sprAudioOff},start:function(){this._super()},update:function(){this.lbWheelLeftTime.string=game.utils.getFormatTime(Math.floor(game.gameMan.getWheelLeftTime()/1e3))},onStartClicked:function(){game.audioHelper.playBtnSound(),console.log("Start button clicked!"),game.configMan.isLastLevel(game.playerMan.getLevel())?game.popupMan.popupCommonDlg(game.i18n.t("all_completed")):(game.gameMan.setLevel(game.playerMan.getLevel()),game.gameMan.checkAndEnterLevel(game.gameMan.level))},onChapterClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("ChapterScene")},onSkinClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupSkin()},onStoreClicked:function(){game.audioHelper.playBtnSound(),game.popupMan.popupStore()},onSettingClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("SettingScene")},onRankClicked:function(e){game.audioHelper.playBtnSound(),game.gcManager.showLeaderboard(game.config.getLeaderBoardKey("level"))},onSoundClicked:function(){game.audioHelper.playBtnSound(),game.audioPlayer.setEffectOn(!game.audioPlayer.isEffectOn()),game.audioPlayer.setMusicOn(!game.audioPlayer.isMusicOn()),this.refreshAudio(),game.audioPlayer.isMusicOn()&&!game.audioPlayer.isMusicPlaying()&&game.audioPlayer.playMusicByKey("audio/bg",!0)},onWheelClicked:function(e){game.audioHelper.playBtnSound(),game.popupMan.popupWheelDlg(n.DailyBonus)},onDailyBonusClicked:function(e){game.audioHelper.playBtnSound(),game.popupMan.popupDailyBonus()},onRemoveAdsClicked:function(t){game.audioHelper.playBtnSound();var i=e("../enum/StoreType"),n=game.storeMan.getStoreEntityByType(i.RemoveAds);game.storeMan.buyProduct(n)},onAddCoinsClicked:function(){}}),cc._RF.pop()},{"../enum/StoreType":"StoreType","../enum/WheelType":"WheelType",BaseScene:"BaseScene"}],ModalComponent:[function(e,t,i){"use strict";cc._RF.push(t,"d1774LufCFCHKhZPZbK3AYe","ModalComponent");var n=cc.Class({extends:cc.Component,onLoad:function(){},onEnable:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){e.stopPropagation()}),this.node.on(cc.Node.EventType.TOUCH_END,function(e){e.stopPropagation()})},onDisable:function(){this.node.off(cc.Node.EventType.TOUCH_START,function(e){e.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_MOVE,function(e){e.stopPropagation()}),this.node.off(cc.Node.EventType.TOUCH_END,function(e){e.stopPropagation()})}});t.exports=n,cc._RF.pop()},{}],NoticeComponent:[function(e,t,i){"use strict";cc._RF.push(t,"52390U3MZhG8oYvglTcG89l","NoticeComponent"),cc.Class({extends:cc.Component,properties:{ndYes:cc.Node,lbYes:cc.Label,ndNo:cc.Node,lbNo:cc.Label,ndOk:cc.Node,lbOk:cc.Label,lbTitle:cc.Label,lbInfo:cc.Label,spNotice:cc.Sprite,lbSprInfo:cc.Label,lbSprCount:cc.Label,fontNode:cc.Node,spriteNode:cc.Node,closeNode:cc.Node,okCallback:null,noCallback:null},onLoad:function(){},initWithYes:function(e,t){this.ndOk.active=!0,this.ndYes.active=!1,this.ndNo.active=!1,this.fontNode.active=!0,this.spriteNode.active=!1,this.lbInfo.string=e,this.lbOk.string=game.i18n.t("confirm_info"),this.okCallback=t,this.closeNode.active=!1},initWithYesNo:function(e,t,i,n,a,o,s){this.lbInfo.string=e,this.ndOk.active=!1,this.ndYes.active=!0,this.ndNo.active=!0,this.fontNode.active=!0,this.spriteNode.active=!1,this.lbYes.string=t,this.lbNo.string=i,this.okCallback=n,this.noCallback=a,this.closeNode.active=o,s&&(this.lbSprInfo.string=e,this.fontNode.active=!1,this.spriteNode.active=!0)},initWithRewardYes:function(e,t,i,n,a,o){this.ndOk.active=!0,this.ndYes.active=!1,this.ndNo.active=!1,this.fontNode.active=!1,this.spriteNode.active=!0,this.lbSprCount.string="x"+n,this.lbSprInfo.string=e,this.lbOk.string=game.i18n.t("confirm_info"),this.okCallback=t,this.closeNode.active=!1},popup:function(){game.dialogManager.popup(this.node)},okClicked:function(e){game.audioHelper.playBtnSound(),this.okCallback&&this.okCallback(),this.close()},cancelClicked:function(e){game.audioHelper.playBtnSound(),this.noCallback&&this.noCallback(),this.close()},closedClicked:function(e){game.audioHelper.playBtnSound(),this.noCallback&&this.noCallback(),this.close()},confirmClicked:function(e){game.audioHelper.playBtnSound(),this.okCallback&&this.okCallback(),this.close()},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],NotificationManager:[function(e,t,i){"use strict";cc._RF.push(t,"3f6b7/Ir/JPgaVQiyaE01U6","NotificationManager");var n=cc.Class({ctor:function(){},registerNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.registerNotification()},scheduleNotification:function(e,t,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.scheduleNotification(e,t,i,n)},unscheduleNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.unscheduleNotification()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],NumComponent:[function(e,t,i){"use strict";cc._RF.push(t,"85646tizIZIpJ1aSpurFtni","NumComponent"),cc.Class({extends:cc.Component,properties:{animing:!1,startNum:0,endNum:0,time:.8,step:0},onLoad:function(){this.label=this.getComponent(cc.Label)},playNumAnim:function(e,t){this.animing=!0,this.startNum=e,this.endNum=t,this.elapsedTime=0,this.step=(this.endNum-this.startNum)/this.time},update:function(e){this.animing&&(this.elapsedTime+=e,this.label.string=Math.floor(this.startNum+this.step*this.elapsedTime),this.elapsedTime>=this.time&&(this.label.string=this.endNum,this.animing=!1))}}),cc._RF.pop()},{}],ObstacleDrop:[function(e,t,i){"use strict";cc._RF.push(t,"d8caaoyi5BPvZT4HgzaCZb1","ObstacleDrop");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{droped:!1},onLoad:function(){this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){var e,t,i=a.getWorldPosition(this.ball);for(e=0;e<this.obstacles.length;++e)!(t=this.obstacles[e]).moved&&i.y-a.getWorldPosition(t.node).y<50&&(e%2==0?this.move(t,"left"):this.move(t,"right"))},move:function(e,t){e.type=cc.RigidBodyType.Dynamic,e.gravityScale=0,e.angularVelocity="left"===t?100:-100,e.moved=!0}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],ObstacleInAndSeperate:[function(e,t,i){"use strict";cc._RF.push(t,"1dff4dkLEJKh5ZXrMysERiQ","ObstacleInAndSeperate");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){for(var e=a.getWorldPosition(this.ball),t=0;t<this.obstacles.length;++t){var i=this.obstacles[t];!i.moved&&e.y-a.getWorldPosition(i.node).y<150&&(t%2==0?this.move(i,"left"):this.move(i,"right"))}},move:function(e,t){"left"===t?e.node.runAction(cc.sequence(cc.moveBy(.2,50,0),cc.delayTime(2),cc.moveBy(.6,-500,0))):e.node.runAction(cc.sequence(cc.moveBy(.2,-50,0),cc.delayTime(2),cc.moveBy(.6,500,0))),e.moved=!0}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],ObstacleLeftRight:[function(e,t,i){"use strict";cc._RF.push(t,"63e22dTJAtLnL9mBT4y23cq","ObstacleLeftRight");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{},onLoad:function(){this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){for(var e=a.getWorldPosition(this.ball),t=0;t<this.obstacles.length;++t){var i=this.obstacles[t];!i.moved&&e.y-a.getWorldPosition(i.node).y<150&&(t%2==0?this.move(i,"left"):this.move(i,"right"))}},move:function(e,t){"left"===t?e.node.runAction(cc.sequence(cc.delayTime(.4),cc.moveBy(.6,-1e3,0))):e.node.runAction(cc.sequence(cc.delayTime(.4),cc.moveBy(.6,1e3,0))),e.moved=!0}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],ObstacleMoveAll:[function(e,t,i){"use strict";cc._RF.push(t,"e0274SN//NJTKNJ8txgG4A0","ObstacleMoveAll");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{leftPrefabNode:cc.Node,rightPrefabNode:cc.Node,generateDelta:5,leftLineVelocity:cc.Vec2,rightLineVelocity:cc.Vec2},onLoad:function(){this._super()},onDestroy:function(){clearInterval(this.intervalKey),this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){var e=a.getWorldPosition(this.ball);!this.leftPrefabNode.moved&&e.y-a.getWorldPosition(this.leftPrefabNode).y<1e3&&(this.leftPrefabNode.moved=!0,this.intervalKey=setInterval(this.onGenerateObstacle.bind(this),1e3*this.generateDelta),this.onGenerateObstacle())},onGenerateObstacle:function(){var e=cc.instantiate(this.rightPrefabNode);this.rightPrefabNode.parent.addChild(e),i=e.getComponent(cc.RigidBody),this.obstacles.push(i),i.linearVelocity=this.rightLineVelocity;var t=cc.instantiate(this.leftPrefabNode);this.leftPrefabNode.parent.addChild(t);var i=t.getComponent(cc.RigidBody);this.obstacles.push(i),i.linearVelocity=this.leftLineVelocity}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],ObstacleMove:[function(e,t,i){"use strict";cc._RF.push(t,"e8409ij8aZOqIZSYA9xHwz5","ObstacleMove");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{prefabNode:cc.Node,generateDelta:5,lineVelocity:cc.Vec2},onLoad:function(){this._super()},onDestroy:function(){clearInterval(this.intervalKey),this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){var e=a.getWorldPosition(this.ball);!this.prefabNode.moved&&e.y-a.getWorldPosition(this.prefabNode).y<1e3&&(this.prefabNode.moved=!0,this.intervalKey=setInterval(this.onGenerateObstacle.bind(this),1e3*this.generateDelta),this.onGenerateObstacle())},onGenerateObstacle:function(){var e=cc.instantiate(this.prefabNode);this.prefabNode.parent.addChild(e);var t=e.getComponent(cc.RigidBody);this.obstacles.push(t),t.linearVelocity=this.lineVelocity}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],ObstacleParticle:[function(e,t,i){"use strict";cc._RF.push(t,"2e9808n9UpF2q8X19XdUnev","ObstacleParticle");var n=e("./Obstacle"),a=e("../common/util/Utils");cc.Class({extends:n,properties:{leftPrefabNode:cc.Node,rightPrefabNode:cc.Node,generateDelta:5,leftLineVelocity:cc.Vec2,rightLineVelocity:cc.Vec2},onLoad:function(){this._super()},onDestroy:function(){clearInterval(this.intervalKey),this._super()},update:function(e){this._super(e),this.updateObstacleSpeed()},updateObstacleSpeed:function(){var e=a.getWorldPosition(this.ball);!this.leftPrefabNode.moved&&e.y-a.getWorldPosition(this.leftPrefabNode).y<1e3&&(this.leftPrefabNode.moved=!0,this.intervalKey=setInterval(this.onGenerateObstacle.bind(this),1e3*this.generateDelta),this.onGenerateObstacle())},onGenerateObstacle:function(){var e=cc.instantiate(this.rightPrefabNode);this.rightPrefabNode.parent.addChild(e);var t=e.getComponent(cc.RigidBody);t.type=cc.RigidBodyType.Dynamic,this.obstacles.push(t),t.linearVelocity=this.rightLineVelocity;var i=cc.instantiate(this.leftPrefabNode);this.leftPrefabNode.parent.addChild(i),(t=i.getComponent(cc.RigidBody)).type=cc.RigidBodyType.Dynamic,this.obstacles.push(t),t.linearVelocity=this.leftLineVelocity}}),cc._RF.pop()},{"../common/util/Utils":"Utils","./Obstacle":"Obstacle"}],Obstacle:[function(e,t,i){"use strict";cc._RF.push(t,"213e5zlj9FCw72/Jv4vGaj1","Obstacle"),cc.Class({extends:cc.Component,properties:{obstacles:[cc.RigidBody]},initBall:function(e){this.ball=e},onLoad:function(){this.sync()},onDestroy:function(){this.ball=null},update:function(){this.sync()},sync:function(){for(var e=0;e<this.obstacles.length;++e)this.obstacles[e].syncPosition(),this.obstacles[e].syncRotation()}}),cc._RF.pop()},{}],PackageCell:[function(e,t,i){"use strict";cc._RF.push(t,"88cf19CTlRI4ZEuNBzf8ZpJ","PackageCell"),cc.Class({extends:e("viewCell"),properties:{lbChapterTitle:cc.Label,lbStarCount:cc.Label,ndLock:cc.Node,index:0,data:void 0},onLoad:function(){},init:function(e,t,i,n){if(cc.log("index:"+e),e>=t.array.length)this.node.active=!1;else{if(this.index=e,this.data=t.array[e],this.ndLock.active=!1,game.gameMan.isPackageUnlocked(this.data.id)){var a=game.gameMan.getPackageStar(this.data.id),o=game.gameMan.getPackageTotalStar(this.data.id);this.lbStarCount.string=a+"/"+o}else this.ndLock.active=!0;this.lbChapterTitle.string=this.data.start+"-"+(this.data.start+this.data.count-1)}},clicked:function(){game.audioHelper.playBtnSound(),this.ndLock.active?game.popupMan.popupCommonDlg(game.i18n.t("finish_tips")):(game.gameMan.setCurrentPackageId(this.data.id),game.utils.loadSceneWithAnim("LevelScene"))}}),cc._RF.pop()},{viewCell:"viewCell"}],PackageConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e422dd0gudEWpzI2bWNTI1f","PackageConfig");var n=function(){this.id=0,this.start=0,this.count=0,this.nameKey="",this.image="",this.unlockStar=0};n.prototype.unmarshal=function(e){this.id=e.id,this.start=e.start,this.count=e.count,this.nameKey=e.nameKey,this.image=e.image,this.unlockStar=e.unlockStar},t.exports=n,cc._RF.pop()},{}],PackageScene:[function(e,t,i){"use strict";cc._RF.push(t,"91972q+j0dI4Y/xmeoGdojo","PackageScene"),cc.Class({extends:e("BaseScene"),properties:{tableView:cc.Node},onLoad:function(){this._super(),this.initView(),game.adsManager.removeBannerAds("bottom");var e=cc.find("Canvas/bg");e&&game.effectMan.showBackgroundAnims(e)},initView:function(){var e=game.configMan.getPackageList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},start:function(){this._super()},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene"))}}),cc._RF.pop()},{BaseScene:"BaseScene"}],PassScene:[function(e,t,i){"use strict";cc._RF.push(t,"59c2dawYxtFm6uwuNwc/NSl","PassScene");var n=e("../enum/WheelType");cc.Class({extends:e("BaseScene"),properties:{yellowStar1:cc.Node,yellowStar2:cc.Node,yellowStar3:cc.Node,sprCoins:cc.Node,lbCoins:cc.Label,startSprCoins:cc.Node,ndStarCoins:cc.Node,ndFreeCoins:cc.Node,ndWheel:cc.Node},onLoad:function(){this._super();var e=game.gameMan.getCurrentStar();this.yellowStar1.active=e>=1,this.yellowStar2.active=e>=2,this.yellowStar3.active=e>=3;var t=this.getCurrentRewardCoins();0===t?this.ndStarCoins.active=!1:(this.ndStarCoins.active=!0,this.lbCoins.string=t),game.adsManager.showBannerAds("bottom");var i=cc.find("Canvas/bg");i&&game.effectMan.showBackgroundAnims(i),game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this),this.ndFreeCoins.active=!1,this.ndWheel.active=!1,game.gameMan.level%5==0?this.ndWheel.active=!0:this.ndFreeCoins.active=!0,this.updateNativeAd()},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this),game.effectMan.stoped=!0,this.removeNativeAd(),this._super()},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PassComponent updateNativeAd"),game.dialogManager.hasDialog()?this.removeNativeAd():this.showNativeAd()},showNativeAd:function(){cc.log("PassComponent showNativeAd"),game.adsManager.showNativeAd("pass",0,0)},removeNativeAd:function(){game.adsManager.removeNativeAd("pass")},start:function(){this.node.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(this.doClaimCoins,this))),this.node.runAction(cc.sequence(cc.delayTime(1.8),cc.callFunc(this.showRateAndAds,this)));for(var e=0;e<game.gameMan.getCurrentStar();++e)setTimeout(function(e){return function(){game.audioPlayer.vibrateShort(),game.audioPlayer.playEffectByKey("audio/star_"+(e+1))}}(e),300*(e+1))},getCurrentRewardCoins:function(){return!game.gameMan.isLevelRewardClaimed(game.gameMan.level)&&game.gameMan.currentRewardCoins>0?game.gameMan.currentRewardCoins:0},doClaimCoins:function(){if(this.getCurrentRewardCoins()>0){var e=this.startSprCoins.parent.convertToWorldSpaceAR(this.startSprCoins.getPosition()),t=this.sprCoins.parent.convertToWorldSpaceAR(this.sprCoins.getPosition());game.effectMan.playFlyCoins(this.node,e,t,10,function(){game.playerMan.addCoins(game.gameMan.currentRewardCoins,"level_pass")},function(){})}},showRateAndAds:function(){var e=function(){game.gameMan.checkExpiredSkin()||game.gameMan.showAdsAndRate()};game.gameMan.tryShowPassPopup(function(t){t||e()})||e()},onNextClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.showRegisterNotification(),game.gameMan.isLastLevel()?game.popupMan.popupCommonDlg(game.i18n.t("all_completed"),function(){game.utils.loadSceneWithAnim("MenuScene")}):this.clicked||(this.clicked=!0,game.gameMan.onEnterNextLevel(),game.gameMan.checkAndEnterLevel(game.gameMan.level))},onBackClicked:function(){if(!this.showed){this.showed=!0,game.audioHelper.playBtnSound();var e=game.configMan.getPackageByLevelId(game.gameMan.level);game.gameMan.setCurrentPackageId(e.id),game.utils.loadSceneWithAnim("LevelScene")}},onRetryClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("newlevel-"+game.gameMan.level)},onHomeClicked:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene")},onWheelClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pass_box",function(e){e&&game.popupMan.popupWheelDlg(n.Box)})},onFreeCoinsClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pass_coins",null,"RVPassCoins")}}),cc._RF.pop()},{"../enum/WheelType":"WheelType",BaseScene:"BaseScene"}],PauseComponent:[function(e,t,i){"use strict";cc._RF.push(t,"342a4ROh31D0oCcemFyKiya","PauseComponent"),cc.Class({extends:cc.Component,properties:{homeCallback:null,continueCallback:null,retryCallback:null},onLoad:function(){game.dispatcher.on("dialog_poped",this.onDialogPoped,this),game.dispatcher.on("dialog_closed",this.onDialogClosed,this)},onDestroy:function(){game.dispatcher.off("dialog_poped",this.onDialogPoped,this),game.dispatcher.off("dialog_closed",this.onDialogClosed,this)},onDialogPoped:function(){this.updateNativeAd()},onDialogClosed:function(){this.updateNativeAd()},updateNativeAd:function(){cc.log("PauseComponent updateNativeAd"),game.dialogManager.isTopestDialog(this.node)?this.showNativeAd():this.removeNativeAd()},showNativeAd:function(){cc.log("PauseComponent showNativeAd"),game.adsManager.showNativeAd("pause",0,100)},removeNativeAd:function(){game.adsManager.removeNativeAd("pause")},initWith:function(e,t,i){this.homeCallback=e,this.continueCallback=t,this.retryCallback=i},onHomeClicked:function(){game.audioHelper.playBtnSound(),this.homeCallback&&this.homeCallback(),this.close()},onContinueClicked:function(){game.audioHelper.playBtnSound(),this.continueCallback&&this.continueCallback(),this.close()},onRetryClicked:function(){game.audioHelper.playBtnSound(),this.retryCallback&&this.retryCallback(),this.close()},onFreeCoinsClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("pause_coins",null,"RVPauseCoins")},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],PaymentCode:[function(e,t,i){"use strict";cc._RF.push(t,"35e29m621tLi5DuVctekfRd","PaymentCode");t.exports={PAYMENT_CODE_SUCCESS:0,PAYMENT_CODE_FAIL:1},cc._RF.pop()},{}],PaymentInfo:[function(e,t,i){"use strict";cc._RF.push(t,"490cdmQ0LRAgrseVc5XbCZv","PaymentInfo");var n=function(){this.purchaseId=null,this.productId=null,this.receipt=null,this.signature=null,this.info=""};n.prototype.unmarshal=function(e){this.purchaseId=e.purchaseId||"",this.productId=e.productId||"",this.receipt=e.receipt||"",this.signature=e.signature||"",this.info=e.info||""},t.exports=n,cc._RF.pop()},{}],PlayerBall:[function(e,t,i){"use strict";cc._RF.push(t,"0cf00i/mSNCp7JNe1CD+o/j","PlayerBall");var n=0,a=1,o=2;cc.Class({extends:cc.Animation,properties:{animStep:0,lastDt:0,collided:!1},onBeginContact:function(e,t,i){if(100===i.tag){if(this.collided)return;this.collided=!0,game.gameMan.onGameSuccess()}else if(101===i.tag){if(this.collided)return;this.collided=!0,game.gameMan.onGameFail()}},onEndContact:function(e,t,i){},onPreSolve:function(e,t,i){},onPostSolve:function(e,t,i){},onLoad:function(){var e=this._createAnimClip("ball_normal_","normal",8);this.addClip(e);var t=this._createAnimClip("ball_happy_","happy",6);this.addClip(t);var i=this._createAnimClip("ball_angry_","angry",5);this.addClip(i),this.play("normal")},addSkin:function(e){var t=new cc.Node("skin");t.addComponent(cc.Sprite).spriteFrame=e,t.y=10,this.node.addChild(t)},_createAnimClip:function(e,t,i){for(var n=cc.loader.getRes("atlas/ball_batch",cc.SpriteAtlas),a=[],o=1;o<=i;++o)a.push(n.getSpriteFrame(e+o));var s=cc.AnimationClip.createWithSpriteFrames(a,4);return s.name=t,s.wrapMode=cc.WrapMode.Loop,s},showHappy:function(){this.checkAndShow(a)},showAngry:function(){this.checkAndShow(o)},showNormal:function(){this.checkAndShow(n)},checkAndShow:function(e){if(e!==this.animStep&&this.animStep!==a&&!(Date.now()-this.lastDt<500))switch(this.lastDt=Date.now(),this.animStep=e,e){case o:this.play("angry");break;case a:this.play("happy");break;case n:this.play("normal")}},update:function(e){}}),cc._RF.pop()},{}],PlayerInfo:[function(e,t,i){"use strict";cc._RF.push(t,"28e5fVLdExMd56mCDT4lvR0","PlayerInfo");var n=function(){this.playerId="",this.bestScore=0,this.removedAds=!1,this.level=0,this.levelsMap=null,this.rated=!1,this.skins=[],this.currentSkinId=0,this.coins=0,this.firstEnter=!0,this.lastWheelTime=0,this.interstitialAdCount=0,this.rewardedAdCount=0,this.createDt=0,this.lastLoginDay=0,this.consecutiveLoginDays=1,this.lastClaimDailyBonusDay=0,this.rewardAdCountPerDay={},this.rewardAdRecordDay=0,this.iapCount=0,this.skinTimeMap={}};n.prototype.unmarshall=function(e){this.playerId=e.playerId,this.bestScore=e.bestScore||0,this.removedAds=e.removedAds||!1,this.level=e.level||1,this.levelsMap=e.levelsMap||{},this.rated=e.rated||!1,this.currentSkinId=e.currentSkinId||0,this.coins=e.coins||0,this.skins=e.skins||[0],this.firstEnter=e.firstEnter||!0,this.lastWheelTime=e.lastWheelTime||Date.now(),this.interstitialAdCount=e.interstitialAdCount||0,this.rewardedAdCount=e.rewardedAdCount||0,this.createDt=e.createDt||Date.now(),this.lastLoginDay=e.lastLoginDay||0,this.consecutiveLoginDays=e.consecutiveLoginDays||1,this.lastClaimDailyBonusDay=e.lastClaimDailyBonusDay||0,this.rewardAdCountPerDay=e.rewardAdCountPerDay||0,this.rewardAdRecordDay=e.rewardAdRecordDay||0,this.iapCount=e.iapCount||0,this.skinTimeMap=e.skinTimeMap||{}},n.createDefault=function(){var e=new n;return e.hintsCount=5,e.bestScore=0,e.removedAds=!1,e.level=1,e.levelsMap={},e.rated=!1,e.lastWheelTime=Date.now(),e.currentSkinId=0,e.coins=50,e.skins=[0],e.firstEnter=!0,e.interstitialAdCount=0,e.rewardedAdCount=0,e.createDt=Date.now(),e.lastLoginDay=0,e.consecutiveLoginDays=1,e.lastClaimDailyBonusDay=0,e.rewardAdCountPerDay=0,e.rewardAdRecordDay=0,e.iapCount=0,e.skinTimeMap={},e},t.exports=n,cc._RF.pop()},{}],PlayerMan:[function(e,t,i){"use strict";cc._RF.push(t,"86277QQNrhE8rytnuoKt+eQ","PlayerMan");var n=e("../entity/PlayerInfo"),a=cc.Class({player:null,bestScoreKey:null,levelBoardKey:null,inited:!1,ctor:function(){},initData:function(){if(!this.inited){this.inited=!1;var e,t=game.storage.getItem("player_key",null);null==t||""==t?(e=n.createDefault(),game.storage.setItem("player_key",JSON.stringify(e)),game.analyseManager.addVirtualCurrency("init_player",e.coins)):(e=new n).unmarshall(JSON.parse(t)),this.player=e}},getLevel:function(){return cc.isUndefined(this.player.level)?1:this.player.level},setLevel:function(e){e<=this.player.level||(this.player.level=e,game.analyseManager.trackPlayerLevel(e),this._flushToStorage())},updateLevelData:function(e,t,i){cc.isUndefined(this.player.levelsMap[e])&&(this.player.levelsMap[e]={}),this.player.levelsMap[e][t]=i,this._flushToStorage()},getLevelData:function(e,t){return(this.player.levelsMap[e]||{})[t]},getLevelStar:function(e){return this.getLevelData(e,"star")||0},addInterstitialAdCount:function(){this.player.interstitialAdCount++,this._flushToStorage()},addRewardedAdCount:function(){this.player.rewardedAdCount++,this._flushToStorage()},setCurrentSkin:function(e){this.player.currentSkinId=e,this._flushToStorage()},isSkinOwned:function(e){return-1!==this.player.skins.indexOf(e)},purchaseSkin:function(e){this.isSkinOwned(e)||(this.player.skins.push(e),this._flushToStorage())},addCoins:function(e,t,i,n,a){isNaN(e)?cc.error("coins is NAN"):this.player.coins+e<0?cc.error("coins will be negative, please check current coins:"+this.player.coins+", delta coins:"+e):(e>0?(game.audioPlayer.playEffectByKey("audio/coins_fly"),a||(t?game.analyseManager.addVirtualCurrency(t,e):(game.analyseManager.addVirtualCurrency("unknown_reason",e),cc.error("error addDiamonds unknown reason:"+t)))):e<0&&(i&&n?game.analyseManager.consumeVirtualCurrency(i,n,-e):(cc.error("error addDiamonds unknown buyItemName:"+i+",buyItemCount:"+n),game.analyseManager.consumeVirtualCurrency("unknown_reason",0,-e))),this.player.coins+=e,this._flushToStorage(),game.dispatcher.emit("update_coins",{coins:this.player.coins,delta:e}))},removedAds:function(){this.player.removedAds=!0,game.adsManager.removeBannerAds("bottom"),game.adsManager.removeBannerAds("top"),this._flushToStorage()},setLastWheelTime:function(e){this.player.lastWheelTime=e,this._flushToStorage()},getLastWheelTime:function(){return this.player.lastWheelTime},isNewPlayer:function(){return Date.now()-this.player.createDt<864e5},getRegisterDay:function(){return Math.floor((Date.now()-this.player.createDt)/864e5)+1},currentDay:function(){return game.utils.getDayByTs(Date.now())},checkConsecutiveLoginDay:function(){var e=this.currentDay(),t=e-this.player.lastLoginDay;return t<0&&(cc.error("consecutive login day error, today is smaller than lastLoginDay, maybe you have adjust the time."),t=0),t<=1?this.player.consecutiveLoginDays+=t:this.player.consecutiveLoginDays=1,this.player.lastLoginDay=e,this.player.consecutiveLoginDays<1&&(this.player.consecutiveLoginDays=1),this.player.consecutiveLoginDays},setLastClaimDailyBonusDay:function(e){this.player.lastClaimDailyBonusDay=e,this._flushToStorage()},addRewardAdCountPerDay:function(){this.tryClearPreviousAdCountPerDay(),cc.isUndefined(this.player.rewardAdCountPerDay)&&(this.player.rewardAdCountPerDay=0),this.player.rewardAdCountPerDay++,this._flushToStorage(),game.dispatcher.emit("reward_video_count")},getRewardAdPlaceCountPerDay:function(){return this.tryClearPreviousAdCountPerDay(),this.player.rewardAdCountPerDay||0},tryClearPreviousAdCountPerDay:function(){this.player.rewardAdRecordDay!==this.getRegisterDay()&&(this.player.rewardAdCountPerDay=0,this.player.rewardAdRecordDay=this.getRegisterDay())},addIapCount:function(){this.player.iapCount++,this._flushToStorage()},setSkinTime:function(e){this.player.skinTimeMap[e]=Date.now()+864e5,this._flushToStorage()},isExperienceSkin:function(e){return(this.player.skinTimeMap[e]||Date.now())-Date.now()>0},clearExperienceSkin:function(e){delete this.player.skinTimeMap[e]},_flushToStorage:function(){game.storage.setItem("player_key",JSON.stringify(this.player))}});a._instance=null,a._firstUseInstance=!0,a.getInstance=function(){return a._firstUseInstance&&(a._firstUseInstance=!1,a._instance=new a),a._instance},t.exports=a,cc._RF.pop()},{"../entity/PlayerInfo":"PlayerInfo"}],PopupMan:[function(e,t,i){"use strict";cc._RF.push(t,"f12d03cGPJKNrNFqND4pAjk","PopupMan");var n={popupCommonDlg:function(e,t){cc.loader.loadRes("prefabs/notice_view",function(i,n){var a=cc.instantiate(n).getComponent("NoticeComponent");a.initWithYes(e,t),a.popup()}.bind(this))},popupYesNoCommonDlg:function(e,t,i,n,a,o,s){cc.loader.loadRes("prefabs/notice_view",function(c,r){var l=cc.instantiate(r).getComponent("NoticeComponent");l.initWithYesNo(e,t,i,n,a,o,s),l.popup()}.bind(this))},popupRewardDlg:function(e,t,i,n,a,o){cc.loader.loadRes("prefabs/notice_view",function(s,c){var r=cc.instantiate(c).getComponent("NoticeComponent");r.initWithRewardYes(e,t,i,n,a,o),r.popup()}.bind(this))},popupStore:function(e){cc.loader.loadRes("prefabs/store_view",function(t,i){var n=cc.instantiate(i).getComponent("StoreScene");n.initCB(e),n.popup()}.bind(this))},popupSkin:function(){cc.loader.loadRes("prefabs/skin_view",function(e,t){cc.instantiate(t).getComponent("SkinScene").popup()}.bind(this))},popupPause:function(e,t,i){cc.loader.loadRes("prefabs/pause_view",function(n,a){var o=cc.instantiate(a).getComponent("PauseComponent");o.initWith(e,t,i),o.popup()}.bind(this))},popupRateDlg:function(e,t){var i=game.i18n.t("rate_info");this.popupYesNoCommonDlg(i,game.i18n.t("rate_confirm"),game.i18n.t("rate_cancel"),function(){cc.sys.openURL(game.config.getPlatformDownloadUrl()),e&&e()},function(){t&&t()},!1)},popupWheelDlg:function(e){cc.loader.loadRes("prefabs/wheel_view",function(t,i){var n=cc.instantiate(i).getComponent("WheelComponent");n.initWith(e),n.popup()}.bind(this))},popupRewardDoubleTipDlg:function(e,t,i,n){this.popupRewardDouble(e,t,i,n)},popupDailyBonus:function(){cc.loader.loadRes("prefabs/daily_bonus_view",function(e,t){cc.instantiate(t).getComponent("DailyBonusComponent").popup()}.bind(this))},popupFreeSkin:function(e,t){cc.loader.loadRes("prefabs/get_skin_view",function(i,n){var a=cc.instantiate(n).getComponent("GetItemComponent");a.initWithSkin(e,t),a.popup()}.bind(this))},popupFreeSkinReward:function(e,t){cc.loader.loadRes("prefabs/get_skin_reward_view",function(i,n){var a=cc.instantiate(n).getComponent("GetItemComponent");a.initWithSkinReward(e,t),a.popup()}.bind(this))},popup3Star:function(e,t,i){cc.loader.loadRes("prefabs/get_3_star_view",function(n,a){var o=cc.instantiate(a).getComponent("GetItemComponent");o.initWith3Star(e,t,i),o.popup()}.bind(this))},popupOpenGiftBox:function(e){cc.loader.loadRes("prefabs/get_box_view",function(t,i){var n=cc.instantiate(i).getComponent("GetItemComponent");n.initWithGiftBox(e),n.popup()}.bind(this))},popupRewardDouble:function(e,t,i,n){cc.loader.loadRes("prefabs/get_prize_view",function(a,o){var s=cc.instantiate(o).getComponent("GetItemComponent");s.initWithRewardDouble(e,t,i,n),s.popup()}.bind(this))},popupItemReward:function(e,t,i){cc.loader.loadRes("prefabs/get_reward_view",function(n,a){var o=cc.instantiate(a).getComponent("GetItemComponent");o.initWithItemReward(e,t,i),o.popup()}.bind(this))}};t.exports=n,cc._RF.pop()},{}],ProductInfo:[function(e,t,i){"use strict";cc._RF.push(t,"b3f63X+pghNvLoqjWeAhvKZ","ProductInfo");var n=function(){this.productId=0,this.price=0,this.description=null,this.title=null};n.prototype.unmarshal=function(e){this.productId=e.productId,this.price=e.price,this.description=e.description,this.title=e.title},t.exports=n,cc._RF.pop()},{}],RateManager:[function(e,t,i){"use strict";cc._RF.push(t,"2c30a2ERNpBCa2vwGHGk4Pu","RateManager");var n=cc.Class({ctor:function(){},init:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.initRateParams(3,1,.5,.5,!0)},rate:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.launchRate()},likeInFacebook:function(e){cc.sys.openURL(e)},launchAppReview:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.launchAppReview()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],RemoteConfigManager:[function(e,t,i){"use strict";cc._RF.push(t,"1030cbpvzhMg6PUqMjGwvri","RemoteConfigManager");var n=cc.Class({remoteReceivedCB:null,ctor:function(){cc.sys.isNative&&(jsb_dp.oneSdkBridge.onRemoteConfigReceived=this.onRemoteConfigReceived.bind(this))},setRemoteConfigReceivedCallback:function(e){this.remoteReceivedCB=e},onRemoteConfigReceived:function(){this.remoteReceivedCB&&this.remoteReceivedCB()},setDefaultRemoteConfig:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.setDefaultRemoteConfig(JSON.stringify(e))},fetchRemoteConfig:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.fetchRemoteConfig()},getRemoteConfig:function(e){return cc.sys.isNative?jsb_dp.oneSdkBridge.getRemoteConfig(e):""},activateRemoteFetched:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.activateRemoteFetched()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],ResMan:[function(e,t,i){"use strict";cc._RF.push(t,"5a370p3adZA/rSr4scrXHm3","ResMan");var n=cc.Class({blackPrefab:null,ctor:function(){},preload:function(e){var t=this;cc.loader.loadResDir("config",function(i,n){cc.loader.loadResDir("prefabs",function(i,n){cc.loader.loadResDir("audio",function(i,n){cc.loader.loadResDir("atlas",function(i,n){t.preloadBlackPrefab(function(){e&&e()})})})})})},preloadBlackPrefab:function(e){var t=this;cc.loader.loadRes("prefabs/black_view",function(i,n){t.blackPrefab=n,e&&e()})}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],SettingScene:[function(e,t,i){"use strict";cc._RF.push(t,"65e08cgGgZJ6Z71eaPtS4BN","SettingScene"),cc.Class({extends:e("BaseScene"),properties:{lbVersion:cc.Label,lbAudio:cc.Label,ndRank:cc.Node,ndVibrate:cc.Node,lblVibrate:cc.Label},onLoad:function(){this._super(),this.lbVersion.string=game.i18n.t("version_title")+" "+game.utils.getVersion();var e=cc.find("Canvas/bg");e&&game.effectMan.showBackgroundAnims(e),this.updateSoundItem(),this.updateVibrateItem(),cc.sys.os===cc.sys.OS_ANDROID&&(this.ndRank.visible=!1)},updateSoundItem:function(){var e=game.audioPlayer.isEffectOn();this.lbAudio.string=e?_("audio_on_title"):_("audio_off_title")},updateVibrateItem:function(){var e=game.audioPlayer.isVibrateOn();this.lblVibrate.string=e?_("vibrate_on_title"):_("vibrate_off_title")},onBackClicked:function(){this.showed||(this.showed=!0,game.utils.loadSceneWithAnim("MenuScene"))},onContactUs:function(){game.audioHelper.playBtnSound(),game.shareManager.sendEmail(game.config.connectEmail,game.i18n.t("feed_back_title"),game.i18n.t("feed_back_content"))},onShare:function(){game.audioHelper.playBtnSound(),game.shareManager.shareWithSystem(game.utils.sprintf(game.i18n.t("share_tips"),game.gameMan.getTotalWinStar(),game.config.getShortPlatformDownloadUrl()))},soundClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setEffectOn(!game.audioPlayer.isEffectOn()),game.audioPlayer.setMusicOn(!game.audioPlayer.isMusicOn()),this.updateSoundItem()},rankClicked:function(e){game.audioHelper.playBtnSound(),game.gcManager.showLeaderboard(game.config.getLeaderBoardKey())},rateClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},fanPageClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.facebookFanPageUrl)},likeUsClicked:function(e){game.audioHelper.playBtnSound(),cc.sys.openURL(game.config.getPlatformDownloadUrl())},vibrateClicked:function(e){game.audioHelper.playBtnSound(),game.audioPlayer.setVibrateOn(!game.audioPlayer.isVibrateOn()),this.updateVibrateItem()},onBack:function(){game.audioHelper.playBtnSound(),game.utils.loadSceneWithAnim("MenuScene")}}),cc._RF.pop()},{BaseScene:"BaseScene"}],ShareConfig:[function(e,t,i){"use strict";cc._RF.push(t,"e812dzg5/tMCYmPvLwxl9IQ","ShareConfig");var n=function(){this.id=0,this.image="",this.desc=""};n.prototype.unmarshal=function(e){this.id=e.id,this.image=e.image,this.desc=e.desc},n.prototype.copy=function(){var e=new n;return e.id=this.id,e.image=this.image,e.desc=this.desc,e},t.exports=n,cc._RF.pop()},{}],ShareManager:[function(e,t,i){"use strict";cc._RF.push(t,"8104fN0tu1Hr73cpD+k8gqG","ShareManager");var n=cc.Class({ctor:function(){},shareWithSystem:function(e){if(cc.sys.isNative){jsb_dp.oneSdkBridge.systemShare("",e)}},openAppWithIdentifier:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.openAppWithIdentifier(e)},sendEmail:function(e,t,i){cc.sys.isNative&&jsb_dp.oneSdkBridge.sendEmail(e,t,i)},wxShare:function(e,t){window.wx&&wx.updateShareMenu({withShareTicket:!1,complete:function(i){wx.shareAppMessage({title:e.desc,imageUrl:e.image,query:"source=share_"+e.id,success:function(e){t&&t(!0)},fail:function(e){t&&t(!1)}})}})},wxGroupShare:function(e,t,i){window.wx&&wx.updateShareMenu({withShareTicket:!0,success:function(n){wx.shareAppMessage({title:e.desc,imageUrl:e.image,query:"source="+t+"&share=share_"+e.id,success:function(e){console.error(JSON.stringify(e)),e&&e.shareTickets?i&&i(!0):i&&i(!1)},fail:function(e){i&&i(!1)}})}})},registerWxShare:function(e,t){window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],SkinCell:[function(e,t,i){"use strict";cc._RF.push(t,"2a4d1Kt86JFxpYEZReOD/KT","SkinCell"),cc.Class({extends:e("viewCell"),properties:{lbCoins:cc.Label,ballSprite:cc.Sprite,btnCoins:cc.Node,btnSelect:cc.Node,btnUsing:cc.Node,lbUsing:cc.Label,lbSelect:cc.Label,spSkin:cc.Sprite,index:0,group:void 0},onLoad:function(){},init:function(e,t,i,n){if(e>=t.array.length)this.node.active=!1;else{this.node.active=!0,this.index=e,this.data=t.array[e],this.btnCoins.active=!1,this.btnSelect.active=!1,this.btnUsing.active=!1,game.playerMan.player.currentSkinId===this.data.id?this.btnUsing.active=!0:game.playerMan.isSkinOwned(this.data.id)||game.playerMan.isExperienceSkin(this.data.id)?this.btnSelect.active=!0:(this.btnCoins.active=!0,this.lbCoins.string=this.data.price);var a=cc.loader.getRes("atlas/skin_batch",cc.SpriteAtlas).getSpriteFrame(this.data.image);a?(this.spSkin.spriteFrame=a,this.spSkin.node.active=!0):this.spSkin.node.active=!1}},clicked:function(){},onSkinClicked:function(){game.audioHelper.playBtnSound(),game.playerMan.player.currentSkinId===this.data.id||(game.playerMan.isSkinOwned(this.data.id)||game.playerMan.isExperienceSkin(this.data.id)?(game.playerMan.setCurrentSkin(this.data.id),game.dispatcher.emit("refresh_skin")):game.playerMan.player.coins>=this.data.price?(game.playerMan.addCoins(-this.data.price,"skin","skin",1),game.playerMan.purchaseSkin(this.data.id),game.playerMan.setCurrentSkin(this.data.id),game.dispatcher.emit("refresh_skin")):game.popupMan.popupStore())}}),cc._RF.pop()},{viewCell:"viewCell"}],SkinConfig:[function(e,t,i){"use strict";cc._RF.push(t,"c2d42S3tndOXqwwPzR7wn6A","SkinConfig");var n=function(){this.id=0,this.price=0,this.image=""};n.prototype.unmarshal=function(e){this.id=e.id,this.price=e.price,this.image=e.image},t.exports=n,cc._RF.pop()},{}],SkinScene:[function(e,t,i){"use strict";cc._RF.push(t,"9c242fq3FBK/6tZ/AzSsL0X","SkinScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dispatcher.on("refresh_skin",this.onUpdateSkin,this),this.initView(),this.addCoinsUI(),game.adsManager.removeBannerAds("bottom");var e=cc.find("Canvas/bg");e&&game.effectMan.showBackgroundAnims(e)},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){cc.instantiate(t).parent=this.node}.bind(this))},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),game.dispatcher.off("refresh_skin",this.onUpdateSkin,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},initView:function(){var e=game.configMan.getSkinList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},onUpdateSkin:function(){this.tableView.getComponent(cc.tableView).reload()},start:function(){},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),this.close())},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{}],SpriteFrameSet:[function(e,t,i){"use strict";cc._RF.push(t,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var n=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});t.exports=n,cc._RF.pop()},{}],Storage:[function(e,t,i){"use strict";cc._RF.push(t,"7b4d1B7j9FC3I2N8+y+liDa","Storage");var n=cc.Class({extends:cc.Component,properties:{},setItem:function(e,t){cc.sys.localStorage.setItem(e,t)},getItem:function(e,t){var i=cc.sys.localStorage.getItem(e);return i||t},removeItem:function(e){cc.sys.localStorage.removeItem(e)}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},t.exports=n,cc._RF.pop()},{}],StoreCell:[function(e,t,i){"use strict";cc._RF.push(t,"5fe83fEFqdMsKgS6TgVkYY3","StoreCell");var n=e("../enum/StoreType");cc.Class({extends:e("viewCell"),properties:{lbCoins:cc.Label,storeSprite:cc.Sprite,lbPrice:cc.Label,ndCoin:cc.Node,ndRemoveAds:cc.Node,index:0,group:void 0},onLoad:function(){},init:function(e,t,i,a){if(e>=t.array.length)this.node.active=!1;else{switch(this.index=e,this.data=t.array[e],this.ndCoin.active=!1,this.ndRemoveAds.active=!1,this.data.type){case n.Coins:this.ndCoin.active=!0;var o=cc.loader.getRes("atlas/store_batch",cc.SpriteAtlas).getSpriteFrame(this.data.image);this.storeSprite.spriteFrame=o,this.lbCoins.string=this.data.count;break;case n.RemoveAds:this.ndRemoveAds.active=!0}this.lbPrice.string=this.data.price}},clicked:function(){},onPurchaseClicked:function(){game.audioHelper.playBtnSound(),cc.log("onPurchaseClicked:"+JSON.stringify(this.data)),game.storeMan.buyProduct(this.data)}}),cc._RF.pop()},{"../enum/StoreType":"StoreType",viewCell:"viewCell"}],StoreConfig:[function(e,t,i){"use strict";cc._RF.push(t,"7d734ZgYJdKdbAV71j0jEaM","StoreConfig");var n=function(){this.id=0,this.type=0,this.name="",this.price=0,this.count=1,this.image="",this.pid="",this.key="",this.hot=!1,this.best=!1,this.priceUS=0,this.discount_multi=0};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.name=e.name,this.price=e.price,this.count=e.count,this.image=e.image,this.pid=e.pid,this.key=e.key,this.hot=e.hot,this.best=e.best,this.discount_multi=e.discount_multi,this.priceUS=parseFloat(this.price.substr(1))},t.exports=n,cc._RF.pop()},{}],StoreManager:[function(e,t,i){"use strict";cc._RF.push(t,"d74e0gmhL1JEZS1q08cbqEC","StoreManager");var n=e("../entity/PaymentInfo"),a=e("../enum/PaymentCode"),o=e("../entity/ProductInfo"),s=(cc.Class({onPaymentCompleted:function(e,t){},onGetUnverifiedReceiptList:function(e){},onGetProductList:function(e){}}),cc.Class({properties:{paymentDelegate:null,productList:null},ctor:function(){cc.sys.isNative&&(jsb_dp.oneSdkBridge.onGetProductList=this.onGetProductList.bind(this),jsb_dp.oneSdkBridge.onPurchase=this.onPurchase.bind(this),jsb_dp.oneSdkBridge.onConsume=this.onConsume.bind(this),jsb_dp.oneSdkBridge.onGetUnverifiedReceiptList=this.onGetUnverifiedReceiptList.bind(this))},setPaymentDelegate:function(e){this.paymentDelegate=e},onGetProductList:function(e){if(cc.log("onGetProductList: "+e),e){var t=JSON.parse(e);if(t&&t.length>0){for(var i=[],n=0;n<t.length;++n){var a=new o;a.unmarshal(t[n]),i.push(a)}this.paymentDelegate&&this.paymentDelegate.onGetProductList(i),this.productList=i}}},onPurchase:function(e){var t;cc.log("onPurchase: "+e),JSON.parse(e).errorCode===a.PAYMENT_CODE_SUCCESS?(t=JSON.parse(e),this._paymentCompleted(a.PAYMENT_CODE_SUCCESS,t)):(t=JSON.parse(e),this._paymentCompleted(a.PAYMENT_CODE_FAIL,t))},onConsume:function(e){cc.log("onConsume: "+e)},onGetUnverifiedReceiptList:function(e){if(cc.log("onGetUnverifiedReceiptList: "+e),e&&e.length>0){var t=JSON.parse(e);if(t&&t.length>0){for(var i=[],a=0;a<t.length;++a){var o=t[a],s=new n;s.unmarshal(o),i.push(s)}this.paymentDelegate&&this.paymentDelegate.onGetUnverifiedReceiptList(i)}}},_paymentCompleted:function(e,t){var i=new n;i.unmarshal(t),e===a.PAYMENT_CODE_SUCCESS&&t?this.paymentDelegate&&this.paymentDelegate.onPaymentCompleted(a.PAYMENT_CODE_SUCCESS,i):this.paymentDelegate&&this.paymentDelegate.onPaymentCompleted(a.PAYMENT_CODE_FAIL,i)},_getNumFromString:function(e){return e.replace(/[^0-9.]/gi,"")},requestProduct:function(e){cc.sys.isNative&&jsb_dp.oneSdkBridge.getProductsInfo(e)},payForProduct:function(e){cc.log("payForProduct:"+e),cc.sys.isNative&&jsb_dp.oneSdkBridge.purchase(e)},consume:function(e){cc.log("consume:"+e),cc.sys.isNative&&e&&e.length>0&&jsb_dp.oneSdkBridge.consume(e)},restoreCompletedTransactions:function(){cc.log("restoreCompletedTransactions"),cc.sys.isNative&&jsb_dp.oneSdkBridge.restoreTransactions()},getUnverifiedReceiptList:function(){cc.log("getUnverifiedReceiptList"),cc.sys.isNative&&jsb_dp.oneSdkBridge.getUnverifiedReceiptList()},_getProductById:function(e){if(this.productList&&this.productList.length>0)for(var t=0;t<this.productList.length;++t){var i=this.productList[t];if(i.productId===e)return i}return null}}));s.sharedDirector=null,s.firstUseDirector=!0,s.getInstance=function(){return s.firstUseDirector&&(s.firstUseDirector=!1,s.sharedDirector=new s),s.sharedDirector},t.exports=s,cc._RF.pop()},{"../entity/PaymentInfo":"PaymentInfo","../entity/ProductInfo":"ProductInfo","../enum/PaymentCode":"PaymentCode"}],StoreMan:[function(e,t,i){"use strict";cc._RF.push(t,"9b65cu7hLpLn6NcF3zm78KP","StoreMan");e("../common/entity/PaymentInfo");var n=e("../common/enum/PaymentCode"),a=(e("../common/entity/ProductInfo"),e("../enum/StoreType")),o=e("../config/ConfigMan"),s=e("../enum/ItemType"),c=cc.Class({properties:{productList:null,storeList:null,inited:!1,_rewardCB:null},ctor:function(){},init:function(){this.inited||(game.storeManager.setPaymentDelegate(this),this.storeList=o.getInstance().getStoreList(),game.adsManager.setAdListener(this),this.inited=!0,this.requestProducts(),this.getUnverifiedReceiptList())},clear:function(){game.adsManager.setAdListener(null)},onRewardedVideoFinished:function(e){cc.log("onRewardedVideoFinished:"+e),this._isRewarded=e,e&&cc.sys.os!==cc.sys.OS_ANDROID&&this.onRewardedVideoReward()},onShowVideoAdBegin:function(){cc.log("GameNode onShowVideoAdBegin"),this._isRewarded=!1},onShowVideoAdEnd:function(){cc.log("GameNode onShowVideoAdEnd");var e=100;cc.sys.os===cc.sys.OS_ANDROID&&(e=1e3),setTimeout(function(){this._isRewarded&&cc.sys.os===cc.sys.OS_ANDROID&&this.onRewardedVideoReward(),this._isRewarded||this._rewardCB&&(this._rewardCB(!1),this._rewardCB=null)}.bind(this),e)},onRewardedVideoReward:function(){if(game.analyseManager.trackEvent("WatchRVSource",{name:this._adName}),this._rewardCB)return this._rewardCB(!0),void(this._rewardCB=null);if(game.playerMan.getRewardAdPlaceCountPerDay()>=game.config.rewardAdMaxCountPerDay)cc.log("StoreHelper onRewardedVideoReward has reached max count:"+game.playerMan.getRewardAdPlaceCountPerDay());else{this._adParam1?game.analyseManager.trackEvent(this._adParam1):cc.error("StoreHelper adParam is null:"+this._adParam1),this._adParam1=null,game.playerMan.addRewardAdCountPerDay();var e={type:s.Coin,count:game.config.rewardVideoCoins,image:"spr_coin"};game.storeMan.popupRewardItemDlg(e,"rewarded_video",!1)}},getStoreEntity:function(e){for(var t=0;t<this.storeList.length;++t)if(this.storeList[t].pid===e)return this.storeList[t];return null},getStoreEntityByType:function(e){for(var t=0;t<this.storeList.length;++t)if(this.storeList[t].type===e)return this.storeList[t];return null},_getNumFromString:function(e){return e.replace(/[^0-9.]/gi,"")},updatePrice:function(e){var t=this.getStoreEntity(e.productId);if(t){t.price=e.price;try{if(t.original_price){var i=this._getNumFromString(e.price),n=Number(i);t.original_price=e.price.replace(i,(n*(t.discount_multi+1)).toFixed(2))}}catch(e){cc.error("update price:"+e)}}},checkAndShowRewardVideo:function(e,t,i){if(this._adParam1=i,this._adName=e,!cc.sys.isNative)return this._rewardCB=t,void this.onRewardedVideoReward();game.adsManager.isRewardVideoReady()?(this._rewardCB=t,game.adsManager.showRewardVideoAd(e)):(t&&t(!1),cc.log("reward video not ready"))},buyProduct:function(e){switch(e.type){case a.Coins:game.storeManager.payForProduct(e.pid);break;case a.Free:this.checkAndShowRewardVideo("store");break;case a.RemoveAds:this.buyRemoveAds(e.pid);break;case a.Restore:this.restorePurchases()}},restorePurchases:function(){game.storeManager.restoreCompletedTransactions()},buyRemoveAds:function(e){game.playerMan.player.removedAds?game.popupMan.popupCommonDlg(game.i18n.t("removed_all_ads_tips")):cc.sys.os===cc.sys.OS_ANDROID?game.popupMan.popupYesNoCommonDlg(game.i18n.t("purchase_no_ad_tips"),game.i18n.t("buy_title"),game.i18n.t("cancel_title"),function(){game.storeManager.payForProduct(e)},null,!1):game.popupMan.popupYesNoCommonDlg(game.i18n.t("purchase_no_ad_tips"),game.i18n.t("buy_title"),game.i18n.t("restore_title"),function(){game.storeManager.payForProduct(e)},function(){game.storeManager.restoreCompletedTransactions()},!0)},requestProducts:function(){for(var e=[],t=0;t<this.storeList.length;++t){var i=this.storeList[t];i&&i.pid&&e.push(i.pid)}game.storeManager.requestProduct(e)},getUnverifiedReceiptList:function(){game.storeManager.getUnverifiedReceiptList()},onPaymentCompleted:function(e,t){e===n.PAYMENT_CODE_SUCCESS?this._onPaymentSuccess(t,!0):game.popupMan.popupCommonDlg(game.i18n.t("purchase_fail"))},onGetUnverifiedReceiptList:function(e){for(var t=0;t<e.length;++t)this._onPaymentSuccess(e[t],!1)},onGetProductList:function(e){this.productList=e;for(var t=0;t<e.length;++t){var i=e[t];this.updatePrice(i)}},_onPaymentSuccess:function(e,t){var i=this.getStoreEntity(e.productId),n=this;switch(i.type){case a.RemoveAds:game.playerMan.removedAds(),t&&game.popupMan.popupCommonDlg(game.i18n.t("purchase_no_ad_success")),cc.sys.os===cc.sys.OS_IOS&&game.storeManager.consume(e.purchaseId),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",0,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId);break;case a.Coins:game.popupMan.popupRewardDlg(game.i18n.t("purchase_boost_success"),function(){game.playerMan.addCoins(i.count,"purchase_coins",void 0,void 0,!0),game.storeManager.consume(e.purchaseId),n.addIapCount(i),game.analyseManager.trackChargeRequest(e.purchaseId,e.productId,i.priceUS,"USD",i.count,"IAP"),game.analyseManager.trackChargeSuccess(e.purchaseId)},"spr_coin",i.count)}},addIapCount:function(e){game.playerMan.addIapCount();var t=game.playerMan.player.iapCount;1===t?game.analyseManager.trackEvent("FirstPurchase",{pid:e.pid}):2===t&&game.analyseManager.trackEvent("SecondPurchase",{pid:e.pid}),t>=2&&game.analyseManager.trackEvent("MultiPurchase",{pid:e.pid}),game.analyseManager.trackEvent("PurchaseLevel",{levelId:game.gameMan.levelId,pid:e.pid})},popupDoubleItemDlg:function(e,t,i){game.popupMan.popupRewardDoubleTipDlg(e.image,e.count,t,function(n){this.claimItemReward(e,t,n,i)}.bind(this))},popupRewardItemDlg:function(e,t,i,n){var a=i?2*e.count:e.count;game.popupMan.popupItemReward(e.image,a,function(){this.claimItemReward(e,t,i,n)}.bind(this))},claimItemReward:function(e,t,i,n){var a=i?2*e.count:e.count;game.playerMan.addCoins(a,t),n&&n()}});c._instance=null,c._firstUseInstance=!0,c.getInstance=function(){return c._firstUseInstance&&(c._firstUseInstance=!1,c._instance=new c),c._instance},t.exports=c,cc._RF.pop()},{"../common/entity/PaymentInfo":"PaymentInfo","../common/entity/ProductInfo":"ProductInfo","../common/enum/PaymentCode":"PaymentCode","../config/ConfigMan":"ConfigMan","../enum/ItemType":"ItemType","../enum/StoreType":"StoreType"}],StoreScene:[function(e,t,i){"use strict";cc._RF.push(t,"bd7d6/YTKdEjqol5b9h0hF6","StoreScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node,lbFreeCoins:cc.Label,ndStore:cc.Node},onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),this.lbFreeCoins.string=game.config.rewardVideoCoins,this.initView(),this.addCoinsUI();var e=cc.winSize.height/cc.winSize.width;e<1.640625&&(this.ndStore.scale=e/1.640625);var t=cc.find("Canvas/bg");t&&game.effectMan.showBackgroundAnims(t)},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},onKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.back:this.onBackClicked()}},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){var i=cc.instantiate(t);i.parent=this.node,i.getComponent("CoinsUI").disableClick()}.bind(this))},initView:function(){var e=game.configMan.getStoreList();this.tableView.getComponent(cc.tableView).initTableView(e.length,{array:e,target:this})},start:function(){},initCB:function(e){this.closeCB=e},popup:function(){game.dialogManager.popup(this.node,{withoutAnim:!0})},onBackClicked:function(){this.showed||(this.showed=!0,game.audioHelper.playBtnSound(),this.close())},close:function(){game.dialogManager.close(this.node),this.closeCB&&this.closeCB()},onFreeClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.checkAndShowRewardVideo("store")},onRestoreClicked:function(){game.audioHelper.playBtnSound(),game.storeMan.restorePurchases()}}),cc._RF.pop()},{}],StoreType:[function(e,t,i){"use strict";cc._RF.push(t,"a3b45VlbQ5EM7AB1uIs93SO","StoreType");t.exports={Free:1,RemoveAds:2,Coins:3,Restore:4},cc._RF.pop()},{}],TopUI:[function(e,t,i){"use strict";cc._RF.push(t,"25598GdJGBNSaTiDFgfTMhF","TopUI");var n=e("LanguageData"),a=cc.Class({extends:cc.Component,properties:{lbLevel:cc.Label,ptPencil:cc.ProgressBar,rootNode:cc.Node,lbPencilPercent:cc.Label,btnHint:cc.Node,hintNode:cc.Node,hintHandNode:null,star1:cc.Node,star2:cc.Node,star3:cc.Node,stars:[],levelProgressNode:cc.Node,levelProgressFteHand:null,btnSkip:cc.Node},onLoad:function(){game.dispatcher.on("update_line_progress",this.onLineLenUpdate,this),game.dispatcher.on("destroy_guide",this.destroyGuide,this),this.lbLevel.string=n.t("level_title")+" "+game.gameMan.level,this.setLineLenPercent(0),this.addCoinsUI(),game.gameMan.retryCount>=2&&this.playHintAnim(),2===game.gameMan.level&&this.showProgressAnim(),this.stars=[this.star1,this.star2,this.star3],this.btnSkip.active=game.gameMan.shouldShowSkipButton()},showProgressAnim:function(){cc.loader.loadRes("prefabs/fte_arrow",function(e,t){var i=cc.instantiate(t);this.levelProgressNode.addChild(i),this.levelProgressFteHand=i,i.setPosition(cc.p(25,-25));var n=i.getPosition(),a=n.add(cc.p(-25,25));i.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.6,a),cc.moveTo(.6,n))))}.bind(this))},stopProgressAnim:function(){this.levelProgressFteHand&&(this.levelProgressFteHand.destroy(),this.levelProgressFteHand=null)},stopHintAnim:function(){this.hintHandNode&&(this.hintHandNode.destroy(),this.hintHandNode=null),game.gameMan.resetRetryLevel()},playHintAnim:function(){game.gameMan.shouldShowHint()||cc.loader.loadRes("prefabs/fte_hand",function(e,t){var i=cc.instantiate(t);this.hintNode.addChild(i),i.getComponent(cc.Animation).play("fte_hand_loop"),this.hintHandNode=i}.bind(this))},addCoinsUI:function(){cc.loader.loadRes("prefabs/top_coins",function(e,t){var i=cc.instantiate(t);i.parent=this.rootNode,i.getComponent(cc.Widget).right=22,i.getComponent(cc.Widget).top=20}.bind(this))},onDestroy:function(){game.dispatcher.off("update_line_progress",this.onLineLenUpdate,this),game.dispatcher.off("destroy_guide",this.destroyGuide,this)},setLineLenPercent:function(e){this.ptPencil.progress=game.gameMan.getCurrentPencilProgress()/100,this.lbPencilPercent.string=game.gameMan.getCurrentPencilProgress()+"%";for(var t=game.gameMan.getCurrentStar(),i=0;i<this.stars.length;++i)this.stars[i].active=i+1<=t},destroyGuide:function(){this.stopProgressAnim()},onLineLenUpdate:function(e){this.setLineLenPercent(e.lineLen)},onRefreshClicked:function(){game.audioHelper.playBtnSound(),cc.log("onRefreshClicked refresh_level"),game.dispatcher.emit("refresh_level")},onPauseClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.pause(),game.popupMan.popupPause(function(){game.utils.loadSceneWithAnim("MenuScene"),game.adsHelper.showBackHomeAds()},function(){game.gameMan.resume()},function(){game.dispatcher.emit("refresh_level")})},onHintClicked:function(){game.audioHelper.playBtnSound(),this.stopHintAnim(),game.storeMan.checkAndShowRewardVideo("hints",function(e){e&&(game.analyseManager.trackEvent("watch_ads_hint",{level:game.gameMan.level}),game.gameMan.showHintLine())})},onHelpFriend:function(){game.audioHelper.playBtnSound(),game.shareManager.shareWithSystem(game.utils.sprintf(game.i18n.t("ask_friends_tips"),game.config.getShortPlatformDownloadUrl()))},onSkipClicked:function(){game.audioHelper.playBtnSound(),game.gameMan.skipLevel()}});t.exports=a,cc._RF.pop()},{LanguageData:"LanguageData"}],Utils:[function(e,t,i){"use strict";cc._RF.push(t,"347a25c7g9HNIy+eDgmlGAx","Utils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a={randomNextInt:function(e){return Math.floor(Math.random()*e)},randomNextNumber:function(e){return Math.random()*e},rangeNextInt:function(e,t){return e+this.randomNextInt(t-e+1)},rangeNextNumber:function(e,t){return e+this.randomNextNumber(t-e)},randomNextNumberInRange:function(e,t){return Math.random()*(t-e)+e},randomNextIntInRange:function(e,t){return Math.floor(Math.random()*(t-e)+e)},sprintf:function(){for(var e,t,i,a,o,s=0,c=arguments[s++],r=[];c;){if(t=/^[^\x25]+/.exec(c))r.push(t[0]);else if(t=/^\x25{2}/.exec(c))r.push("%");else{if(!(t=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(c)))throw"Huh ?!";if(null==(e=arguments[t[1]||s++])||void 0==e)throw"Too few arguments.";if(/[^s]/.test(t[7])&&"number"!=typeof e)throw"Expecting number but found "+(void 0===e?"undefined":n(e));switch(t[7]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e);break;case"e":e=t[6]?e.toExponential(t[6]):e.toExponential();break;case"f":e=t[6]?parseFloat(e).toFixed(t[6]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&t[6]?e.substring(0,t[6]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(t[7])&&t[2]&&e>=0?"+"+e:e,a=t[3]?"0"==t[3]?"0":t[3].charAt(1):" ",o=t[5]-String(e).length-"".length,i=t[5]?str_repeat(a,o):"",r.push(""+(t[4]?e+i:i+e))}c=c.substring(t[0].length)}return r.join("")},loadJson:function(e){var t=cc.loader.getRes(e);return t?t.json:null},isFileExist:function(e){return!!cc.loader.getRes(e)},scaleCCLabelBMFont:function(e,t){if(e.width>t){var i=t/e.width;e.scaleX=e.scaleY=i}else e.scaleX=e.scaleY=1},scaleCCLabelBMFontWithMaxScale:function(e,t,i){e.width*e.scaleX>t&&(e.scaleX=e.scaleY=t/e.width),e.scaleX>i&&(e.scaleX=e.scaleY=i)},walkNode:function(e,t){if(e){var i=t(e);if(i)for(var n in e.children)if(!(i=this.walkNode(e.children[n],t)))break;return i}return!0},getFormatTime:function(e){e=Math.floor(e);var t=Math.floor(e/3600),i=Math.floor((e-3600*t)/60),n=e-3600*t-60*i;return t<=0&&i<=0?n:t<=0?i+":"+n:t+":"+i+":"+n},seekNodeByTag:function(e,t){if(null===e)return null;if(e.getTag()===t)return e;var i=e.getChildren();if(i&&i.length>0)for(var n=i.length,a=0;a<n;a++){var o=i[a];if(null!==o){var s=this.seekNodeByTag(o,t);if(null!==s)return s}}return null},drawDashPoints:function(e,t,i,n,a){for(var o,s,c,r,l,d,h=e[0].x,u=e[0].y,p=0,g=0,f=i.length,m=0,_=n,y=n+i[m],v=0,C=e.length;v<C;v++){if(l=e[v].x,d=e[v].y,0!==v)for(o=l-h,s=d-u,g=Math.sqrt(o*o+s*s),c||(c=h),r||(r=u);g>0;)if(p+g<_)p+=g,g=0,c=l,r=d;else{if(p<=_){if(c+=(S=(w=_-p)/g)*(l-c),r+=S*(d-r),a){var S=cc.AffineTransform.transformVec2(c,r,a);t.moveTo(S.x,S.y)}else t.moveTo(c,r);g-=w,p+=w}if(p+g<y){if(c=l,r=d,a){S=cc.AffineTransform.transformVec2(c,r,a);t.lineTo(S.x,S.y)}else t.lineTo(c,r);p+=g,g=0}else if(p+g>=y){var w;if(c+=(S=(w=y-p)/g)*(l-c),r+=S*(d-r),a){S=cc.AffineTransform.transformVec2(c,r,a);t.lineTo(S.x,S.y)}else t.lineTo(c,r);g-=w,p+=w,y=(_=y+i[++m%f])+i[++m%f]}}h=l,u=d}},showEnterSceneAnim:function(){var e=cc.instantiate(game.resMan.blackPrefab);cc.director.getScene().addChild(e,1e3),e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height,e.opacity=180,e.runAction(cc.fadeOut(.2))},showExitSceneAnim:function(e){var t=cc.instantiate(game.resMan.blackPrefab);cc.director.getScene().addChild(t,1e3),t.opacity=0,t.x=.5*cc.winSize.width,t.y=.5*cc.winSize.height,t.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(e,this)))},loadSceneWithAnim:function(e,t){"dev"===game.gameMan.devType?cc.director.loadScene(e):game.utils.showExitSceneAnim(function(){-1!=e.indexOf("newlevel")&&("b"===game.remoteConfig.getRemoteConfig("level_group")&&(e+="-b"));cc.director.loadScene(e),t&&t()})},vibrateLong:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateLong()},vibrateShort:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.vibrateShort()},getVersion:function(){return cc.sys.isNative?jsb_dp.oneSdkBridge.getVersion():"1.0.0"},getDayByTs:function(e){return Math.floor(e/864e5)},setSpriteFrame:function(e,t,i){cc.loader.loadRes(t,cc.SpriteAtlas,function(t,n){var a=n.getSpriteFrame(i);a&&(e.getComponent(cc.Sprite).spriteFrame=a)})},getSpriteFrame:function(e,t){var i=cc.loader.getRes(e,cc.SpriteAtlas);return i?i.getSpriteFrame(t):null},getWorldPosition:function(e){return e.parent.convertToWorldSpace(e.getPosition())}};t.exports=a,cc._RF.pop()},{}],WheelComponent:[function(e,t,i){"use strict";cc._RF.push(t,"27ee7LGKBtOKrr4UN+Jh6gx","WheelComponent");var n=e("../enum/WheelType"),a=e("../common/wheel/Wheel"),o=e("../enum/ItemType");cc.Class({extends:cc.Component,properties:{WHEEL_TIME:5,WHEEL_ICON_TAG:100,WHEEL_NUM_TAG:200,WHEEL_COUNT:6,WHEEL_ITEM_ANGLE:60,ndWheel:cc.Node,btnLeft:cc.Button,btnRight:cc.Button,ndDailyWheel:cc.Node,ndBox:cc.Node,btnSpinAgain:cc.Button,btnClose:cc.Button,lblRightTips:cc.Label,wheel:null,wheelIcons:[cc.Sprite],wheelNums:[cc.Label],wheelList:null,updateTime:0},onLoad:function(){this.updateTime=Date.now()},initWith:function(e){switch(this.wheelType=e,this.ndBox.active=!1,this.ndDailyWheel.active=!1,e){case n.DailyBonus:this.ndDailyWheel.active=!0,this.wheelList=game.configMan.getWheelList();break;case n.Box:this.ndBox.active=!0,this.wheelList=game.configMan.getBoxWheelList()}this.initWheelUI(),this.updateWheelItems(),this.wheel=new a(this.ndWheel,60),e===n.Box&&this.startWheel()},initWheelUI:function(){for(var e=this.wheelList,t=0;t<e.length;++t){var i=this.wheelIcons[t],n=this.wheelNums[t];game.utils.setSpriteFrame(i,"atlas/menu_batch",e[t].image),n.string="x"+e[t].count,i.scale*=e[t].scale}},isShowRewardedVideo:function(){return game.adsManager.isRewardVideoReady()},update:function(){Date.now()-this.updateTime>1e3&&(this.updateTime=Date.now(),this.updateWheelItems())},isFreeWheel:function(){return game.gameMan.getWheelLeftTime()<=0},getLeftHour:function(){var e=game.gameMan.getWheelLeftTime();return Math.ceil(e/36e5)},updateWheelItems:function(){var e=this.isFreeWheel();this.btnRight.interactable=e,this.lblRightTips.string=e?"":game.utils.sprintf(_("wheel_free_tips"),this.getLeftHour())},getRandomWheel:function(){var e=this.wheelList,t=game.utils.randomNextInt(100);console.log("randomNum:"+t);for(var i=0,n=0;n<e.length;++n){if(i+e[n].probability>t)return e[n];i+=e[n].probability}return null},startWheel:function(){this.wheelConfig=this.getRandomWheel();var e=this.wheelConfig.id;console.log("random wheel id:"+e),this.wheel.rotate(this.WHEEL_TIME,1080+(e-1)*this.WHEEL_ITEM_ANGLE,this.WHEEL_ITEM_ANGLE,this.onRotateEnd.bind(this)),this.btnClose.interactable=!1,this.wheelInterval=setInterval(function(){game.audioPlayer.playEffectByKey("audio/wheel_pin")},100),game.audioPlayer.playEffectByKey("audio/wheel_bg")},onRotateEnd:function(){clearInterval(this.wheelInterval),game.audioPlayer.stopEffectByKey("audio/wheel_bg"),game.audioPlayer.playEffectByKey("audio/wheel_stop"),setTimeout(this.onShowReward.bind(this),1e3)},onShowReward:function(){var e=this.wheelConfig;game.storeMan.popupDoubleItemDlg({type:o.Coin,count:e.count,image:"spr_coin"},"wheel",function(){this.btnClose.interactable=!0,this.updateWheelItems()}.bind(this))},leftClicked:function(){game.audioHelper.playBtnSound();var e=this;game.storeMan.checkAndShowRewardVideo("wheel_video",function(t){t&&e.startWheel(),e.updateWheelItems()})},spinAgainClicked:function(){game.audioHelper.playBtnSound();var e=this;game.storeMan.checkAndShowRewardVideo("spin_again",function(t){t&&e.startWheel(),e.updateWheelItems()})},rightClicked:function(){game.audioHelper.playBtnSound(),game.playerMan.setLastWheelTime(Date.now()),this.updateWheelItems(),this.btnRight.interactable=!1,this.startWheel()},closeClicked:function(){game.audioHelper.playBtnSound(),this.close()},popup:function(){game.dialogManager.popup(this.node)},close:function(){game.dialogManager.close(this.node)}}),cc._RF.pop()},{"../common/wheel/Wheel":"Wheel","../enum/ItemType":"ItemType","../enum/WheelType":"WheelType"}],WheelConfig:[function(e,t,i){"use strict";cc._RF.push(t,"2e341DwH5dBSJprsPTNw5tC","WheelConfig");var n=function(){this.id=0,this.type=0,this.count=0,this.probability=0,this.image=""};n.prototype.unmarshal=function(e){this.id=e.id,this.type=e.type,this.count=e.count,this.probability=e.probability,this.image=e.image},t.exports=n,cc._RF.pop()},{}],WheelType:[function(e,t,i){"use strict";cc._RF.push(t,"4369c2wqxBEx4Up1nzedf/Y","WheelType");t.exports={DailyBonus:0,Box:1},cc._RF.pop()},{}],Wheel:[function(e,t,i){"use strict";cc._RF.push(t,"986c821ykxE9LY/tLgwXKCg","Wheel");var n=function(e,t,i,n,a){return{x:t.x*(1-e)*(1-e)*(1-e)+3*i.x*e*(1-e)*(1-e)+3*n.x*e*e*(1-e)+a.x*e*e*e,y:t.y*(1-e)*(1-e)*(1-e)+3*i.y*e*(1-e)*(1-e)+3*n.y*e*e*(1-e)+a.y*e*e*e}},a=cc.Class({extends:cc.Component,properties:{target:null,bCurve:null,fps:0,nRound:1,frameCount:0,elapsedTime:0,totalRotationTime:0,startRotation:0,movement:0,easyFunction:null,endCallback:null,targetRotation:0,wheelItemAngle:0,lastTime:0,lastRotation:0,speed:0,_lotteryReseting:!1,_isHighRotating:!1,_startUpdate:!1},ctor:function(e,t){this.bCurve=[.42,-.08,.58,1.1],this.target=e,this.fps=t||60},rotate:function(e,t,i,n){this._startUpdate||(this.targetRotation=t,this.frameCount=0,this.totalRotationTime=e,this.startRotation=this.target.rotation%360,this.movement=t-this.startRotation,this.wheelItemAngle=i,this.lastTime=Date.now(),this.lastRotation=0,this._isHighRotating=!1,this._lotteryReseting=!1,this.easyFunction=this.defaultEasyFunction,this.endCallback=n,this.scheduleUpdate(),this._startUpdate=!0)},scheduleUpdate:function(){this.elapsedTime=0,cc.director.getScheduler().schedule(this.update,this,1/60)},unscheduleUpdate:function(){cc.director.getScheduler().unschedule(this.update,this),this.elapsedTime=0},update:function(e){this._startUpdate&&this.moveByFrame(e)},moveByFrame:function(e){this.elapsedTime+=e;var t=this.easyFunction(this.elapsedTime/this.totalRotationTime);this.target.rotation=t*this.movement+this.startRotation,this.targetRotation<=this.target.rotation&&(this.target.rotation=this.targetRotation,this.unscheduleUpdate(),this._startUpdate=!1,this.endCallback&&this.endCallback()),this.speed=(this.target.rotation-this.lastRotation)/(Date.now()-this.lastTime)*1e3,this.lastTime=Date.now(),this.lastRotation=this.target.rotation},defaultEasyFunction:function(e){var t=this.bCurve;return n(e,{x:0,y:0},{x:t[0],y:t[1]},{x:t[2],y:t[3]},{x:1,y:1}).y},getTargetRotation:function(){return this.targetRotation},getSpeed:function(){return this.speed}});t.exports=a,cc._RF.pop()},{}],en:[function(e,t,i){"use strict";cc._RF.push(t,"94275ei+QJAdrboXiRZIxlj","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={levels_title:"Levels",next_level:"Next",retry_title:"Retry",store_title:"Store",free_title:"Free",level_title:"Level",setting_title:"Setting",contact_title:"Contact Us",share_title:"Share",version_title:"Version",package_title:"Packages",restore_title:"Restore",rate_info:"Rate us and give\nus some suggestions.",rate_confirm:"Rate",rate_cancel:"Next",purchase_boost_success:"Purchase Successfully!\nYou have got",purchase_fail:"Purchase Failed!\nPlease try again.",buy_title:"Buy",cancel_title:"Cancel",ask_friends_tips:"Come and help me! \ndownload url:%s",noti_tips1:"Candy Foodie is waiting for you^^",noti_tips2:"Come to play Candy Foodie and relax yourself^^",noti_tips3:"Feel boring? let's play Candy Foodie^^",noti_tips4:"Let's play funny Candy Foodie^^",noti_tips5:"Candy Foodie will die without you^^",noti_item:"Play",notice_title:"Notice",confirm_info:"OK",watch_title:"Watch",no_title:"No",free_coins_title:"Free",feed_back_title:"Candy Foodie Feedback",feed_back_content:"My problem/suggestion is:\n\n\n",all_completed:"Bravo!\nYou have cleared all levels.\n Stay tuned to new challenges!",purchase_no_ad_tips:"Purchase once and remove\nall ads forever!",purchase_no_ad_success:"Purchase Successfully!\nYou have removed all ads",removed_all_ads_tips:"You have removed\nall ads forever!",remove_ads_title:"Remove Ads",ask_friends:"Ask",share_tips:"Can you beat me? I had won %d stars in Candy Foodie. download:%s",finish_tips:"You should finish\nlast chapter levels.",coins_not_enough:"Coins not enough!\nYou can get coins\nby pass level.",draw_line_tips:"Draw a line to let the\nball eat the candy.",skin_title:"Skins",selected_title:"Selected",select_title:"Select",draw_line_less:"Draw lines as short as\npossible to win 3 stars.",quit_game_tips:"Are you sure\nto exit game?",exit_title:"Exit",skip_level_tips:"Use coins to\nskip this level?",skip_title:"Skip",play_menu:"PLAY",level_menu:"LEVELS",draw_line_can_not_touch:"The red area can\nnot be drawn.",draw_line_anti_gravity:"The ball will rise up\nwhen gravity toggle is on.",spin_again:"Spin Again",reward_tips:"You got reward coins.",day_title:"%d Day",daily_bonus_title:"Daily Bonus",double_title:"Double",claim_title:"Claim",wheel_free_tips:"Free spin after %d hours",wheel_title:"Lucky Spin",skin_tips:"Limit time: 24h",free_skin:"Free Skin",skin_expire_tips:"The limit skin has expired!",continue_title:"Continue",free_coins:"Free Coins",star_3_tips:"Collect all 3 stars\nto get more coins.",open_box:"Open Box",collect_title:"Collect",star_limit_tips:"Collect %d stars to\nunlock new levels.",vibrate_on_title:"Vibrate On",vibrate_off_title:"Vibrate Off",rank_title:"Rank",facebook_fanpage_title:"Fanpage",contact_us_title:"Contact Us",audio_on_title:"Audio On",audio_off_title:"Audio Off",new_skin_title:"Congratulations!",wheel_is_ready:"Your wheel has been ready! Come back to play!",daily_bonus_is_ready:"Your daily bonus has been ready! Come back to play!",app_name:"Candy Foodie"},cc._RF.pop()},{}],"polyglot.min":[function(e,t,i){"use strict";cc._RF.push(t,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,a){"function"==typeof define&&define.amd?define([],function(){return a(e)}):"object"==(void 0===i?"undefined":n(i))?t.exports=a(e):e.Polyglot=a(e)})(void 0,function(e){function t(e){e=e||{},this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.allowMissing=!!e.allowMissing,this.warn=e.warn||l}function i(e){var t,i,n,a={};for(t in e)if(e.hasOwnProperty(t))for(n in i=e[t])a[i[n]]=t;return a}function a(e){return e.replace(/^\s+|\s+$/g,"")}function o(e,t,i){var n,o;return null!=i&&e?n=a((o=e.split(h))[c(t,i)]||o[0]):n=e,n}function s(e){var t=i(p);return t[e]||t.en}function c(e,t){return u[s(e)](t)}function r(e,t){for(var i in t)"_"!==i&&t.hasOwnProperty(i)&&(e=e.replace(new RegExp("%\\{"+i+"\\}","g"),t[i]));return e}function l(t){e.console&&e.console.warn&&e.console.warn("WARNING: "+t)}function d(e){var t={};for(var i in e)t[i]=e[i];return t}t.VERSION="0.4.3",t.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},t.prototype.extend=function(e,t){var i;for(var a in e)e.hasOwnProperty(a)&&(i=e[a],t&&(a=t+"."+a),"object"==(void 0===i?"undefined":n(i))?this.extend(i,a):this.phrases[a]=i)},t.prototype.clear=function(){this.phrases={}},t.prototype.replace=function(e){this.clear(),this.extend(e)},t.prototype.t=function(e,t){var i,n;return"number"==typeof(t=null==t?{}:t)&&(t={smart_count:t}),"string"==typeof this.phrases[e]?i=this.phrases[e]:"string"==typeof t._?i=t._:this.allowMissing?i=e:(this.warn('Missing translation for key: "'+e+'"'),n=e),"string"==typeof i&&(t=d(t),n=r(n=o(i,this.currentLocale,t.smart_count),t)),n},t.prototype.has=function(e){return e in this.phrases};var h="||||",u={chinese:function(e){return 0},german:function(e){return 1!==e?1:0},french:function(e){return e>1?1:0},russian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){return 1===e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0}},p={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return t}),cc._RF.pop()},{}],tableView:[function(e,t,i){"use strict";cc._RF.push(t,"afd05VTp31MwbLm7515Hea3","tableView");var n=cc.Enum({Horizontal:0,Vertical:1}),a=cc.Enum({None:0,Up:1,Down:2,Left:3,Rigth:4}),o=cc.Enum({LEFT_TO_RIGHT__TOP_TO_BOTTOM:0,TOP_TO_BOTTOM__LEFT_TO_RIGHT:1}),s=cc.Enum({Scroll:0,Flip:1});function c(e,t){return cc.v2(e.x-t.x,e.y-t.y)}function r(e,t){if(e.length<=1)return e;for(var i=Math.floor(e.length/2),n=e[i],a=[],o=[],s=0;s<e.length;s++)s!==i&&(t?t(e[s],n)?a.push(e[s]):o.push(e[s]):e[s]<=n?a.push(e[s]):o.push(e[s]));return r(a,t).concat([n],r(o,t))}function l(e,t){for(var i=0,n=e.children,a=n.length;i<a;i++)if(n[i]._cellIndex===t)return n[i];return null}var d=cc.Class({extends:cc.ScrollView,editor:!1,properties:{_data:null,_minCellIndex:0,_maxCellIndex:0,_paramCount:0,_count:0,_cellCount:0,_showCellCount:0,_groupCellCount:null,_scrollDirection:a.None,_cellPool:null,_view:null,_page:0,_pageTotal:0,cell:{default:null,type:cc.Prefab,notify:function(e){}},ScrollModel:{default:0,type:n,notify:function(e){this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1,this.verticalScrollBar=null):(this.vertical=!0,this.horizontal=!1,this.horizontalScrollBar=null)},tooltip:"\u6a2a\u5411\u7eb5\u5411\u6ed1\u52a8"},ViewType:{default:0,type:s,notify:function(e){this.ViewType===s.Flip?this.inertia=!1:this.inertia=!0},tooltip:"\u4e3aScroll\u65f6,\u4e0d\u505a\u89e3\u91ca\n\u4e3aFlipw\u65f6\uff0c\u5728Scroll\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u7ffb\u9875\u7684\u884c\u4e3a"},isFill:{default:!1,tooltip:"\u5f53\u8282\u70b9\u4e0d\u80fd\u94fa\u6ee1\u4e00\u9875\u65f6\uff0c\u9009\u62e9isFill\u4e3atrue\u4f1a\u586b\u5145\u8282\u70b9\u94fa\u6ee1\u6574\u4e2aview"},Direction:{default:0,type:o,tooltip:"\u89c4\u5b9acell\u7684\u6392\u5217\u65b9\u5411"},pageChangeEvents:{default:[],type:cc.Component.EventHandler,tooltip:"\u4ec5\u5f53ViewType\u4e3apageView\u65f6\u6709\u6548\uff0c\u521d\u59cb\u5316\u6216\u7ffb\u9875\u65f6\u89e6\u53d1\u56de\u8c03\uff0c\u5411\u56de\u8c03\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u53c2\u6570\u4e00\u4e3a\u5f53\u524d\u5904\u4e8e\u54ea\u4e00\u9875\uff0c\u53c2\u6570\u4e8c\u4e3a\u4e00\u5171\u591a\u5c11\u9875"}},statics:{_cellPoolCache:{}},onLoad:function(){var e=this;d._tableView.push(this);var t=this.node.destroy;this.node.destroy=function(){e.clear(),t.call(e.node)};var i=this.node._onPreDestroy;this.node._onPreDestroy=function(){e.clear(),i.call(e.node)}},onDestroy:function(){for(var e in d._tableView)if(d._tableView[e]===this)return void d._tableView.splice(e)},_initCell:function(e,t){if(this.ScrollModel===n.Horizontal&&this.Direction===o.TOP_TO_BOTTOM__LEFT_TO_RIGHT||this.ScrollModel===n.Vertical&&this.Direction===o.LEFT_TO_RIGHT__TOP_TO_BOTTOM)for(var i=e._cellIndex*e.childrenCount,a=0;a<e.childrenCount;++a){(r=e.children[a].getComponent("viewCell"))&&(r._cellInit_(this),r.init(i+a,this._data,t,[e._cellIndex,a]))}else if(this.ViewType===s.Flip){var c=(i=Math.floor(e._cellIndex/this._showCellCount))*this._showCellCount*e.childrenCount;for(a=0;a<e.childrenCount;++a){(r=e.children[a].getComponent("viewCell"))&&(r._cellInit_(this),r.init(this._showCellCount*a+e._cellIndex%this._showCellCount+c,this._data,t,[a+i*e.childrenCount,a]))}}else for(a=0;a<e.childrenCount;++a){var r;(r=e.children[a].getComponent("viewCell"))&&(r._cellInit_(this),r.init(a*this._count+e._cellIndex,this._data,t,[a,a]))}},_setCellPosition:function(e,t){this.ScrollModel===n.Horizontal?(e.x=0===t?-this.content.width*this.content.anchorX+e.width*e.anchorX:l(this.content,t-1).x+e.width,e.y=(e.anchorY-this.content.anchorY)*e.height):(e.y=0===t?this.content.height*(1-this.content.anchorY)-e.height*(1-e.anchorY):l(this.content,t-1).y-e.height,e.x=(e.anchorX-this.content.anchorX)*e.width)},_addCell:function(e){var t=this._getCell();this._setCellAttr(t,e),this._setCellPosition(t,e),t.parent=this.content,this._initCell(t)},_setCellAttr:function(e,t){e.setSiblingIndex(t>=e._cellIndex?this._cellCount:0),e._cellIndex=t},_addCellsToView:function(){for(var e=0;e<=this._maxCellIndex;++e)this._addCell(e)},_getCell:function(){if(0===this._cellPool.size()){var e=cc.instantiate(this.cell),t=new cc.Node;t.anchorX=.5,t.anchorY=.5;var i=0;if(this.ScrollModel===n.Horizontal){t.width=e.width;var a=Math.floor(this.content.height/e.height);t.height=this.content.height;for(var o=0;o<a;++o)e||(e=cc.instantiate(this.cell)),e.x=(e.anchorX-.5)*e.width,e.y=t.height/2-e.height*(1-e.anchorY)-i,i+=e.height,e.parent=t,e=null}else{t.height=e.height;a=Math.floor(this.content.width/e.width);t.width=this.content.width;for(o=0;o<a;++o)e||(e=cc.instantiate(this.cell)),e.y=(e.anchorY-.5)*e.height,e.x=-t.width/2+e.width*e.anchorX+i,i+=e.width,e.parent=t,e=null}this._cellPool.put(t)}return e=this._cellPool.get()},_getCellSize:function(){var e=this._getCell(),t=e.getContentSize();return this._cellPool.put(e),t},_getGroupCellCount:function(){var e=this._getCell(),t=e.childrenCount;return this._cellPool.put(e),t},clear:function(){for(var e=this.content.childrenCount-1;e>=0;--e)this._cellPool.put(this.content.children[e]);this._cellCount=0,this._showCellCount=0},reload:function(e){void 0!==e&&(this._data=e);for(var t=this.content.childrenCount-1;t>=0;--t)this._initCell(this.content.children[t],!0)},_getCellPoolCacheName:function(){return this.ScrollModel===n.Horizontal?this.cell.name+"h"+this.content.height:this.cell.name+"w"+this.content.width},_initTableView:function(){this._cellPool&&this.clear();var e=this._getCellPoolCacheName();d._cellPoolCache[e]||(d._cellPoolCache[e]=new cc.NodePool("viewCell")),this._cellPool=d._cellPoolCache[e],this._cellSize=this._getCellSize(),this._groupCellCount=this._getGroupCellCount(),this._count=Math.ceil(this._paramCount/this._groupCellCount),this.ScrollModel===n.Horizontal?(this._view.width=this.node.width,this._view.x=(this._view.anchorX-this.node.anchorX)*this._view.width,this._cellCount=Math.ceil(this._view.width/this._cellSize.width)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.width=this._count*this._cellSize.width,this.stopAutoScroll(),this.scrollToLeft()):(this._view.height=this.node.height,this._view.y=(this._view.anchorY-this.node.anchorY)*this._view.height,this._cellCount=Math.ceil(this._view.height/this._cellSize.height)+1,this.ViewType===s.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.height=this._count*this._cellSize.height,this.stopAutoScroll(),this.scrollToTop()),this._changePageNum(1-this._page),this._lastOffset=this.getScrollOffset(),this._minCellIndex=0,this._maxCellIndex=this._cellCount-1,this._addCellsToView()},initTableView:function(e,t){this._paramCount=e,this._data=t,this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1):(this.vertical=!0,this.horizontal=!1),this._view=this.content.parent,this.verticalScrollBar&&this.verticalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.horizontalScrollBar&&this.horizontalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),this._initTableView()},_onTouchBegan:function(e,t){this._super(e,t),this._touchstart(e)},_onTouchMoved:function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(e,t)){var i=e.touch;if(this.content&&this._handleMoveLogic(i),this.cancelInnerEvents){if(c(i.getLocation(),i.getStartLocation()).mag()>7&&!this._touchMoved&&e.target!==this.node){var n=new cc.Event.EventTouch(e.getTouches(),e.bubbles);n.type=cc.Node.EventType.TOUCH_CANCEL,n.touch=e.touch,n.simulate=!0,e.target.emit(cc.Node.EventType.TOUCH_CANCEL,n),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(e),this._touchmove(e)}}},_onTouchEnded:function(e,t){this._super(e,t),this._touchend(e)},_onTouchCancelled:function(e,t){this._super(e,t),this._touchend(e)},stopAutoScroll:function(){this._scrollDirection=a.None,this._super()},scrollToBottom:function(e,t){this._scrollDirection=a.Up,this._super(e,t)},scrollToTop:function(e,t){this._scrollDirection=a.Down,this._super(e,t)},scrollToLeft:function(e,t){this._scrollDirection=a.Rigth,this._super(e,t)},scrollToRight:function(e,t){this._scrollDirection=a.Left,this._super(e,t)},scrollToOffset:function(e,t,i){var o=c(e,this.getScrollOffset());this.ScrollModel===n.Horizontal?o.x>0?this._scrollDirection=a.Left:o.x<0&&(this._scrollDirection=a.Rigth):o.y>0?this._scrollDirection=a.Up:o.y<0&&(this._scrollDirection=a.Down),this._super(e,t,i)},addScrollEvent:function(e,t,i){var n=new cc.Component.EventHandler;n.target=e,n.component=t,n.handler=i,this.scrollEvents.push(n)},removeScrollEvent:function(e){for(var t in this.scrollEvents){if(this.scrollEvents[t].target===e)return void this.scrollEvents.splice(t,1)}},clearScrollEvent:function(){this.scrollEvents=[]},addPageEvent:function(e,t,i){var n=new cc.Component.EventHandler;n.target=e,n.component=t,n.handler=i,this.pageChangeEvents.push(n)},removePageEvent:function(e){for(var t=0;t<this.pageChangeEvents.length;t++){if(this.pageChangeEvents[t].target===e)return void this.pageChangeEvents.splice(t,1)}},clearPageEvent:function(){this.pageChangeEvents=[]},scrollToNextPage:function(){this.scrollToPage(this._page+1)},scrollToLastPage:function(){this.scrollToPage(this._page-1)},scrollToPage:function(e){if(this.ViewType===s.Flip&&e!==this._page&&!(e<1||e>this._pageTotal)){var t=.3*Math.abs(e-this._page);this._changePageNum(e-this._page);var i=this._view.width,n=this._view.height;i=(this._page-1)*i,n=(this._page-1)*n,this.scrollToOffset({x:i,y:n},t)}},getCells:function(e){var t=[],i=r(this.content.children,function(e,t){return e._cellIndex<t._cellIndex});for(var n in i){var a=i[n];for(var o in a.children)t.push(a.children[o])}e(t)},getData:function(){return this._data},getGroupsRange:function(e){for(var t=[],i=this._minCellIndex;i<=this._maxCellIndex;i++)t.push(i);e(t)},_changePageNum:function(e){this._page+=e,this._page<=0?this._page=1:this._page>this._pageTotal&&(this._page=this._pageTotal);for(var t=0;t<this.pageChangeEvents.length;t++){this.pageChangeEvents[t].emit([this._page,this._pageTotal])}},_touchstart:function(e){this.ScrollModel===n.Horizontal?this.horizontal=!1:this.vertical=!1},_touchmove:function(e){if(this.horizontal===this.vertical){var t=e.getStartLocation(),i=e.getLocation();if(this.ScrollModel===n.Horizontal){if(Math.abs(i.x-t.x)<=7)return}else if(Math.abs(i.y-t.y)<=7)return;this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0}},_touchend:function(e){this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0,this.ViewType===s.Flip&&this._pageTotal>1&&this._pageMove(e)},_pageMove:function(e){var t=this._view.width,i=this._view.height;if(this.ViewType===s.Flip){var o=this.getScrollOffset(),c=this.getMaxScrollOffset();if(this.ScrollModel===n.Horizontal){if(o.x>=0||o.x<=-c.x)return;if(i=0,Math.abs(e.getLocation().x-e.getStartLocation().x)>this._view.width/4)if(this._scrollDirection===a.Left){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Rigth){if(!(this._page>1))return;this._changePageNum(-1)}}else{if(o.y>=c.y||o.y<=0)return;if(t=0,Math.abs(e.getLocation().y-e.getStartLocation().y)>this._view.height/4)if(this._scrollDirection===a.Up){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===a.Down){if(!(this._page>1))return;this._changePageNum(-1)}}t=(this._page-1)*t,i=(this._page-1)*i,this.scrollToOffset({x:t,y:i},.3)}},_getBoundingBoxToWorld:function(e){var t=e.convertToWorldSpace(cc.v2(0,0));return cc.rect(t.x,t.y,e.width,e.height)},_updateCells:function(){if(this.ScrollModel===n.Horizontal){if(this._scrollDirection===a.Left){if(this._maxCellIndex<this._count-1){var e=this._getBoundingBoxToWorld(this._view);do{var t=l(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).xMax<=e.xMin))break;t.x=l(this.content,this._maxCellIndex).x+t.width,this._minCellIndex++,this._maxCellIndex++,i.xMax+(this._maxCellIndex-this._minCellIndex+1)*t.width>e.xMin&&(this._setCellAttr(t,this._maxCellIndex),this._initCell(t))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Rigth&&this._minCellIndex>0){e=this._getBoundingBoxToWorld(this._view);do{t=l(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).xMin>=e.xMax))break;t.x=l(this.content,this._minCellIndex).x-t.width,this._minCellIndex--,this._maxCellIndex--,i.xMin-(this._maxCellIndex-this._minCellIndex+1)*t.width<e.xMax&&(this._setCellAttr(t,this._minCellIndex),this._initCell(t))}while(0!==this._minCellIndex)}}else if(this._scrollDirection===a.Up){if(this._maxCellIndex<this._count-1){e=this._getBoundingBoxToWorld(this._view);do{t=l(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).yMin>=e.yMax))break;t.y=l(this.content,this._maxCellIndex).y-t.height,this._minCellIndex++,this._maxCellIndex++,i.yMin-(this._maxCellIndex-this._minCellIndex+1)*t.height<e.yMax&&(this._setCellAttr(t,this._maxCellIndex),this._initCell(t))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===a.Down&&this._minCellIndex>0){e=this._getBoundingBoxToWorld(this._view);do{var i;t=l(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(t)).yMax<=e.yMin))break;t.y=l(this.content,this._minCellIndex).y+t.height,this._minCellIndex--,this._maxCellIndex--,i.yMax+(this._maxCellIndex-this._minCellIndex+1)*t.width>e.yMin&&(this._setCellAttr(t,this._minCellIndex),this._initCell(t))}while(0!==this._minCellIndex)}},_getScrollDirection:function(){var e=this.getScrollOffset(),t=this._lastOffset;this._lastOffset=e,e=c(e,t),this.ScrollModel===n.Horizontal?e.x>0?this._scrollDirection=a.Rigth:e.x<0?this._scrollDirection=a.Left:this._scrollDirection=a.None:e.y<0?this._scrollDirection=a.Down:e.y>0?this._scrollDirection=a.Up:this._scrollDirection=a.None},update:function(e){this._super(e),this._cellCount!==this._showCellCount&&1!==this._pageTotal&&(this._getScrollDirection(),this._updateCells())}});d._tableView=[],d.reload=function(){for(var e in d._tableView)d._tableView[e].reload()},d.clear=function(){for(var e in d._tableView)d._tableView[e].clear()},cc.tableView=t.export=d,cc._RF.pop()},{}],viewCell:[function(e,t,i){"use strict";cc._RF.push(t,"99bb9PxAjREK4zcHrUsxER+","viewCell"),cc.Class({extends:cc.Component,properties:{tableView:{default:null,visible:!1},_isCellInit_:!1,_longClicked_:!1},_cellAddMethodToNode_:function(){this.node.clicked=this.clicked.bind(this)},_cellAddTouch_:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(e){!0===this.node.active&&0!==this.node.opacity&&(this._longClicked_||(this._longClicked_=!0,this.scheduleOnce(this._longClicked,1.5)))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.clicked(),this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this)},_cellInit_:function(e){this.tableView=e,this._isCellInit_||(this._cellAddMethodToNode_(),this._cellAddTouch_(),this._isCellInit_=!0)},_longClicked:function(){this._longClicked_=!1,this.node.emit(cc.Node.EventType.TOUCH_CANCEL),this.longClicked()},longClicked:function(){},clicked:function(){},init:function(e,t,i,n){}}),cc._RF.pop()},{}],zh:[function(e,t,i){"use strict";cc._RF.push(t,"e3a9fP4OblA/524FpIkhIaw","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={levels_title:"\u5173\u5361",next_level:"\u4e0b\u4e00\u5173",retry_title:"\u91cd\u8bd5",store_title:"\u5546\u57ce",free_title:"\u514d\u8d39",level_title:"\u5173\u5361",setting_title:"\u8bbe\u7f6e",contact_title:"\u8054\u7cfb\u6211\u4eec",share_title:"\u5206\u4eab",version_title:"\u7248\u672c",package_title:"\u7ae0\u8282",restore_title:"\u6062\u590d\u8d2d\u4e70",rate_info:"\u73a9\u7684\u5982\u4f55\uff1f\n\u7ed9\u4e2a\u597d\u8bc4\u5427^_^",rate_confirm:"\u53bb\u8bc4\u4ef7",rate_cancel:"\u4e0b\u6b21\u518d\u8bf4",purchase_boost_success:"\u8d2d\u4e70\u6210\u529f\uff01\n\u4f60\u83b7\u5f97\u4e86",purchase_fail:"\u8d2d\u4e70\u5931\u8d25\uff01",buy_title:"\u8d2d\u4e70",cancel_title:"\u53d6\u6d88",ask_friends_tips:"\u6765\u5e2e\u5e2e\u6211\uff0c\u8fd9\u4e00\u5173\u600e\u4e48\u8fc7\uff1f\u4e0b\u8f7d\u5730\u5740\uff1a%s",noti_tips1:"\u5feb\u6765\u7269\u7406\u753b\u7ebf\u653e\u677e\u4e00\u4e0b\u5427^^",noti_tips2:"\u7269\u7406\u753b\u7ebf\u6b63\u5728\u7b49\u4f60\u6765\u753b\u7ebf\u5466^^",noti_tips3:"\u65e0\u804a\u4e86\u5417\uff0c\u6765\u7269\u7406\u753b\u7ebf\u800d\u4e00\u800d\u5427^^",noti_tips4:"\u7269\u7406\u753b\u7ebf\u7b49\u4f60\u6765\u54e6^^",noti_tips5:"\u7269\u7406\u753b\u7ebf\u7b49\u7684\u5fc3\u6025\u4e86\u54c7\uff0c\u5feb\u6765\u5feb\u6765^^",noti_item:"\u73a9\u4e00\u4e0b",notice_title:"\u901a\u77e5",confirm_info:"\u786e\u5b9a",watch_title:"\u89c2\u770b",no_title:"\u4e0d\u4e86",free_coins_title:"\u514d\u8d39",feed_back_title:"\u7269\u7406\u753b\u7ebf\u53cd\u9988",feed_back_content:"\u6211\u7684\u95ee\u9898/\u5efa\u8bae\u662f:\n\n\n",all_completed:"\u68d2\u6781\u4e86\uff01\n\u4f60\u5df2\u7ecf\u5b8c\u6210\u4e86\u6240\u6709\u5173\u5361\n\u7b49\u7740\u6211\u4eec\u7684\u65b0\u5173\u5361\u5466",purchase_no_ad_tips:"\u4e00\u6b21\u8d2d\u4e70\uff0c\u7ec8\u751f\u53bb\u5e7f\u544a\uff01",purchase_no_ad_success:"\u8d2d\u4e70\u6210\u529f\uff01\n\u4f60\u5df2\u7ecf\u6c38\u4e45\u79fb\n\u9664\u4e86\u6240\u6709\u5e7f\u544a\uff01",removed_all_ads_tips:"\u4f60\u5df2\u7ecf\u6c38\u4e45\u79fb\u9664\u4e86\u6240\u6709\u5e7f\u544a\uff01",remove_ads_title:"\u79fb\u9664\u5e7f\u544a",ask_friends:"\u597d\u53cb\n\u6c42\u52a9",share_tips:"\u4f60\u80fd\u6253\u8d25\u6211\u5417\uff1f\u6211\u5df2\u7ecf\u5728\u7269\u7406\u753b\u7ebf\u91cc\u8d62\u4e86%d\u661f,\u4e0b\u8f7d\u5730\u5740\uff1a%s",finish_tips:"\u4f60\u5e94\u8be5\u5148\u5b8c\u6210\n\u4e0a\u4e00\u7ae0\u8282\u7684\u5173\u5361.",coins_not_enough:"\u91d1\u5e01\u4e0d\u8db3\uff0c\n\u8bf7\u901a\u5173\u83b7\u53d6\u91d1\u5e01\uff01",draw_line_tips:"\u753b\u7ebf\u8ba9\u5c0f\u7403\n\u8fdb\u5165\u9ed1\u6d1e",skin_title:"\u76ae\u80a4",selected_title:"\u5df2\u9009\u4e2d",select_title:"\u9009\u62e9",draw_line_less:"\u5c3d\u53ef\u80fd\u753b\u51fa\u6700\u77ed\n\u7684\u7ebf\u6765\u8d62\u53d6\u4e09\u661f\u3002",quit_game_tips:"\u786e\u5b9a\u8981\u9000\u51fa\u6e38\u620f\u4e48\uff1f",exit_title:"\u9000\u51fa",skip_level_tips:"\u82b1\u91d1\u5e01\u8df3\u8fc7\u8fd9\u4e00\u5173\u5417\uff1f",skip_title:"\u8df3\u8fc7",play_menu:"\u5f00\u59cb",level_menu:"\u7ae0\u8282",draw_line_can_not_touch:"\u7ea2\u8272\u533a\u57df\u65e0\u6cd5\u753b\u7ebf",draw_line_anti_gravity:"\u53cd\u91cd\u529b\u5f00\u5173\u5f00\u542f\u7684\u65f6\u5019\uff0c\u5c0f\u7403\u5c06\u4f1a\u5f80\u4e0a\u6389\u843d",spin_again:"\u518d\u6765\u4e00\u6b21",reward_tips:"\u4f60\u83b7\u5f97\u4e86\u5956\u52b1\u91d1\u5e01\u3002",day_title:"\u7b2c%d\u5929",daily_bonus_title:"\u6bcf\u65e5\u5956\u52b1",double_title:"\u53cc\u500d\u5956\u52b1",claim_title:"\u9886\u53d6",wheel_free_tips:"%d\u5c0f\u65f6\u4e4b\u540e\u53ef\u4ee5\u514d\u8d39\u8f6c\u8f6e\u76d8",wheel_title:"\u514d\u8d39\u8f6e\u76d8",skin_tips:"\u9650\u65f6\uff1a24\u5c0f\u65f6",free_skin:"\u514d\u8d39\u76ae\u80a4",skin_expire_tips:"\u9650\u65f6\u76ae\u80a4\u5df2\u7ecf\u8fc7\u671f\uff01",continue_title:"\u7ee7\u7eed",free_coins:"\u514d\u8d39\u91d1\u5e01",star_3_tips:"\u6536\u96c63\u9897\u661f\u661f\u3002",open_box:"\u5f00\u542f\u5b9d\u7bb1",collect_title:"\u6536\u96c6",star_limit_tips:"\u9700\u8981%d\u661f\u661f\u6765\u5f00\u542f\u65b0\u5173\u5361\u3002",vibrate_on_title:"\u9707\u52a8\u5f00",vibrate_off_title:"\u9707\u52a8\u5173",rank_title:"\u6392\u884c\u699c",facebook_fanpage_title:"\u7c89\u4e1d\u9875",contact_us_title:"\u8054\u7cfb\u6211\u4eec",audio_on_title:"\u58f0\u97f3\u5f00",audio_off_title:"\u58f0\u97f3\u5173",new_skin_title:"\u606d\u559c",wheel_is_ready:"\u5e78\u8fd0\u8f6e\u76d8\u5df2\u5c31\u7eea\uff0c\u5feb\u6765\u73a9\u5427\uff01",daily_bonus_is_ready:"\u6bcf\u65e5\u798f\u5229\u5df2\u5c31\u7eea\uff0c\u5feb\u6765\u7b7e\u5230\u9886\u53d6\u5427\uff01",app_name:"\u7269\u7406\u753b\u7ebf"},cc._RF.pop()},{}]},{},["en","zh","GamePrepare","AudioPlayer","EventDispatcher","IAPData","PaymentInfo","PlayerInfo","ProductInfo","AdsPlace","AdsStatus","PaymentCode","LinePhysicsCollider","tableView","viewCell","AdsManager","AnalyseManager","CrossPromManager","GCManager","HttpManager","LocalizationManager","NotificationManager","RateManager","RemoteConfigManager","ShareManager","StoreManager","EffectMan","PlayerMan","HttpClient","DialogManager","ModalComponent","Storage","AudioHelper","Utils","Wheel","AdsReminderComponent","DailyBonusComponent","DailyBonusItemComponent","GetItemComponent","GravityToggle","NoticeComponent","NumComponent","PauseComponent","PlayerBall","WheelComponent","Config","ConfigMan","DailyBonusConfig","LevelConfig","PackageConfig","ShareConfig","SkinConfig","StoreConfig","WheelConfig","EditorHelper","Ball","ElementPool","Obstacle","ObstacleDrop","ObstacleInAndSeperate","ObstacleLeftRight","ObstacleMove","ObstacleMoveAll","ObstacleParticle","GameStep","ItemType","StoreType","WheelType","AdsHelper","AudioMan","Game","GameLifeMan","GameMan","PopupMan","ResMan","StoreMan","BaseScene","EditorScene","GameScene","LevelScene","LoadingScene","MenuScene","PackageScene","PassScene","SettingScene","SkinScene","StoreScene","CoinsUI","DebugUI","LevelCell","PackageCell","SkinCell","StoreCell","TopUI","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);
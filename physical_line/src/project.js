window.__require=function t(e,i,n){function o(c,r){if(!i[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}}var h=i[c]={exports:{}};e[c][0].call(h.exports,function(t){return o(e[c][1][t]||t)},h,h.exports,t,e,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)o(n[c]);return o}({AdsManager:[function(t,e,i){"use strict";cc._RF.push(e,"7938d0hZARCmKGMcrMrUfol","AdsManager");t("../../common/net/HttpClient"),cc.Class({onRewardedVideoFinished:function(t){},onInterstitialAdEnd:function(t){},onShowVideoAdBegin:function(){},onShowVideoAdEnd:function(){}});var n=cc.Class({FIRST_INTERSTITIAL_ADS_INTERVAL:6e4,SHOW_INTERSTITAL_ADS_INTERVAL:6e4,ONE_MINUTE_SECOND:6e4,adConfigUrl:"",MAX_LEVEL:-1,rateTime:0,ratedTime:0,rateRemoveAds:!1,rateCloseAdsEnabled:!1,firstShowAds:!0,lastShowInterstitalTime:0,adListener:null,ctor:function(){},init:function(){var t=this;cc.sys.isNative?(jsb_dp.oneSdkBridge.onInterstitialAdFinished=this.onAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onVideoAdFinished=this.onVideoAdFinishedJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdBegin=this.onShowVideoAdBeginJsb.bind(this),jsb_dp.oneSdkBridge.onShowVideoAdEnd=this.onShowVideoAdEndJsb.bind(this)):(onewx.ads.createRewardedVideoAd(game.config.wxRewardedVideoId),onewx.ads.createBannerAd(game.config.wxBannerId),onewx.ads.setRewardedVideoListener({onRewardedVideoFinished:function(){t.onRewardedVideoShowSucceed(!0)},onRewardedVideoEnd:function(){t.onShowVideoAdEndJsb()}})),this.lastShowInterstitalTime=Date.now()},loadRemoteData:function(){},onGameOnShow:function(){if(this.rateCloseAdsEnabled&&!game.playerMan.player.rated){var t=Date.now()-this.rateTime;!game.playerMan.player.rated&&this.rateTime>0&&t>=.4*this.ONE_MINUTE_SECOND&&t<=5*this.ONE_MINUTE_SECOND&&(this.rateRemoveAds=!0,game.adsManager.removeBannerAds(),game.playerMan.setRated(),game.popupMan.popupCommonDlg(game.local.getValue("rate_remove_all_ads")),this.rateTime=0,this.ratedTime=Date.now())}},setInterstitialAdsInterval:function(t){t<20&&(t=20),this.SHOW_INTERSTITAL_ADS_INTERVAL=1e3*t},setInterstitialAdsFirstInterval:function(t){t<20&&(t=20),this.FIRST_INTERSTITIAL_ADS_INTERVAL=1e3*t},setAdListener:function(t){this.adListener=t},isRemovedAds:function(){return game.playerMan.player.removedAds||this.rateRemoveAds&&this.rateCloseAdsEnabled&&Date.now()-this.ratedTime<30*this.ONE_MINUTE_SECOND},showBannerAds:function(){this.isRemovedAds()||(cc.sys.isNative?this.isShowBannerAds()||jsb_dp.oneSdkBridge.showBannerAd():this.isShowBannerAds()||onewx.ads.showBannerAd())},removeBannerAds:function(){cc.sys.isNative?jsb_dp.oneSdkBridge.removeBannerAd():onewx.ads.removeBannerAd()},isShowBannerAds:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isShowBannerAd()},showInterstitial:function(){this.isRemovedAds()||Date.now()-this.lastShowInterstitalTime<this.getInterstitialAdsInterval()||(this.firstShowAds=!1,this.lastShowInterstitalTime=Date.now(),cc.sys.isNative&&jsb_dp.oneSdkBridge.showInterstitalAd())},getInterstitialAdsInterval:function(){return this.firstShowAds?this.FIRST_INTERSTITIAL_ADS_INTERVAL:this.SHOW_INTERSTITAL_ADS_INTERVAL},showCrossPromotion:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.showCrossPromoteAd()},isRewardVideoReady:function(){return cc.sys.isNative?jsb_dp.oneSdkBridge.isRewardVideoReady():onewx.ads.isRewardVideoReady()},showRewardVideoAd:function(){this.isRewardVideoReady()&&(this.lastShowInterstitalTime=Date.now(),cc.sys.isNative?jsb_dp.oneSdkBridge.showRewardVideoAd():onewx.ads.showRewardedVideoAd())},onAdFinishedJsb:function(t){cc.log("onAdFinishedJsb:"+t);var e=JSON.parse(t).channelName;cc.log("channel :"+e+" show interstitial ads finished"),this.adListener&&this.adListener.onInterstitialAdEnd&&this.adListener.onInterstitialAdEnd(e)},onVideoAdFinishedJsb:function(t){cc.log("onVideoAdFinishedJsb:"+t);var e=JSON.parse(t).isSkipped;e?cc.log("reward video ads skipped"):cc.log("reward video ads show success"),this.onRewardedVideoShowSucceed(!e)},onRewardedVideoShowSucceed:function(t){this.adListener&&this.adListener.onRewardedVideoFinished&&this.adListener.onRewardedVideoFinished(t)},onShowVideoAdBeginJsb:function(){this.adListener&&this.adListener.onShowVideoAdBegin&&this.adListener.onShowVideoAdBegin()},onShowVideoAdEndJsb:function(){this.adListener&&this.adListener.onShowVideoAdEnd&&this.adListener.onShowVideoAdEnd()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{"../../common/net/HttpClient":void 0}],AdsStatus:[function(t,e,i){"use strict";cc._RF.push(e,"d5f93hdT1BGbL4IEXu4SiVy","AdsStatus");e.exports={ADS_STATUS_COMPLETED:0,ADS_STATUS_SKIPPED:1},cc._RF.pop()},{}],AnalyseManager:[function(t,e,i){"use strict";cc._RF.push(e,"e958df3nfpM56oNYYAsZGHg","AnalyseManager");var n=cc.Class({ctor:function(){},initAnalytics:function(){},trackLoginEvent:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackLogin()},trackPurchaseEvent:function(t,e,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackPurchase(t,e,i,n)},trackStartProgressionEvent:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackStartProgression(t,e)},trackCompletedProgressionEvent:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackCompletedProgression(t,e)},trackFailedProgressionEvent:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackFailProgression(t,e)},trackErrorEvent:function(t){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackError(t)},trackEvent:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.trackEvent(t,JSON.stringify(e))}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],AudioHelper:[function(t,e,i){"use strict";cc._RF.push(e,"03b9en9fHFDCZ81AfXbgGJH","AudioHelper");var n={playBtnSound:function(){game.audioPlayer.playEffectByKey("enter")}};e.exports=n,cc._RF.pop()},{}],AudioMan:[function(t,e,i){"use strict";cc._RF.push(e,"8f941347vZOAabSy5ns5R2h","AudioMan"),cc.Class({extends:cc.Component,properties:{winAudio:{default:null,url:cc.AudioClip},loseAudio:{default:null,url:cc.AudioClip},buttonAudio:{default:null,url:cc.AudioClip},bgm:{default:null,url:cc.AudioClip}},playMusic:function(){cc.audioEngine.playMusic(this.bgm,!0)},pauseMusic:function(){cc.audioEngine.pauseMusic()},resumeMusic:function(){cc.audioEngine.resumeMusic()},_playSFX:function(t){cc.audioEngine.playEffect(t,!1)},playWin:function(){this._playSFX(this.winAudio)},playLose:function(){this._playSFX(this.loseAudio)},playButton:function(){this._playSFX(this.buttonAudio)}}),cc._RF.pop()},{}],AudioPlayer:[function(t,e,i){"use strict";cc._RF.push(e,"14d70iBRMlEe5vzr3//erRP","AudioPlayer");var n=cc.Class({});n._instance=null,n._firstUseInstance=!0,n.getInstance=function(){return n._firstUseInstance&&(n._firstUseInstance=!1,n._instance=new n),n._instance},e.exports=n,cc._RF.pop()},{}],Ball:[function(t,e,i){"use strict";cc._RF.push(e,"289b9WHVPdJ3LkUkfPPUuC6","Ball");var n=cc.Class({extends:cc.Component,onBeginContact:function(e,i,n){(cc.log("onBeginContact"),100===n.tag)&&t("Game").instance.onGameSuccess()},onEndContact:function(t,e,i){cc.log("onEndContact")},onPreSolve:function(t,e,i){cc.log("onPreSolve")},onPostSolve:function(t,e,i){cc.log("onPostSolve")}});e.exports=n,cc._RF.pop()},{Game:"Game"}],ConfigMan:[function(t,e,i){"use strict";cc._RF.push(e,"616262Tn5VATamqHugl0z8p","ConfigMan");var n=cc.Class({levelList:null,storeList:null,wheelList:null,shareList:null,ctor:function(){this.storeList=[],this.levelList=[],this.wheelList=[],this.shareList=[]},reload:function(){var t;cc.loader.loadRes("configs/store_config.json",function(t,e){});var e=game.utils.loadJson("res/config/store_config.json"),i=e.stores;for(t=0;t<i.length;++t){var n=new StoreConfig;n.unmarshal(i[t]),this.storeList.push(n)}var o=(e=game.utils.loadJson("res/config/level_configs.json")).levels;for(t=0;t<o.length;++t){var s=new LevelConfig;s.unmarshal(o[t]),this.levelList.push(s)}var c=(e=game.utils.loadJson("res/config/data_config.json")).wheel;for(t=0;t<c.length;++t){var r=new WheelConfig;r.unmarshal(c[t]),this.wheelList.push(r)}var a=e.share;for(t=0;t<a.length;++t){var l=new ShareConfig;l.unmarshal(a[t]),this.shareList.push(l)}},getStoreList:function(){return this.storeList},getLevelList:function(){return this.levelList},getWheelList:function(){return this.wheelList},getShareList:function(){return this.shareList}});n._instance=null,n._firstUseInstance=!0,n.getInstance=function(){return n._firstUseInstance&&(n._firstUseInstance=!1,n._instance=new n),n._instance},e.exports=n,cc._RF.pop()},{}],Config:[function(t,e,i){"use strict";cc._RF.push(e,"30ef0fXi85LqJmVMO6Wm/5C","Config");var n={itunesDownloadUrl:"itms-apps://itunes.apple.com/app/id1372837123?action=write-review",googlePlayUrl:"http://bit.ly/2OMjNkw",iosShortUrl:"https://apple.co/2ETolAc",androidShortUrl:"http://bit.ly/2OMjNkw",appName:"Bricks Crush",iosLeaderBoardKey:"com.douapp.manybricks.rank",iosHardLeaderBoardKey:"com.douapp.manybricks.hardrank",googlePlayLeaderBoardKey:"CgkIouCt0-kBEAIQAQ",IS_DEBUG:!1,IS_ENABLE_HOT_UPDATE:!1,getLeaderBoardKey:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayLeaderBoardKey:this.iosLeaderBoardKey},getHardBoardKey:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayLeaderBoardKey:this.iosHardLeaderBoardKey},getPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.googlePlayUrl:this.itunesDownloadUrl},getShortPlatformDownloadUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidShortUrl:this.iosShortUrl},getCrossPromUrl:function(){return cc.sys.os==cc.sys.OS_ANDROID?this.androidCrossPromUrl:this.crossPromUrl},horizontalGame:!1,adConfigUrl:"https://onegameinc.github.io/many_bricks/game_google.html",crossPromUrl:"https://onegameinc.github.io/cross_promotion/config/many_bricks/cross_promotion.html",androidCrossPromUrl:"https://onegameinc.github.io/cross_promotion/config/many_bricks_android/cross_promotion.html",connectEmail:"bricks.crush.play@gmail.com"};e.exports=n,cc._RF.pop()},{}],CrossPromManager:[function(t,e,i){"use strict";cc._RF.push(e,"08d9cHQNtFOB6cjWDzaO+SC","CrossPromManager");t("../../common/net/HttpClient");var n=cc.Class({ctor:function(){},tryToLoadFromRemote:function(){},getRandomConfig:function(t){var e,i=0;for(e=0;e<t.length;++e)i+=t[e].weight;var n=game.utils.randomNextInt(i),o=0;for(e=0;e<t.length;++e)if((o+=t[e].weight)>n)return t[e];return t[0]},popupCrossPromDlg:function(e,i){var n=t("../controller/CrossPromController").createFromCCB("res/cross/cross_prom_view.ccbi");n.controller.initWith(e,i),n.controller.popup()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{"../../common/net/HttpClient":void 0,"../controller/CrossPromController":void 0}],DialogManager:[function(t,e,i){"use strict";cc._RF.push(e,"0a48fPixHpOX6bY1Mg06bXe","DialogManager");var n=t("./ModalLayer"),o=cc.Class({DIALOG_ZORDER_BEGIN:999,DIALOG_ZORDER_STEP:2,_overlay:null,_scaleFactor:0,_dialogStack:null,ctor:function(){},createOverlay:function(){this._overlay=new n,this._overlay.setColor(cc.color.BLACK),this._overlay.setOpacity(190),this._overlay.setContentSize(cc.size(cc.winSize.width,cc.winSize.height)),this._overlay.setLocalZOrder(999),this._overlay.retain(),this._scaleFactor=1,this._dialogStack=[]},popup:function(t,e){t.ignoreAnchorPointForPosition(!1),t.setScale(this._scaleFactor);var i=this._dialogStack.length;cc.log("dlgLen:"+i),0==i?t.setLocalZOrder(this.DIALOG_ZORDER_BEGIN):t.setLocalZOrder(this._dialogStack[i-1].getLocalZOrder()+this.DIALOG_ZORDER_STEP),this._dialogStack.push(t),this._overlay.setLocalZOrder(t.getLocalZOrder()-1),null==this._overlay.getParent()&&this.attachScene(this._overlay),e&&e.overlayColor?this._overlay.setColor(e.overlayColor):this._overlay.setColor(cc.color.BLACK),e&&e.overlayOpacity?this._overlay.setOpacity(e.overlayOpacity):this._overlay.setOpacity(190),this.attachScene(t)},attachScene:function(t){cc.director.getRunningScene().addChild(t)},close:function(t,e){var i;cc.isUndefined(e)&&(e=!0);var n=this._dialogStack.length;for(i=n-1;i>=0&&t!==this._dialogStack[i];--i);if(i>=0)if(this._dialogStack.splice(i,1),n=this._dialogStack.length,t.removeFromParent(e),0===n)this._overlay.removeFromParent(!1);else{var o=n-1;o>=0?this._overlay.setLocalZOrder(this._dialogStack[o].getLocalZOrder()-1):(this._overlay.removeFromParent(!1),this._dialogStack.length=0)}},closeAll:function(){for(var t=this._dialogStack.length;0!=t;){var e=this._dialogStack[t-1];this.close(e,!0),t=this._dialogStack.length}}});o._instance=null,o._firstUseInstance=!0,o.getInstance=function(){return o._firstUseInstance&&(o._firstUseInstance=!1,o._instance=new o),o._instance},e.exports=o,cc._RF.pop()},{"./ModalLayer":"ModalLayer"}],GCManager:[function(t,e,i){"use strict";cc._RF.push(e,"75521gPlllIt5KQcNQYF3y2","GCManager");var n=cc.Class({ctor:function(){},isGameCenterAvailable:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.isGameCenterAvailable()},reportScore:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportScore(t,e)},showLeaderboard:function(t){cc.sys.isNative&&jsb_dp.oneSdkBridge.showLeaderboard(t)},reportAchievement:function(t,e){cc.sys.isNative&&jsb_dp.oneSdkBridge.reportAchievement(t,e)},showAchievements:function(t){cc.sys.isNative&&jsb_dp.oneSdkBridge.showAchievements(t)},highScoreForLeaderboard:function(t){return cc.sys.isNative?jsb_dp.oneSdkBridge.highScoreForLeaderboard(t):0},progressForAchievement:function(t){return cc.sys.isNative?jsb_dp.oneSdkBridge.progressForAchievement(t):0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],GameScene:[function(t,e,i){"use strict";cc._RF.push(e,"26875kqBIdPPr9pm2+7tkD1","GameScene");var n=t("GameStep"),o=(t("LinePhysicsCollider"),t("Game")),s=t("Ball");cc.Class({extends:cc.Component,properties:{rootCanvas:cc.Node,gameStep:0,startBall:cc.Node,endBall:cc.Node},onLoad:function(){this.rootCanvas.on(cc.Node.EventType.TOUCH_START,this.onTouchStart.bind(this),this),this.rootCanvas.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove.bind(this),this),this.rootCanvas.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd.bind(this),this),this.rootCanvas.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel.bind(this),this),this.rootCanvas.on("refresh",function(t){cc.director.loadScene("level-"+game.playerMan.getLevel())}),this.startBall.addComponent(s),cc.loader.loadRes("prefabs/top_ui",function(t,e){var i=cc.instantiate(e);this.rootCanvas.addChild(i)}.bind(this)),this.startBall.getComponent(cc.PhysicsCircleCollider).density=.4,this.startBall.getComponent(cc.PhysicsCircleCollider).friction=.1},start:function(){this.gameStep=n.START},checkIsCanDraw:function(t,e){return t.sub(e).mag()>=6},onTouchStart:function(t){this.curPhysicalLine=new cc.Node("Graphics"),this.curPhysicalLine.group="line",this.path=this.curPhysicalLine.addComponent(cc.Graphics),this.path.strokeColor=cc.color(255,0,0,255),this.path.lineWidth=6,this.curPhysicalLine.parent=this.rootCanvas,this.curPhysicalLine.x=.5*-this.rootCanvas.width,this.curPhysicalLine.y=.5*-this.rootCanvas.height;var e=new cc.Node("Graphics");this.dashedPath=e.addComponent(cc.Graphics),this.dashedPath.strokeColor=cc.color(255,0,0,100),this.dashedPath.lineWidth=6,e.parent=this.rootCanvas,e.x=.5*-this.rootCanvas.width,e.y=.5*-this.rootCanvas.height,this.dashPhysicalLine=e;var i=t.getLocation();i=this.node.parent.convertToNodeSpaceAR(i),this.points=[],this.points.push(cc.p(i.x,i.y)),this.path.moveTo(i.x,i.y)},onTouchMove:function(t){var e=t.getLocation();e=this.node.parent.convertToNodeSpaceAR(e);var i=this.points[this.points.length-1];this.checkIsCanDraw(i,e)&&(cc.director.getPhysicsManager().rayCast(i,e,cc.RayCastType.All).length<=0?(this.points.push(cc.p(e.x,e.y)),this.path.lineTo(e.x,e.y),this.path.stroke()):(this.dashedPath.clear(),this.dashedPath.moveTo(i.x,i.y),this.dashedPath.lineTo(e.x,e.y),this.dashedPath.stroke()))},onTouchEnd:function(t){this.dashedPath.clear(),this.dashPhysicalLine.destroy(),this.createRigidBody(),o.instance.startPhysicsGravity()},onTouchCancel:function(t){this.dashedPath.clear(),this.dashPhysicalLine.destroy(),this.createRigidBody(),o.instance.startPhysicsGravity()},update:function(){switch(this.gameStep){case n.START:(this.startBall.x>.5*cc.winSize.width||this.startBall.x<.5*-cc.winSize.width||this.startBall.y>.5*cc.winSize.height||this.startBall.y<.5*-cc.winSize.height)&&(this.rootCanvas.dispatchEvent(new cc.Event.EventCustom("refresh",!0)),this.gameStep=n.END);break;case n.END:}},onStartClicked:function(){console.log("Start button clicked!")},createRigidBody:function(){this.curPhysicalLine.addComponent(cc.RigidBody);var t=this.curPhysicalLine.addComponent("LinePhysicsCollider");t.points=this.points,t.friction=.3,t.restitution=.1,t.density=1.5,t.lineWidth=6,t.apply()}}),cc._RF.pop()},{Ball:"Ball",Game:"Game",GameStep:"GameStep",LinePhysicsCollider:"LinePhysicsCollider"}],GameStep:[function(t,e,i){"use strict";cc._RF.push(e,"0b5bbx9GWpJiKDveFopmS0B","GameStep");e.exports={PRE_START:0,START:1,END:2},cc._RF.pop()},{}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"e7c9bO7F+hPWLqyo1CBgpUv","Game");var n=0,o=cc.Class({extends:cc.Component,properties:{gameStep:0},statics:{instance:null},onLoad:function(){o.instance=this;var t=cc.director.getPhysicsManager();t.enabled=!0,t.gravity=cc.v2(0,0),t.enabledAccumulator=!0,t.FIXED_TIME_STEP=1/30,t.VELOCITY_ITERATIONS=8,t.POSITION_ITERATIONS=8},start:function(){this.gameStep=n},startPhysicsGravity:function(){cc.director.getPhysicsManager().gravity=cc.v2(0,-640)},update:function(t){},onGameSuccess:function(){cc.log("game success"),cc.director.getPhysicsManager().enabled=!1,cc.director.loadScene("PassScene")}});e.exports=o,cc._RF.pop()},{}],IAPData:[function(t,e,i){"use strict";cc._RF.push(e,"9c2c1QqxOlOzLDS+zenjfRH","IAPData");e.exports=function(t,e,i){this.productId=t,this.price=e,this.productNum=i},cc._RF.pop()},{}],LevelCell:[function(t,e,i){"use strict";var n;function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}cc._RF.push(e,"939a6+N+1NCx6I27VdE+0VG","LevelCell"),cc.Class({extends:t("viewCell"),properties:(n={starWhite1:cc.Sprite,starWhite2:cc.Sprite,starWhite3:cc.Sprite,starYellow1:cc.Sprite,starYellow2:cc.Sprite,starYellow3:cc.Sprite,lockSprite:cc.Sprite,completedSprite:cc.Sprite,lbLevel:cc.Label,darkSprite:cc.Sprite},o(n,"lockSprite",cc.Sprite),o(n,"index",cc.Label),o(n,"group",cc.Label),n),onLoad:function(){},init:function(t,e,i,n){},clicked:function(){}}),cc._RF.pop()},{viewCell:"viewCell"}],LevelScene:[function(t,e,i){"use strict";cc._RF.push(e,"61200XLJN9LZL/jq7KspOaf","LevelScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){this.initView()},_getdata:function(t){for(var e=[],i=0;i<t;++i){var n={};n.name="a"+i,e.push(n)}return e},initView:function(){var t=this._getdata(10);this.tableView.getComponent(cc.tableView).initTableView(t.length,{array:t,target:this})},start:function(){},onBackClicked:function(){}}),cc._RF.pop()},{}],LinePhysicsCollider:[function(t,e,i){"use strict";cc._RF.push(e,"d5758YF7qlAU5j59/p8CY10","LinePhysicsCollider");var n=cc.PhysicsManager.PTM_RATIO,o=cc.Class({name:"LinePhysicsCollider",extends:cc.PhysicsCollider,mixins:[cc.Collider.Polygon],properties:{lineWidth:5},editor:{menu:!1,requireComponent:cc.RigidBody},_createShape:function(t){for(var e=[],i=this.points,o=(this.offset,0);o<i.length-1;o++){var s=i[o],c=i[o+1],r=s.sub(c).mag(),a=Math.atan2(c.y-s.y,c.x-s.x)-Math.PI/2,l=s.add(c).mul(.5),h=new b2.PolygonShape;h&&(h.SetAsBox(this.lineWidth/2/n,r/2/n,new b2.Vec2(l.x/n,l.y/n),a),e.push(h))}return e}});e.exports=o,cc._RF.pop()},{}],LoadingScene:[function(t,e,i){"use strict";cc._RF.push(e,"e43484cq35P16D9yOAHZb+h","LoadingScene"),cc.Class({extends:cc.Component,properties:{},start:function(){},onStartClicked:function(){console.log("Start button clicked!"),cc.director.loadScene("GameScene")},onChapterClicked:function(){},onSkinClicked:function(){},onStoreClicked:function(){},onSettingClicked:function(){},onRankClicked:function(){},onSoundClicked:function(){},onAddCoinsClicked:function(){}}),cc._RF.pop()},{}],LocalizationManager:[function(t,e,i){"use strict";cc._RF.push(e,"b77f8UUiP1Ba5g37gEwBmHR","LocalizationManager");var n=cc.Class({_isLoaded:!1,curLanguage:null,ctor:function(){},reload:function(){this._isLoaded||(this.curLanguage=game.utils.loadJson("res/config/strings-zh.json"),this._isLoaded=!0)},getValue:function(t){return this.curLanguage[t]||t},isChinese:function(){return!0}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],MenuScene:[function(t,e,i){"use strict";cc._RF.push(e,"7ae4egF1jBKrK/HLWz7wJzy","MenuScene"),t("gamePrepare").start(),cc.Class({extends:cc.Component,properties:{},start:function(){},onStartClicked:function(){console.log("Start button clicked!"),cc.director.loadScene("level-"+game.playerMan.getLevel())},onChapterClicked:function(){},onSkinClicked:function(){},onStoreClicked:function(){},onSettingClicked:function(){},onRankClicked:function(){},onSoundClicked:function(){},onAddCoinsClicked:function(){}}),cc._RF.pop()},{gamePrepare:"gamePrepare"}],ModalLayer:[function(t,e,i){"use strict";cc._RF.push(e,"397c0txaGhCIrB8vo6tXGBi","ModalLayer");var n=cc.Class({extends:cc.Component,properties:{mask:cc.Node},onLoad:function(){},onEnable:function(){this.mask.on("touchstart",function(t){t.stopPropagation()}),this.mask.on("touchend",function(t){t.stopPropagation()})},onDisable:function(){this.mask.off("touchstart",function(t){t.stopPropagation()}),this.mask.off("touchend",function(t){t.stopPropagation()})}});e.exports=n,cc._RF.pop()},{}],NotificationManager:[function(t,e,i){"use strict";cc._RF.push(e,"3f6b7/Ir/JPgaVQiyaE01U6","NotificationManager");var n=cc.Class({ctor:function(){},registerNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.registerNotification()},scheduleNotification:function(t,e,i,n){cc.sys.isNative&&jsb_dp.oneSdkBridge.scheduleNotification(t,e,i,n)},unscheduleNotification:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.unscheduleNotification()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],PassScene:[function(t,e,i){"use strict";cc._RF.push(e,"59c2dawYxtFm6uwuNwc/NSl","PassScene"),cc.Class({extends:cc.Component,properties:{},start:function(){},onNextClicked:function(){game.playerMan.addLevel(),cc.director.loadScene("level-"+game.playerMan.getLevel())}}),cc._RF.pop()},{}],PaymentCode:[function(t,e,i){"use strict";cc._RF.push(e,"35e29m621tLi5DuVctekfRd","PaymentCode");e.exports={PAYMENT_CODE_SUCCESS:0,PAYMENT_CODE_FAIL:1},cc._RF.pop()},{}],PaymentInfo:[function(t,e,i){"use strict";cc._RF.push(e,"490cdmQ0LRAgrseVc5XbCZv","PaymentInfo");var n=function(){this.purchaseId=null,this.productId=null,this.receipt=null,this.signature=null,this.info=""};n.prototype.unmarshal=function(t){this.purchaseId=t.purchaseId||"",this.productId=t.productId||"",this.receipt=t.receipt||"",this.signature=t.signature||"",this.info=t.info||""},e.exports=n,cc._RF.pop()},{}],PlayerInfo:[function(t,e,i){"use strict";cc._RF.push(e,"28e5fVLdExMd56mCDT4lvR0","PlayerInfo");var n=function(){this.playerId="",this.bestScore=0,this.removedAds=!1,this.level=0,this.levelMap=null,this.rated=!1};n.prototype.unmarshall=function(t){this.playerId=t.playerId,this.bestScore=t.bestScore||0,this.removedAds=t.removedAds||!1,this.level=t.level||1,this.levelMap=t.levelMap||{},this.rated=t.rated||!1},n.createDefault=function(){var t=new n;return t.hintsCount=5,t.bestScore=0,t.removedAds=!1,t.level=1,t.levelMap={},t.rated=!1,t},e.exports=n,cc._RF.pop()},{}],PlayerMan:[function(t,e,i){"use strict";cc._RF.push(e,"86277QQNrhE8rytnuoKt+eQ","PlayerMan");var n=t("../entity/PlayerInfo"),o=cc.Class({player:null,bestScoreKey:null,levelBoardKey:null,ctor:function(){},initData:function(){var t,e=game.storage.getItem("player_key",null);null==e||""==e?(t=n.createDefault(),game.storage.setItem("player_key",JSON.stringify(t))):(t=new n).unmarshall(JSON.parse(e)),this.player=t},getBestScore:function(){return this.player.bestScore},getLevel:function(){return cc.isUndefined(this.player.level)?1:this.player.level},setLevel:function(t){this.player.level=t,this._flushToStorage()},updateLevelStar:function(t,e){(cc.isUndefined(this.player.levelMap[t])||this.player.levelMap[t]<e)&&(this.player.levelMap[t]=e,this._flushToStorage())},getLevelStar:function(t){return this.player.levelMap[t]||0},addLevel:function(){this.player.level++,this._flushToStorage()},removedAds:function(){this.player.removedAds=!0,this._flushToStorage()},setRated:function(){this.player.rated=!0,this._flushToStorage()},_flushToStorage:function(){game.storage.setItem("player_key",JSON.stringify(this.player))}});o._instance=null,o._firstUseInstance=!0,o.getInstance=function(){return o._firstUseInstance&&(o._firstUseInstance=!1,o._instance=new o),o._instance},e.exports=o,cc._RF.pop()},{"../entity/PlayerInfo":"PlayerInfo"}],ProductInfo:[function(t,e,i){"use strict";cc._RF.push(e,"b3f63X+pghNvLoqjWeAhvKZ","ProductInfo");var n=function(){this.productId=0,this.price=0,this.description=null,this.title=null};n.prototype.unmarshal=function(t){this.productId=t.productId,this.price=t.price,this.description=t.description,this.title=t.title},e.exports=n,cc._RF.pop()},{}],RateManager:[function(t,e,i){"use strict";cc._RF.push(e,"2c30a2ERNpBCa2vwGHGk4Pu","RateManager");var n=cc.Class({ctor:function(){},init:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.initRateParams(3,1,.5,.5,!0)},rate:function(){cc.sys.isNative&&jsb_dp.oneSdkBridge.launchRate()},likeInFacebook:function(t){cc.sys.openURL(t)},launchAppReview:function(){return!!cc.sys.isNative&&jsb_dp.oneSdkBridge.launchAppReview()}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],ShareManager:[function(t,e,i){"use strict";cc._RF.push(e,"8104fN0tu1Hr73cpD+k8gqG","ShareManager");var n=cc.Class({ctor:function(){},shareWithSystem:function(t){if(cc.sys.isNative){var e="";cc.sys.os===cc.sys.OS_IOS&&(e=game.utils.getScreenShot("capture_screen.jpg")),jsb_dp.oneSdkBridge.systemShare(e,t)}},openAppWithIdentifier:function(t){cc.sys.isNative&&jsb_dp.oneSdkBridge.openAppWithIdentifier(t)},sendEmail:function(t,e,i){cc.sys.isNative&&jsb_dp.oneSdkBridge.sendEmail(t,e,i)},wxShare:function(t,e){window.wx&&wx.updateShareMenu({withShareTicket:!1,complete:function(i){wx.shareAppMessage({title:t.desc,imageUrl:t.image,query:"source=share_"+t.id,success:function(t){e&&e(!0)},fail:function(t){e&&e(!1)}})}})},wxGroupShare:function(t,e,i){window.wx&&wx.updateShareMenu({withShareTicket:!0,success:function(n){wx.shareAppMessage({title:t.desc,imageUrl:t.image,query:"source="+e+"&share=share_"+t.id,success:function(t){console.error(JSON.stringify(t)),t&&t.shareTickets?i&&i(!0):i&&i(!1)},fail:function(t){i&&i(!1)}})}})},registerWxShare:function(t,e){window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(){return{title:t,imageUrl:e}}))}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],SkinCell:[function(t,e,i){"use strict";cc._RF.push(e,"2a4d1Kt86JFxpYEZReOD/KT","SkinCell"),cc.Class({extends:t("viewCell"),properties:{lbCoins:cc.Node,ballSprite:cc.Sprite,index:cc.Label,group:cc.Label},onLoad:function(){},init:function(t,e,i,n){},clicked:function(){}}),cc._RF.pop()},{viewCell:"viewCell"}],SkinScene:[function(t,e,i){"use strict";cc._RF.push(e,"9c242fq3FBK/6tZ/AzSsL0X","SkinScene"),cc.Class({extends:cc.Component,properties:{tableView:cc.Node},onLoad:function(){this.initView()},_getdata:function(t){for(var e=[],i=0;i<t;++i){var n={};n.name="a"+i,e.push(n)}return e},initView:function(){var t=this._getdata(10);this.tableView.getComponent(cc.tableView).initTableView(t.length,{array:t,target:this})},start:function(){},onBackClicked:function(){}}),cc._RF.pop()},{}],Storage:[function(t,e,i){"use strict";cc._RF.push(e,"93a7cXqL7JBq5suN480jivQ","Storage");var n=cc.Class({extends:cc.Component,properties:{},setItem:function(t,e){cc.sys.localStorage.setItem(t,e)},getItem:function(t,e){var i=cc.sys.localStorage.getItem(t);return i||e},removeItem:function(t){cc.sys.localStorage.removeItem(t)}});n.sharedDirector=null,n.firstUseDirector=!0,n.getInstance=function(){return n.firstUseDirector&&(n.firstUseDirector=!1,n.sharedDirector=new n),n.sharedDirector},e.exports=n,cc._RF.pop()},{}],StoreManager:[function(t,e,i){"use strict";cc._RF.push(e,"d74e0gmhL1JEZS1q08cbqEC","StoreManager");var n=t("../entity/PaymentInfo"),o=t("../enum/PaymentCode"),s=t("../entity/ProductInfo"),c=(cc.Class({onPaymentCompleted:function(t,e){},onGetUnverifiedReceiptList:function(t){},onGetProductList:function(t){}}),cc.Class({paymentDelegate:null,productList:null,ctor:function(){cc.sys.isNative&&(jsb_dp.oneSdkBridge.onGetProductList=this.onGetProductList.bind(this),jsb_dp.oneSdkBridge.onPurchase=this.onPurchase.bind(this),jsb_dp.oneSdkBridge.onConsume=this.onConsume.bind(this),jsb_dp.oneSdkBridge.onGetUnverifiedReceiptList=this.onGetUnverifiedReceiptList.bind(this))},setPaymentDelegate:function(t){this.paymentDelegate=t},onGetProductList:function(t){if(cc.log("onGetProductList: "+t),t){var e=JSON.parse(t);if(e&&e.length>0){for(var i=[],n=0;n<e.length;++n){var o=new s;o.unmarshal(e[n]),i.push(o)}this.paymentDelegate.onGetProductList(i),this.productList=i}}},onPurchase:function(t){var e;cc.log("onPurchase: "+t),JSON.parse(t).errorCode===o.PAYMENT_CODE_SUCCESS?(e=JSON.parse(t),this._paymentCompleted(o.PAYMENT_CODE_SUCCESS,e)):(e=JSON.parse(t),this._paymentCompleted(o.PAYMENT_CODE_FAIL,e))},onConsume:function(t){cc.log("onConsume: "+t)},onGetUnverifiedReceiptList:function(t){if(cc.log("onGetUnverifiedReceiptList: "+t),t&&t.length>0){var e=JSON.parse(t);if(e&&e.length>0){for(var i=[],o=0;o<e.length;++o){var s=e[o],c=new n;c.unmarshal(s),i.push(c)}this.paymentDelegate.onGetUnverifiedReceiptList(i)}}},_paymentCompleted:function(t,e){var i=new n;if(i.unmarshal(e),t===o.PAYMENT_CODE_SUCCESS)if(e){this.paymentDelegate.onPaymentCompleted(o.PAYMENT_CODE_SUCCESS,i);var s=this._getProductById(i.productId);if(s){var c=100*this._getNumFromString(s.price);game.analyseManager.trackPurchaseEvent(c,s.title,i.productId,i.receipt)}}else this.paymentDelegate.onPaymentCompleted(o.PAYMENT_CODE_FAIL,i);else this.paymentDelegate.onPaymentCompleted(o.PAYMENT_CODE_FAIL,i);cc.sys.os!==cc.sys.OS_ANDROID&&this.consume(i.purchaseId)},_getNumFromString:function(t){return t.replace(/[^0-9.]/gi,"")},requestProduct:function(t){cc.sys.isNative&&jsb_dp.oneSdkBridge.getProductsInfo(t)},payForProduct:function(t){cc.log("payForProduct:"+t),cc.sys.isNative&&jsb_dp.oneSdkBridge.purchase(t)},consume:function(t){cc.log("consume:"+t),cc.sys.isNative&&t&&t.length>0&&jsb_dp.oneSdkBridge.consume(t)},restoreCompletedTransactions:function(){cc.log("restoreCompletedTransactions"),cc.sys.isNative&&jsb_dp.oneSdkBridge.restoreTransactions()},getUnverifiedReceiptList:function(){cc.log("getUnverifiedReceiptList"),cc.sys.isNative&&jsb_dp.oneSdkBridge.getUnverifiedReceiptList()},_getProductById:function(t){if(this.productList&&this.productList.length>0)for(var e=0;e<this.productList.length;++e){var i=this.productList[e];if(i.productId===t)return i}return null}}));c.sharedDirector=null,c.firstUseDirector=!0,c.getInstance=function(){return c.firstUseDirector&&(c.firstUseDirector=!1,c.sharedDirector=new c),c.sharedDirector},e.exports=c,cc._RF.pop()},{"../entity/PaymentInfo":"PaymentInfo","../entity/ProductInfo":"ProductInfo","../enum/PaymentCode":"PaymentCode"}],TopUI:[function(t,e,i){"use strict";cc._RF.push(e,"25598GdJGBNSaTiDFgfTMhF","TopUI");var n=cc.Class({extends:cc.Component,properties:{lbLevel:cc.Node},onLoad:function(){this.lbLevel.getComponent(cc.Label).string=game.playerMan.getLevel()},onRefreshClicked:function(){this.node.dispatchEvent(new cc.Event.EventCustom("refresh",!0))}});e.exports=n,cc._RF.pop()},{}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"347a25c7g9HNIy+eDgmlGAx","Utils");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={randomNextInt:function(t){return Math.floor(Math.random()*t)},randomNextNumber:function(t){return Math.random()*t},rangeNextInt:function(t,e){return t+this.randomNextInt(e-t+1)},rangeNextNumber:function(t,e){return t+this.randomNextNumber(e-t)},randomNextNumberInRange:function(t,e){return Math.random()*(e-t)+t},randomNextIntInRange:function(t,e){return Math.floor(Math.random()*(e-t)+t)},sprintf:function(){for(var t,e,i,o,s,c=0,r=arguments[c++],a=[];r;){if(e=/^[^\x25]+/.exec(r))a.push(e[0]);else if(e=/^\x25{2}/.exec(r))a.push("%");else{if(!(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(r)))throw"Huh ?!";if(null==(t=arguments[e[1]||c++])||void 0==t)throw"Too few arguments.";if(/[^s]/.test(e[7])&&"number"!=typeof t)throw"Expecting number but found "+(void 0===t?"undefined":n(t));switch(e[7]){case"b":t=t.toString(2);break;case"c":t=String.fromCharCode(t);break;case"d":t=parseInt(t);break;case"e":t=e[6]?t.toExponential(e[6]):t.toExponential();break;case"f":t=e[6]?parseFloat(t).toFixed(e[6]):parseFloat(t);break;case"o":t=t.toString(8);break;case"s":t=(t=String(t))&&e[6]?t.substring(0,e[6]):t;break;case"u":t=Math.abs(t);break;case"x":t=t.toString(16);break;case"X":t=t.toString(16).toUpperCase()}t=/[def]/.test(e[7])&&e[2]&&t>=0?"+"+t:t,o=e[3]?"0"==e[3]?"0":e[3].charAt(1):" ",s=e[5]-String(t).length-"".length,i=e[5]?str_repeat(o,s):"",a.push(""+(e[4]?t+i:i+t))}r=r.substring(e[0].length)}return a.join("")},scaleCCLabelBMFont:function(t,e){if(t.width>e){var i=e/t.width;t.scaleX=t.scaleY=i}else t.scaleX=t.scaleY=1},scaleCCLabelBMFontWithMaxScale:function(t,e,i){t.width*t.scaleX>e&&(t.scaleX=t.scaleY=e/t.width),t.scaleX>i&&(t.scaleX=t.scaleY=i)},walkNode:function(t,e){if(t){var i=e(t);if(i)for(var n in t.children)if(!(i=this.walkNode(t.children[n],e)))break;return i}return!0},getFormatTime:function(t){var e=t-Math.floor(t);return(t=Math.floor(t))<=60?""+(t+e).toFixed(2):t<=3600?Math.floor(t/60)+":"+(t%60+e).toFixed(2):Math.floor(t/3600)+":"+Math.floor(t%3600/60)+":"+(t%216e3+e).toFixed(2)},seekNodeByTag:function(t,e){if(null===t)return null;if(t.getTag()===e)return t;var i=t.getChildren();if(i&&i.length>0)for(var n=i.length,o=0;o<n;o++){var s=i[o];if(null!==s){var c=this.seekNodeByTag(s,e);if(null!==c)return c}}return null}};e.exports=o,cc._RF.pop()},{}],Wheel:[function(t,e,i){"use strict";cc._RF.push(e,"986c821ykxE9LY/tLgwXKCg","Wheel");var n=function(t,e,i,n,o){return{x:e.x*(1-t)*(1-t)*(1-t)+3*i.x*t*(1-t)*(1-t)+3*n.x*t*t*(1-t)+o.x*t*t*t,y:e.y*(1-t)*(1-t)*(1-t)+3*i.y*t*(1-t)*(1-t)+3*n.y*t*t*(1-t)+o.y*t*t*t}},o=cc.Class({target:null,bCurve:[.42,-.08,.58,1.1],fps:0,nRound:1,frameCount:0,elapsedTime:0,totalRotationTime:0,startRotation:0,movement:0,easyFunction:null,endCallback:null,targetRotation:0,wheelItemAngle:0,lastTime:0,lastRotation:0,speed:0,_lotteryReseting:!1,_isHighRotating:!1,_startUpdate:!1,ctor:function(t,e){this.target=t,this.fps=e||60},rotate:function(t,e,i,n){this._startUpdate||(this.targetRotation=e,this.frameCount=0,this.totalRotationTime=t,this.startRotation=this.target.rotation%360,this.movement=e-this.startRotation,this.wheelItemAngle=i,this.lastTime=Date.now(),this.lastRotation=0,this._isHighRotating=!1,this._lotteryReseting=!1,this.easyFunction=this.defaultEasyFunction,this.endCallback=n,this.scheduleUpdate(),this._startUpdate=!0)},scheduleUpdate:function(){this.elapsedTime=0,cc.director.getScheduler().scheduleUpdateForTarget(this,0,!1)},unscheduleUpdate:function(){cc.director.getScheduler().unscheduleUpdateForTarget(this),this.elapsedTime=0},update:function(t){this._startUpdate&&this.moveByFrame(t)},moveByFrame:function(t){this.elapsedTime+=t;var e=this.easyFunction(this.elapsedTime/this.totalRotationTime);this.target.rotation=e*this.movement+this.startRotation,this.targetRotation<=this.target.rotation&&(this.target.rotation=this.targetRotation,this.unscheduleUpdate(),this._startUpdate=!1,this.endCallback&&this.endCallback()),this.speed=(this.target.rotation-this.lastRotation)/(Date.now()-this.lastTime)*1e3,this.lastTime=Date.now(),this.lastRotation=this.target.rotation},defaultEasyFunction:function(t){var e=this.bCurve;return n(t,{x:0,y:0},{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:1,y:1}).y},getTargetRotation:function(){return this.targetRotation},getSpeed:function(){return this.speed}});e.exports=o,cc._RF.pop()},{}],gamePrepare:[function(t,e,i){"use strict";cc._RF.push(e,"e5d07Ynz6FHiLFD9bGYGKAL","gamePrepare");var n=t("Storage"),o=t("Config"),s=t("ConfigMan"),c=t("PlayerMan"),r=t("Utils");cc.isUndefined=function(t){return void 0===t};e.exports.start=function(){(function(){var t={};t.prepared||(t.prepared=!0,t.storage=n.getInstance(),t.config=o,t.configMan=s.getInstance(),t.utils=r,t.playerMan=c.getInstance()),window.game=t})(),game.playerMan.initData()},cc._RF.pop()},{Config:"Config",ConfigMan:"ConfigMan",PlayerMan:"PlayerMan",Storage:"Storage",Utils:"Utils"}],tableView:[function(t,e,i){"use strict";cc._RF.push(e,"afd05VTp31MwbLm7515Hea3","tableView");var n=cc.Enum({Horizontal:0,Vertical:1}),o=cc.Enum({None:0,Up:1,Down:2,Left:3,Rigth:4}),s=cc.Enum({LEFT_TO_RIGHT__TOP_TO_BOTTOM:0,TOP_TO_BOTTOM__LEFT_TO_RIGHT:1}),c=cc.Enum({Scroll:0,Flip:1});function r(t,e){return cc.v2(t.x-e.x,t.y-e.y)}function a(t,e){for(var i=0,n=t.children,o=n.length;i<o;i++)if(n[i]._cellIndex===e)return n[i];return null}var l=cc.Class({extends:cc.ScrollView,editor:!1,properties:{_data:null,_minCellIndex:0,_maxCellIndex:0,_paramCount:0,_count:0,_cellCount:0,_showCellCount:0,_groupCellCount:null,_scrollDirection:o.None,_cellPool:null,_view:null,_page:0,_pageTotal:0,cell:{default:null,type:cc.Prefab,notify:function(t){}},ScrollModel:{default:0,type:n,notify:function(t){this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1,this.verticalScrollBar=null):(this.vertical=!0,this.horizontal=!1,this.horizontalScrollBar=null)},tooltip:"\u6a2a\u5411\u7eb5\u5411\u6ed1\u52a8"},ViewType:{default:0,type:c,notify:function(t){this.ViewType===c.Flip?this.inertia=!1:this.inertia=!0},tooltip:"\u4e3aScroll\u65f6,\u4e0d\u505a\u89e3\u91ca\n\u4e3aFlipw\u65f6\uff0c\u5728Scroll\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u7ffb\u9875\u7684\u884c\u4e3a"},isFill:{default:!1,tooltip:"\u5f53\u8282\u70b9\u4e0d\u80fd\u94fa\u6ee1\u4e00\u9875\u65f6\uff0c\u9009\u62e9isFill\u4e3atrue\u4f1a\u586b\u5145\u8282\u70b9\u94fa\u6ee1\u6574\u4e2aview"},Direction:{default:0,type:s,tooltip:"\u89c4\u5b9acell\u7684\u6392\u5217\u65b9\u5411"},pageChangeEvents:{default:[],type:cc.Component.EventHandler,tooltip:"\u4ec5\u5f53ViewType\u4e3apageView\u65f6\u6709\u6548\uff0c\u521d\u59cb\u5316\u6216\u7ffb\u9875\u65f6\u89e6\u53d1\u56de\u8c03\uff0c\u5411\u56de\u8c03\u4f20\u5165\u4e24\u4e2a\u53c2\u6570\uff0c\u53c2\u6570\u4e00\u4e3a\u5f53\u524d\u5904\u4e8e\u54ea\u4e00\u9875\uff0c\u53c2\u6570\u4e8c\u4e3a\u4e00\u5171\u591a\u5c11\u9875"}},statics:{_cellPoolCache:{}},onLoad:function(){var t=this;l._tableView.push(this);var e=this.node.destroy;this.node.destroy=function(){t.clear(),e.call(t.node)};var i=this.node._onPreDestroy;this.node._onPreDestroy=function(){t.clear(),i.call(t.node)}},onDestroy:function(){for(var t in l._tableView)if(l._tableView[t]===this)return void l._tableView.splice(t)},_initCell:function(t,e){if(this.ScrollModel===n.Horizontal&&this.Direction===s.TOP_TO_BOTTOM__LEFT_TO_RIGHT||this.ScrollModel===n.Vertical&&this.Direction===s.LEFT_TO_RIGHT__TOP_TO_BOTTOM)for(var i=t._cellIndex*t.childrenCount,o=0;o<t.childrenCount;++o){(a=t.children[o].getComponent("viewCell"))&&(a._cellInit_(this),a.init(i+o,this._data,e,[t._cellIndex,o]))}else if(this.ViewType===c.Flip){var r=(i=Math.floor(t._cellIndex/this._showCellCount))*this._showCellCount*t.childrenCount;for(o=0;o<t.childrenCount;++o){(a=t.children[o].getComponent("viewCell"))&&(a._cellInit_(this),a.init(this._showCellCount*o+t._cellIndex%this._showCellCount+r,this._data,e,[o+i*t.childrenCount,o]))}}else for(o=0;o<t.childrenCount;++o){var a;(a=t.children[o].getComponent("viewCell"))&&(a._cellInit_(this),a.init(o*this._count+t._cellIndex,this._data,e,[o,o]))}},_setCellPosition:function(t,e){this.ScrollModel===n.Horizontal?(t.x=0===e?-this.content.width*this.content.anchorX+t.width*t.anchorX:a(this.content,e-1).x+t.width,t.y=(t.anchorY-this.content.anchorY)*t.height):(t.y=0===e?this.content.height*(1-this.content.anchorY)-t.height*(1-t.anchorY):a(this.content,e-1).y-t.height,t.x=(t.anchorX-this.content.anchorX)*t.width)},_addCell:function(t){var e=this._getCell();this._setCellAttr(e,t),this._setCellPosition(e,t),e.parent=this.content,this._initCell(e)},_setCellAttr:function(t,e){t.setSiblingIndex(e>=t._cellIndex?this._cellCount:0),t._cellIndex=e},_addCellsToView:function(){for(var t=0;t<=this._maxCellIndex;++t)this._addCell(t)},_getCell:function(){if(0===this._cellPool.size()){var t=cc.instantiate(this.cell),e=new cc.Node;e.anchorX=.5,e.anchorY=.5;var i=0;if(this.ScrollModel===n.Horizontal){e.width=t.width;var o=Math.floor(this.content.height/t.height);e.height=this.content.height;for(var s=0;s<o;++s)t||(t=cc.instantiate(this.cell)),t.x=(t.anchorX-.5)*t.width,t.y=e.height/2-t.height*(1-t.anchorY)-i,i+=t.height,t.parent=e,t=null}else{e.height=t.height;o=Math.floor(this.content.width/t.width);e.width=this.content.width;for(s=0;s<o;++s)t||(t=cc.instantiate(this.cell)),t.y=(t.anchorY-.5)*t.height,t.x=-e.width/2+t.width*t.anchorX+i,i+=t.width,t.parent=e,t=null}this._cellPool.put(e)}return t=this._cellPool.get()},_getCellSize:function(){var t=this._getCell(),e=t.getContentSize();return this._cellPool.put(t),e},_getGroupCellCount:function(){var t=this._getCell(),e=t.childrenCount;return this._cellPool.put(t),e},clear:function(){for(var t=this.content.childrenCount-1;t>=0;--t)this._cellPool.put(this.content.children[t]);this._cellCount=0,this._showCellCount=0},reload:function(t){void 0!==t&&(this._data=t);for(var e=this.content.childrenCount-1;e>=0;--e)this._initCell(this.content.children[e],!0)},_getCellPoolCacheName:function(){return this.ScrollModel===n.Horizontal?this.cell.name+"h"+this.content.height:this.cell.name+"w"+this.content.width},_initTableView:function(){this._cellPool&&this.clear();var t=this._getCellPoolCacheName();l._cellPoolCache[t]||(l._cellPoolCache[t]=new cc.NodePool("viewCell")),this._cellPool=l._cellPoolCache[t],this._cellSize=this._getCellSize(),this._groupCellCount=this._getGroupCellCount(),this._count=Math.ceil(this._paramCount/this._groupCellCount),this.ScrollModel===n.Horizontal?(this._view.width=this.node.width,this._view.x=(this._view.anchorX-this.node.anchorX)*this._view.width,this._cellCount=Math.ceil(this._view.width/this._cellSize.width)+1,this.ViewType===c.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.width/this._cellSize.width):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.width=this._count*this._cellSize.width,this.stopAutoScroll(),this.scrollToLeft()):(this._view.height=this.node.height,this._view.y=(this._view.anchorY-this.node.anchorY)*this._view.height,this._cellCount=Math.ceil(this._view.height/this._cellSize.height)+1,this.ViewType===c.Flip?this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount,this._pageTotal=1):(this._pageTotal=Math.ceil(this._count/(this._cellCount-1)),this._count=this._pageTotal*(this._cellCount-1),this._showCellCount=this._cellCount-1):this._cellCount>this._count?(this.isFill?this._cellCount=Math.floor(this._view.height/this._cellSize.height):this._cellCount=this._count,this._showCellCount=this._cellCount):this._showCellCount=this._cellCount-1,this.content.height=this._count*this._cellSize.height,this.stopAutoScroll(),this.scrollToTop()),this._changePageNum(1-this._page),this._lastOffset=this.getScrollOffset(),this._minCellIndex=0,this._maxCellIndex=this._cellCount-1,this._addCellsToView()},initTableView:function(t,e){this._paramCount=t,this._data=e,this.ScrollModel===n.Horizontal?(this.horizontal=!0,this.vertical=!1):(this.vertical=!0,this.horizontal=!1),this._view=this.content.parent,this.verticalScrollBar&&this.verticalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.horizontalScrollBar&&this.horizontalScrollBar.node.on("size-changed",function(){this._updateScrollBar(this._getHowMuchOutOfBoundary())},this),this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),this._initTableView()},_onTouchBegan:function(t,e){this._super(t,e),this._touchstart(t)},_onTouchMoved:function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(t,e)){var i=t.touch;if(this.content&&this._handleMoveLogic(i),this.cancelInnerEvents){if(r(i.getLocation(),i.getStartLocation()).mag()>7&&!this._touchMoved&&t.target!==this.node){var n=new cc.Event.EventTouch(t.getTouches(),t.bubbles);n.type=cc.Node.EventType.TOUCH_CANCEL,n.touch=t.touch,n.simulate=!0,t.target.emit(cc.Node.EventType.TOUCH_CANCEL,n),this._touchMoved=!0}this._stopPropagationIfTargetIsMe(t),this._touchmove(t)}}},_onTouchEnded:function(t,e){this._super(t,e),this._touchend(t)},_onTouchCancelled:function(t,e){this._super(t,e),this._touchend(t)},stopAutoScroll:function(){this._scrollDirection=o.None,this._super()},scrollToBottom:function(t,e){this._scrollDirection=o.Up,this._super(t,e)},scrollToTop:function(t,e){this._scrollDirection=o.Down,this._super(t,e)},scrollToLeft:function(t,e){this._scrollDirection=o.Rigth,this._super(t,e)},scrollToRight:function(t,e){this._scrollDirection=o.Left,this._super(t,e)},scrollToOffset:function(t,e,i){var s=r(t,this.getScrollOffset());this.ScrollModel===n.Horizontal?s.x>0?this._scrollDirection=o.Left:s.x<0&&(this._scrollDirection=o.Rigth):s.y>0?this._scrollDirection=o.Up:s.y<0&&(this._scrollDirection=o.Down),this._super(t,e,i)},addScrollEvent:function(t,e,i){var n=new cc.Component.EventHandler;n.target=t,n.component=e,n.handler=i,this.scrollEvents.push(n)},removeScrollEvent:function(t){for(var e in this.scrollEvents){if(this.scrollEvents[e].target===t)return void this.scrollEvents.splice(e,1)}},clearScrollEvent:function(){this.scrollEvents=[]},addPageEvent:function(t,e,i){var n=new cc.Component.EventHandler;n.target=t,n.component=e,n.handler=i,this.pageChangeEvents.push(n)},removePageEvent:function(t){for(var e=0;e<this.pageChangeEvents.length;e++){if(this.pageChangeEvents[e].target===t)return void this.pageChangeEvents.splice(e,1)}},clearPageEvent:function(){this.pageChangeEvents=[]},scrollToNextPage:function(){this.scrollToPage(this._page+1)},scrollToLastPage:function(){this.scrollToPage(this._page-1)},scrollToPage:function(t){if(this.ViewType===c.Flip&&t!==this._page&&!(t<1||t>this._pageTotal)){var e=.3*Math.abs(t-this._page);this._changePageNum(t-this._page);var i=this._view.width,n=this._view.height;i=(this._page-1)*i,n=(this._page-1)*n,this.scrollToOffset({x:i,y:n},e)}},getCells:function(t){var e=[],i=function t(e,i){if(e.length<=1)return e;for(var n=Math.floor(e.length/2),o=e[n],s=[],c=[],r=0;r<e.length;r++)r!==n&&(i?i(e[r],o)?s.push(e[r]):c.push(e[r]):e[r]<=o?s.push(e[r]):c.push(e[r]));return t(s,i).concat([o],t(c,i))}(this.content.children,function(t,e){return t._cellIndex<e._cellIndex});for(var n in i){var o=i[n];for(var s in o.children)e.push(o.children[s])}t(e)},getData:function(){return this._data},getGroupsRange:function(t){for(var e=[],i=this._minCellIndex;i<=this._maxCellIndex;i++)e.push(i);t(e)},_changePageNum:function(t){this._page+=t,this._page<=0?this._page=1:this._page>this._pageTotal&&(this._page=this._pageTotal);for(var e=0;e<this.pageChangeEvents.length;e++){this.pageChangeEvents[e].emit([this._page,this._pageTotal])}},_touchstart:function(t){this.ScrollModel===n.Horizontal?this.horizontal=!1:this.vertical=!1},_touchmove:function(t){if(this.horizontal===this.vertical){var e=t.getStartLocation(),i=t.getLocation();if(this.ScrollModel===n.Horizontal){if(Math.abs(i.x-e.x)<=7)return}else if(Math.abs(i.y-e.y)<=7)return;this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0}},_touchend:function(t){this.ScrollModel===n.Horizontal?this.horizontal=!0:this.vertical=!0,this.ViewType===c.Flip&&this._pageTotal>1&&this._pageMove(t)},_pageMove:function(t){var e=this._view.width,i=this._view.height;if(this.ViewType===c.Flip){var s=this.getScrollOffset(),r=this.getMaxScrollOffset();if(this.ScrollModel===n.Horizontal){if(s.x>=0||s.x<=-r.x)return;if(i=0,Math.abs(t.getLocation().x-t.getStartLocation().x)>this._view.width/4)if(this._scrollDirection===o.Left){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===o.Rigth){if(!(this._page>1))return;this._changePageNum(-1)}}else{if(s.y>=r.y||s.y<=0)return;if(e=0,Math.abs(t.getLocation().y-t.getStartLocation().y)>this._view.height/4)if(this._scrollDirection===o.Up){if(!(this._page<this._pageTotal))return;this._changePageNum(1)}else if(this._scrollDirection===o.Down){if(!(this._page>1))return;this._changePageNum(-1)}}e=(this._page-1)*e,i=(this._page-1)*i,this.scrollToOffset({x:e,y:i},.3)}},_getBoundingBoxToWorld:function(t){var e=t.convertToWorldSpace(cc.p(0,0));return cc.rect(e.x,e.y,t.width,t.height)},_updateCells:function(){if(this.ScrollModel===n.Horizontal){if(this._scrollDirection===o.Left){if(this._maxCellIndex<this._count-1){var t=this._getBoundingBoxToWorld(this._view);do{var e=a(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(e)).xMax<=t.xMin))break;e.x=a(this.content,this._maxCellIndex).x+e.width,this._minCellIndex++,this._maxCellIndex++,i.xMax+(this._maxCellIndex-this._minCellIndex+1)*e.width>t.xMin&&(this._setCellAttr(e,this._maxCellIndex),this._initCell(e))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===o.Rigth&&this._minCellIndex>0){t=this._getBoundingBoxToWorld(this._view);do{e=a(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(e)).xMin>=t.xMax))break;e.x=a(this.content,this._minCellIndex).x-e.width,this._minCellIndex--,this._maxCellIndex--,i.xMin-(this._maxCellIndex-this._minCellIndex+1)*e.width<t.xMax&&(this._setCellAttr(e,this._minCellIndex),this._initCell(e))}while(0!==this._minCellIndex)}}else if(this._scrollDirection===o.Up){if(this._maxCellIndex<this._count-1){t=this._getBoundingBoxToWorld(this._view);do{e=a(this.content,this._minCellIndex);if(!((i=this._getBoundingBoxToWorld(e)).yMin>=t.yMax))break;e.y=a(this.content,this._maxCellIndex).y-e.height,this._minCellIndex++,this._maxCellIndex++,i.yMin-(this._maxCellIndex-this._minCellIndex+1)*e.height<t.yMax&&(this._setCellAttr(e,this._maxCellIndex),this._initCell(e))}while(this._maxCellIndex!==this._count-1)}}else if(this._scrollDirection===o.Down&&this._minCellIndex>0){t=this._getBoundingBoxToWorld(this._view);do{var i;e=a(this.content,this._maxCellIndex);if(!((i=this._getBoundingBoxToWorld(e)).yMax<=t.yMin))break;e.y=a(this.content,this._minCellIndex).y+e.height,this._minCellIndex--,this._maxCellIndex--,i.yMax+(this._maxCellIndex-this._minCellIndex+1)*e.width>t.yMin&&(this._setCellAttr(e,this._minCellIndex),this._initCell(e))}while(0!==this._minCellIndex)}},_getScrollDirection:function(){var t=this.getScrollOffset(),e=this._lastOffset;this._lastOffset=t,t=r(t,e),this.ScrollModel===n.Horizontal?t.x>0?this._scrollDirection=o.Rigth:t.x<0?this._scrollDirection=o.Left:this._scrollDirection=o.None:t.y<0?this._scrollDirection=o.Down:t.y>0?this._scrollDirection=o.Up:this._scrollDirection=o.None},update:function(t){this._super(t),this._cellCount!==this._showCellCount&&1!==this._pageTotal&&(this._getScrollDirection(),this._updateCells())}});l._tableView=[],l.reload=function(){for(var t in l._tableView)l._tableView[t].reload()},l.clear=function(){for(var t in l._tableView)l._tableView[t].clear()},cc.tableView=e.export=l,cc._RF.pop()},{}],viewCell:[function(t,e,i){"use strict";cc._RF.push(e,"99bb9PxAjREK4zcHrUsxER+","viewCell"),cc.Class({extends:cc.Component,properties:{tableView:{default:null,visible:!1},_isCellInit_:!1,_longClicked_:!1},_cellAddMethodToNode_:function(){this.node.clicked=this.clicked.bind(this)},_cellAddTouch_:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){!0===this.node.active&&0!==this.node.opacity&&(this._longClicked_||(this._longClicked_=!0,this.scheduleOnce(this._longClicked,1.5)))},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_END,function(){this.clicked(),this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){this._longClicked_&&(this._longClicked_=!1,this.unschedule(this._longClicked))},this)},_cellInit_:function(t){this.tableView=t,this._isCellInit_||(this._cellAddMethodToNode_(),this._cellAddTouch_(),this._isCellInit_=!0)},_longClicked:function(){this._longClicked_=!1,this.node.emit(cc.Node.EventType.TOUCH_CANCEL),this.longClicked()},longClicked:function(){},clicked:function(){},init:function(t,e,i,n){}}),cc._RF.pop()},{}]},{},["AudioPlayer","IAPData","PaymentInfo","PlayerInfo","ProductInfo","AdsStatus","PaymentCode","LinePhysicsCollider","tableView","viewCell","AdsManager","AnalyseManager","CrossPromManager","GCManager","LocalizationManager","NotificationManager","RateManager","ShareManager","StoreManager","PlayerMan","DialogManager","ModalLayer","Storage","AudioHelper","Utils","Wheel","Config","ConfigMan","Ball","GameStep","gamePrepare","AudioMan","Game","GameScene","LevelScene","LoadingScene","MenuScene","PassScene","SkinScene","LevelCell","SkinCell","TopUI"]);